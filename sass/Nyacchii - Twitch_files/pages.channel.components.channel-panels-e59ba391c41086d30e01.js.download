(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{"/4rI":function(e,t,n){},"/ZC1":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("q1tI"),a=n("6LIJ"),r=n("hnjF"),s=(n("sL9O"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDraggingOver:!1},t.onDragEnter=function(e){e.preventDefault(),t.setState({isDraggingOver:!0})},t.onDragLeave=function(e){e.preventDefault(),t.setState({isDraggingOver:!1})},t.onFileInputChange=function(e){e.preventDefault(),t.finalizeSelections(e.target.files),e.target.value=""},t.onFileDrop=function(e){e.preventDefault(),t.setState({isDraggingOver:!1}),t.finalizeSelections(e.dataTransfer.files)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(a.a,{dragOver:this.state.isDraggingOver,error:this.props.error},o.createElement(r.g,{position:r.j.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:r.o.Above},o.createElement("input",{"data-a-target":"file-picker-input","data-test-selector":"file-picker-input",className:"drag-and-drop-file-picker__input",accept:this.props.allowedFileTypes.join(","),multiple:this.props.multiFile||!1,onChange:this.onFileInputChange,type:"file",onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onDrop:this.onFileDrop})),this.props.children)},t.prototype.finalizeSelections=function(e){e&&this.props.onFilesSubmitted(Array.from(e))},t}(o.Component))},"0HeA":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var i,o,a=n("/7QA"),r=n("DMoW"),s=n("2xye");function l(e){a.o.track(s.SpadeEventType.PanelRecommendationsRender,{active_panel_extensions:e.activePanelExtensions,channel_id:e.channelID,user_agent:navigator.userAgent})}!function(e){e.Default="default",e.Extension="extension"}(o||(o={}));var c=((i={})[r.Xb.DEFAULT]=o.Default,i[r.Xb.EXTENSION]=o.Extension,i);function d(e,t){a.o.track(e,{panel_id:t.panelID,panel_type:c[t.panelType],channel_id:t.channelID,panel_target:t.panelTarget||null})}function u(e){a.o.track(s.SpadeEventType.PanelsEditModeToggle,{action:e.editModeOn?"on":"off",channel:e.channelLogin,channel_id:e.channelID,user_agent:navigator.userAgent})}},"1IJ0":function(e,t,n){"use strict";var i=n("mrSG"),o=n("q1tI"),a=n("Ty5D"),r=n("/7QA"),s=n("2xye"),l=n("22qk"),c=n("Ws8v"),d=n("X2PJ"),u=n("hnjF"),p=n("i4Ys"),m=n("sUnt"),h=n("IbuL"),f=n("C7sF"),g=n("+80q"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.internalTrackingMediums=[s.PageviewMedium.Channel,s.PageviewMedium.ExtensionCategory,s.PageviewMedium.ExtensionConfiguration,s.PageviewMedium.ExtensionDiscovery,s.PageviewMedium.ExtensionInstalledModal,s.PageviewMedium.ExtensionManagement,s.PageviewMedium.ExtensionManagerCarousel,s.PageviewMedium.ExtensionPage,s.PageviewMedium.ExtensionSearch],t.goBack=function(){var e=t.props,n=e.channelLogin,i=e.location,o=e.history;!n||i.state&&t.internalTrackingMediums.includes(i.state.medium)?o.goBack():o.push(Object(l.c)(n))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.showBackLink;return o.createElement(c.a,{background:d.a.Alt2,display:u.d.Flex},n&&o.createElement(c.a,{border:!0,color:d.c.Link,display:u.d.Flex,flexGrow:0},o.createElement(p.a,{ariaLabel:Object(r.d)("Navigate to previous page","ExtensionPageHeader"),onClick:this.goBack},o.createElement(m.a,{padding:{x:1}},o.createElement(h.a,{asset:f.a.AngleLeft})))),o.createElement(c.a,{border:!0,display:u.d.Flex,flexGrow:1,padding:2},o.createElement(g.a,{type:g.e.H4},t)))},t}(o.Component),y=Object(a.j)(v);n.d(t,"a",(function(){return y}))},"1pP+":function(e,t,n){},"1uty":function(e,t,n){"use strict";var i="_erd";function o(e){return e[i]}e.exports={initState:function(e){return e[i]={},o(e)},getState:o,cleanState:function(e){delete e[i]}}},"1z7r":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionConfigureApplyExtensionActivations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ApplyExtensionActivationsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"applyExtensionActivations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requiredActions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canActivate"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:294}};n.loc.source={body:"mutation ExtensionConfigureApplyExtensionActivations ($input: ApplyExtensionActivationsInput!) {\napplyExtensionActivations(input: $input) {\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nname\nversion\n}\nrequiredActions {\ntype\n}\nself {\ncanActivate\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionConfigureApplyExtensionActivations=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionConfigureApplyExtensionActivations")},"22qk":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return u}));var i=n("tLDJ");function o(e,t){return"/"+(Object(i.x)()?"extensions":"ext")+"/"+p(e,t)}function a(e,t,n){return{pathname:""+s(e),search:"?configure=true&extensionID="+p(t,n)}}function r(e){return Object(i.x)()?"/u/"+e+"/extensions":"/"+e+"/dashboard/extensions"}function s(e){return Object(i.x)()?"/u/"+e+"/extensions/manage":"/"+e+"/dashboard/extensions/manage"}function l(e){return Object(i.x)()?"/u/"+e+"/extensions/whitelisted":"/"+e+"/dashboard/extensions/whitelisted"}function c(e,t){return{pathname:Object(i.x)()?"/u/"+e+"/extensions/permissions":"/"+e+"/dashboard/extensions/permissions",state:t}}function d(e){return"/"+(Object(i.x)()?"extensions":"ext")+"/categories/"+e}function u(e){var t=encodeURIComponent(e);return"/"+(Object(i.x)()?"extensions":"ext")+"/search?q="+t}function p(e,t){return t?e+"-"+t:e}},"3OWR":function(e,t,n){var i=n("MrPd"),o=n("juv8"),a=n("LsHQ"),r=n("MMmD"),s=n("6sVZ"),l=n("7GkX"),c=Object.prototype.hasOwnProperty,d=a((function(e,t){if(s(t)||r(t))o(t,l(t),e);else for(var n in t)c.call(t,n)&&i(e,n,t[n])}));e.exports=d},"4Oe1":function(e,t,n){var i=n("YO3V");e.exports=function(e){return i(e)?void 0:e}},"5IFo":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return i})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return E}));var i,o,a=n("/7QA"),r=n("2xye");function s(e){var t={category_id:e.categoryID,extension_id:e.extensionClientID,extension_version:e.extensionVersion,list_position:e.listPosition,location:e.location};a.o.track(r.SpadeEventType.ExtensionInstall,t)}function l(e){var t={extension_id:e.extensionClientID,content_index:e.extensionIndex,location:e.location};a.o.track(r.SpadeEventType.ExtensionCardImpression,t)}function c(e){if(e.extensionAnchor){var t={extension_anchor:e.extensionAnchor,extension_id:e.extensionClientID,extension_version:e.extensionVersion,channel_id:e.channelID,list_position:e.listPosition,location:e.location,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionActivate,t)}}function d(e){var t={extension_id:e.extensionClientID,extension_version:e.extensionVersion,medium:e.medium,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionConfigureView,t)}function u(e){var t={extension_id:e.extensionClientID,location:e.location,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionRecommendationInlineView,t)}function p(e){var t={extension_id:e.extensionClientID,medium:e.medium};a.o.track(r.SpadeEventType.ExtensionRecommendationModalView,t)}function m(e){var t={extension_id:e.extensionClientID,decline_method:e.declineMethod,location:e.location,num_clicks:e.timesDismissed,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionRecommendationModalDecline,t)}function h(e){var t={extension_id:e.extensionClientID,location:e.location,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionRecommendationDeclineUndo,t)}function f(e){var t={extension_id:e.extensionClientID,location:e.location,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionActivationStart,t)}function g(e){if(e.extensionAnchor){var t={extension_anchor:e.extensionAnchor,extension_id:e.extensionClientID,extension_version:e.extensionVersion,location:e.location};a.o.track(r.SpadeEventType.ExtensionDeactivate,t)}}function v(e){return{extension_id:e.extensionID,extension_version:e.extensionVersion,extension_anchor:e.anchor,extension_mode:e.mode,user_id:e.loginID,channel_id:e.channelID}}function y(e){a.o.track(r.SpadeEventType.ExtensionPopoutClicked,v(e))}function b(e){a.o.track(r.SpadeEventType.ExtensionPopinClicked,v(e))}function E(e){var t={action:e.isEnabled?"on":"off",extension_id:e.extensionClientID,stream_category:e.streamCategoryID};a.o.track(r.SpadeEventType.ExtensionDynamicManagementToggle,t)}!function(e){e.Button="button",e.ExitIcon="exit_icon",e.RemindLater="remind_me_later"}(i||(i={})),function(e){e.Open="open",e.Close="close",e.Save="save"}(o||(o={}))},"6LIJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),o=n.n(i),a=n("q1tI"),r=n("fNzW"),s=n("vCsY"),l=n("hnjF"),c=n("X2PJ"),d=n("Ws8v"),u=(n("/4rI"),function(e){var t={"tw-drop-zone":!0,"tw-drop-zone--over":e.dragOver,"tw-drop-zone--error":e.error,"tw-drop-zone--disabled":e.disabled};return a.createElement(d.a,o()({className:Object(r.a)(t)},Object(s.a)(e),{alignItems:l.b.Center,borderRadius:e.borderRadius,display:l.d.Flex,fullHeight:!0,fullWidth:!0,justifyContent:l.h.Center,position:l.j.Absolute,attachTop:!0,attachLeft:!0}),a.createElement("div",{className:"tw-drop-zone__content"},e.children))});u.displayName="DropZone",u.defaultProps={borderRadius:c.b.Medium},u.displayName="DropZone"},"6oOb":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.ADD_EMAIL=0]="ADD_EMAIL",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.CONFIRMATION=2]="CONFIRMATION"}(i||(i={}))},"7sSR":function(e,t,n){"use strict";var i=n("t3DW").forEach,o=n("W+U1"),a=n("Sa1T"),r=n("LO96"),s=n("UFhH"),l=n("q7TX"),c=n("GOnX"),d=n("wnTG"),u=n("1uty"),p=n("GNKm"),m=n("yUZ2");function h(e){return Array.isArray(e)||void 0!==e.length}function f(e){if(Array.isArray(e))return e;var t=[];return i(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=r(),y=s({idGenerator:n,stateHandler:u});t=y}var b=e.reporter;b||(b=l(!1===b));var E=v(e,"batchProcessor",d({reporter:b})),x={};x.callOnAdd=!!v(e,"callOnAdd",!0),x.debug=!!v(e,"debug",!1);var k,C=a(t),S=o({stateHandler:u}),w=v(e,"strategy","object"),I={reporter:b,batchProcessor:E,stateHandler:u,idHandler:t};if("scroll"===w&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),w="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),w="object")),"scroll"===w)k=m(I);else{if("object"!==w)throw new Error("Invalid strategy name: "+w);k=p(I)}var O={};return{listenTo:function(e,n,o){function a(e){var t=C.get(e);i(t,(function(t){t(e)}))}function r(e,t,n){C.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(g(n))n=[n];else{if(!h(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=f(n)}var s=0,l=v(e,"callOnAdd",x.callOnAdd),c=v(e,"onReady",(function(){})),d=v(e,"debug",x.debug);i(n,(function(e){u.getState(e)||(u.initState(e),t.set(e));var p=t.get(e);if(d&&b.log("Attaching listener to element",p,e),!S.isDetectable(e))return d&&b.log(p,"Not detectable."),S.isBusy(e)?(d&&b.log(p,"System busy making it detectable"),r(l,e,o),O[p]=O[p]||[],void O[p].push((function(){++s===n.length&&c()}))):(d&&b.log(p,"Making detectable..."),S.markBusy(e,!0),k.makeDetectable({debug:d},e,(function(e){if(d&&b.log(p,"onElementDetectable"),u.getState(e)){S.markAsDetectable(e),S.markBusy(e,!1),k.addListener(e,a),r(l,e,o);var t=u.getState(e);if(t&&t.startSize){var m=e.offsetWidth,h=e.offsetHeight;t.startSize.width===m&&t.startSize.height===h||a(e)}O[p]&&i(O[p],(function(e){e()}))}else d&&b.log(p,"Element uninstalled before being detectable.");delete O[p],++s===n.length&&c()})));d&&b.log(p,"Already detecable, adding listener."),r(l,e,o),s++})),s===n.length&&c()},removeListener:C.removeListener,removeAllListeners:C.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(g(e))e=[e];else{if(!h(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=f(e)}i(e,(function(e){C.removeAllListeners(e),k.uninstall(e),u.cleanState(e)}))}}}},"8sUD":function(e,t,n){},AfzZ:function(e,t,n){"use strict";var i,o=n("mrSG"),a=n("q1tI"),r=n("cZKs"),s=n("Ws8v"),l=n("X2PJ"),c=n("1hWM"),d=n("lBSt"),u=n("/MKj"),p=n("fvjX"),m=n("/7QA"),h=n("eJ65"),f=n("yR8l"),g=n("DMoW"),v=n("kRBY"),y=n("qCDY"),b=n("1IJ0"),E=n("EZh/"),x=n("5IFo"),k=n("sUnt"),C=n("hnjF"),S=n("uXHW"),w=n("L/cU"),I=n("fPaz"),O=n("AFv4"),D=n("+80q"),P=n("dEDE"),_=n("ygYM"),R=n("i4Ys"),T=n("PL8s"),N=n("X9a5");!function(e){e.ActivateButton="extension-configure-activate-button",e.ActivateDropdown="extension-configure-activate-dropdown"}(i||(i={}));var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasCardImageError:!1},t.onClickReplace=function(e){var n=e.currentTarget.dataset.slot;t.activateExtension(n)},t.onClickActivate=function(){t.activateExtension()},t.onCardImageError=function(){t.setState({hasCardImageError:!0})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channelID,n=e.extensionID,i=e.trackingContext,o=n.split("-"),a=o[0],r=o[1];this.fetchExtensions(t),Object(x.e)({extensionClientID:a,extensionVersion:r,medium:i.medium})},t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.channelLogin,i=e.includeActivateOption,o=e.languageCode,r=e.locale,d=this.findExtensionFromInstallations(),u=null;if(d){var p=d.extension;u=a.createElement(k.a,{display:C.d.Flex,flexDirection:C.e.Column,fullHeight:!0,fullWidth:!0},a.createElement(k.a,{padding:{bottom:1}},a.createElement(S.a,{row:!0,border:!1},a.createElement(w.a,{alt:p.name,src:this.state.hasCardImageError?m.a.defaultAvatarURL:p.iconUrl,aspect:I.c.Aspect1x1,size:w.b.Size6,onError:this.onCardImageError}),a.createElement(O.a,null,a.createElement(k.a,{padding:1},a.createElement(D.a,{type:D.e.H4},p.name),a.createElement(D.a,{type:D.e.Span,color:l.c.Alt2},Object(m.d)("Created by {extensionAuthor}",{extensionAuthor:p.authorName},"ExtensionConfigurePresentation")))))),a.createElement(k.a,{flexGrow:1},a.createElement(y.a,{channelID:t,channelLogin:n,className:"",extensionMode:c.ExtensionMode.Config,installation:d,languageCode:o,locale:r,login:n,loginID:t,isPopout:!1,isHidden:!1})))}else u=this.renderPlaceholders();var h=a.createElement(b.a,{channelLogin:n,showBackLink:!1,title:Object(m.d)("Configure","ExtensionConfigurePresentation")});return a.createElement(k.a,{padding:2,display:C.d.Flex,flexDirection:C.e.Column,fullHeight:!0},h,a.createElement(s.a,{borderRight:!0,borderLeft:!0,borderBottom:!0,padding:2,flexGrow:1},u),i&&this.renderFooter())},t.prototype.renderFooter=function(){var e=this,t=Object(m.d)("Activate","ExtensionConfigurePresentation"),n=a.createElement(P.a,{"data-test-selector":i.ActivateButton,onClick:this.onClickActivate},t),o=this.props.extensionConfigureData.currentUser;if(o&&o.installedExtensions){var r=o.installedExtensions.filter((function(e){return e.activationConfig.state===g.a.ACTIVE&&e.activationConfig.anchor===g.vb.PANEL}));r.length===E.c&&(n=a.createElement(h.a,null,a.createElement(P.a,{"data-test-selector":i.ActivateDropdown,dropdown:!0},t),a.createElement(_.a,{direction:_.b.TopRight,offsetY:"-0.1rem",noTail:!0},r.reduce((function(t,n){var i=n.extension,o=i.clientID,r=i.name,s=i.version;return e.props.extensionID!==o+"-"+s&&t.push(a.createElement(R.a,{blurAfterClick:!0,"data-slot":n.activationConfig.slot,key:n.id,onClick:e.onClickReplace},a.createElement(k.a,{padding:{x:1,y:.5}},Object(m.d)("Replace {extension}",{extension:r},"ExtensionConfigurePresentation")))),t}),[]))))}return a.createElement(s.a,{background:l.a.Alt2,display:C.d.Flex,justifyContent:C.h.End,border:!0,padding:2},n)},t.prototype.renderPlaceholders=function(){return a.createElement(k.a,{fullWidth:!0},a.createElement(k.a,{display:C.d.Flex,alignItems:C.b.Center,padding:{y:1}},a.createElement(k.a,null,a.createElement(T.a,{width:60,height:60})),a.createElement(k.a,{padding:{left:1}},a.createElement(T.a,{lineCount:2,width:200}))))},t.prototype.fetchExtensions=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,c.extensionService.getInstalledExtensions(e)];case 1:return t=n.sent(),this.setState({installedExtensions:Object(d.extensionInstallationsFromRest)(t)}),[2]}}))}))},t.prototype.findExtensionFromInstallations=function(){var e=this,t=this.state.installedExtensions;if(t)return t.find((function(t){var n=t.extension;return e.props.extensionID===n.clientId+"-"+n.version}))},t.prototype.activateExtension=function(e){var t=this.props,n=t.activateExtension,i=t.extensionID;n&&n(i,e)},t}(a.Component);var F=Object(p.d)(Object(u.b)((function(e){var t=Object(v.e)(e);return{channelID:t&&t.id||"",channelLogin:t&&t.login||"",languageCode:Object(v.b)(e),locale:Object(v.d)(e)}})),Object(f.a)(N,{name:"extensionConfigureData",options:{fetchPolicy:"network-only"}}))(j),A=(n("nH1N"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.activateExtension,n=e.extensionID,i=e.includeActivateOption,o=e.onClose,c=e.trackingContext;return a.createElement(s.a,{background:l.a.Base,className:"extension-configure-modal"},a.createElement(F,{extensionID:n,includeActivateOption:i,activateExtension:t,trackingContext:c}),a.createElement(r.a,{closeOnBackdropClick:!0,onClose:o}))},t}(a.Component));n.d(t,"a",(function(){return A}))},BaCc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_BitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};n.loc.source={body:"query ExtensionPanel_BitsBalance {\ncurrentUser {\nid\nbitsBalance\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionPanel_BitsBalance=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionPanel_BitsBalance")},CUlp:function(e,t,n){var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var a=n[o];i&&i[a]&&(this.off(e,a),delete i[a]),a.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=o)},"EZh/":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=3,o="extensions_dynamic_management",a="extension_content_recommendations"},EgbR:function(e,t,n){},EjwI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanelAuthoredExtensions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extensionClients"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:85}};n.loc.source={body:"query ExtensionPanelAuthoredExtensions {\nextensionClients {\nedges {\nnode {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionPanelAuthoredExtensions=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionPanelAuthoredExtensions")},EuHz:function(e,t,n){"use strict";n.r(t);var i=n("/MKj"),o=n("mrSG"),a=n("1hWM"),r=n("w09P"),s=n("q1tI"),l=n("pQUg"),c=n.n(l),d=n("YJCA"),u=n("fvjX"),p=n("/7QA"),m=n("yR8l"),h=n("geRD"),f=n("D7An"),g=n("DMoW"),v=n("5zC2"),y=n("w1PT"),b=n("1rIY"),E=Object(b.a)("ExtensionActionContext",{currentChannelID:null,currentActionRequest:null,currentActionRequestUI:null,sendActionResult:function(){return null}}),x=E.context,k=E.withContext,C=n("MU5F"),S=n("x7UT"),w=n("/aPz"),I=n("2xye"),O=n("6oOb"),D=n("8EUQ"),P=n("KriR");var _,R=n("TilG"),T=1e4;!function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Confirming=2]="Confirming",e[e.TimedOut=3]="TimedOut",e[e.Subscribed=4]="Subscribed",e[e.Cancelled=5]="Cancelled",e[e.Error=6]="Error",e[e.ProductNotAvailable=7]="ProductNotAvailable"}(_||(_={}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={checkoutProgress:O.a.NOT_STARTED,subscriptionState:_.NotStarted},t.onCheckoutModalClosed=function(){t.state.checkoutProgress!==O.a.CONFIRMATION&&t.setState({subscriptionState:_.Cancelled})},t.onCheckoutProgress=function(e){e===O.a.CONFIRMATION&&(t.waitForPubsubTimeout=setTimeout((function(){t.waitForPubsubTimeout=void 0,t.setState({subscriptionState:_.TimedOut})}),T),t.setState({subscriptionState:_.Confirming})),t.setState({checkoutProgress:e})},t}return Object(o.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props.currentSubscriptionData;if(n)if(this.state.subscriptionState!==_.Error&&n.error)this.setState({subscriptionState:_.Error});else if(this.state.subscriptionState!==_.NotStarted||n.loading){if(t.subscriptionState===this.state.subscriptionState){if(this.state.subscriptionState===_.Confirming){var i=this.didUserReceiveSubscription(e),o=!!this.props.pubsub.messages.entitlementMessage;i?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,this.setState({subscriptionState:_.Subscribed})):o&&this.waitForPubsubTimeout?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,n.refetch()):this.waitForPubsubTimeout||this.setState({subscriptionState:_.Cancelled})}return}switch(this.state.subscriptionState){case _.Confirming:n.refetch();break;case _.TimedOut:this.setState({subscriptionState:_.Confirming});break;case _.Subscribed:case _.Cancelled:case _.Error:case _.ProductNotAvailable:this.handleActionResult()}}else this.handleActionRequest()},t.prototype.render=function(){return null},t.prototype.didUserReceiveSubscription=function(e){var t=this.props.currentSubscriptionData,n=e.currentSubscriptionData;if(!t||!n)return!1;var i=t.user,o=n.user;if(!(i&&i.self&&o&&o.self))return!1;var a=null===o.self.subscriptionBenefit&&null!==i.self.subscriptionBenefit,r=!(!i.self.subscriptionBenefit||!o.self.subscriptionBenefit||i.self.subscriptionBenefit.tier===o.self.subscriptionBenefit.tier);return a||r},t.prototype.handleActionRequest=function(){var e=this.props,t=e.currentActionRequest,n=e.currentSubscriptionData;if(t&&n){var i=n.user;if(i&&i.subscriptionProducts&&i.self){var o=i.self.subscriptionBenefit&&i.self.subscriptionBenefit.tier,a=null;switch(t.options.tier){case C.ActionRequestSubTier.Upsell:var r=function(e,t){if(!t)return null;var n=t.filter((function(e){return null!==e})).sort((function(e,t){return e.tier<t.tier?-1:e.tier>t.tier?1:-0})),i=n.findIndex((function(t){return t.tier===e}));return null===e?n[0]:i===n.length-1?null:n[i+1]}(o,i.subscriptionProducts);r&&(a=r.name);break;default:var s=i.subscriptionProducts.find((function(e){return null!==e&&t.options.tier===e.tier}));s&&(a=s.name)}a?(this.setState({subscriptionState:_.InProgress}),this.openCheckout(a)):this.setState({subscriptionState:_.ProductNotAvailable})}}},t.prototype.handleActionResult=function(){this.props.sendActionResult({didSubscribe:this.state.subscriptionState===_.Subscribed})},t.prototype.openCheckout=function(e){var t=this.props,n=t.currentActionRequest,i=t.currentSubscriptionData,o=t.showSubscriptionCheckout;if(n&&i){var a=i.currentUser,r=i.user;p.o.track(I.SpadeEventType.ExtensionSubscribeToChannelActionInit,{action:n.options.tier,channel_id:r&&r.id||"",channel:r&&r.login||"",extension_id:n.extensionId,product_name:e,user_id:a&&a.id||"",user:a&&a.login||""}),D.a.clearSubscriptionCheckoutKeys(),p.n.set(D.a.SUB_CHECKOUT__PRODUCT_KEY,e),o({productName:e,onCheckoutProgress:this.onCheckoutProgress,onClose:this.onCheckoutModalClosed,trackingContext:{detail:n.extensionId,source:P.c.Extension}})}},t}(s.Component),j=Object(u.d)(Object(m.a)(R,{name:"currentSubscriptionData",options:function(e){return{variables:{channelID:e.currentChannelID}}},skip:function(e){return!e.currentActionRequest||!e.currentChannelID}}),Object(S.a)([{topic:function(e){return Object(w.U)(e.currentSubscriptionData&&e.currentSubscriptionData.currentUser&&e.currentSubscriptionData.currentUser.id||"")},mapMessageTypesToProps:{"*":"entitlementMessage"},skip:function(e){return!e.currentSubscriptionData||!e.currentSubscriptionData.currentUser||!e.currentSubscriptionData.currentUser.id}}]))(N);var F,A=Object(u.d)(k((function(e){return{currentActionRequest:e.currentActionRequest,currentChannelID:e.currentChannelID,sendActionResult:e.sendActionResult}})),Object(i.b)(null,(function(e){return Object(u.b)({showSubscriptionCheckout:y.a},e)})))(j),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1},t.handleModalRequest=function(e){var n=null,i=!1;switch(e.action){case a.FunctionAction.SubscribeToChannel:n=s.createElement(A,null),i=!0;break;default:return}t.setState({currentActionRequest:e,currentActionRequestUI:n,isGlobalRender:i})},t.sendActionResult=function(e){var n=t.state.currentActionRequest;n&&n.resultCallback&&n.resultCallback(e),t.setState({currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){a.extensionService.on(a.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.componentWillUnmount=function(){a.extensionService.off(a.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.render=function(){return s.createElement(x.Provider,{value:{currentChannelID:this.props.channelID,currentActionRequest:this.state.currentActionRequest,currentActionRequestUI:this.state.currentActionRequestUI,sendActionResult:this.sendActionResult}},this.state.isGlobalRender&&this.state.currentActionRequestUI,this.props.children)},t}(s.Component),B=n("OzNJ"),M=n("GnwI"),U=n("sUnt"),z=n("Ws8v"),W=n("X2PJ"),q=n("hnjF"),H=n("+80q"),V=n("K/KT"),G=n("7JxC"),Y=n("6x+I"),X=n("yMEX"),K=n("geji"),Q=n("JVUd"),J=n("0HeA"),Z=n("Jsra"),$=n("CGUg"),ee=n("vCsY");n("ZAO/");!function(e){e.Description="description_test_selector",e.Image="image_test_selector",e.Link="link_url_test_selector",e.Panel="channel_panel_test_selector",e.Title="title_test_selector"}(F||(F={}));var te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageURL:t.props.panel.imageURL,urlChanged:!1},t.onPanelImageError=function(){if(!t.state.urlChanged){var e=new URL(t.state.imageURL),n="";"static-cdn.jtvnw.net"===e.hostname?n="https://panels-images.twitch.tv/"+e.pathname.split("/")[2]:"panels-images.twitch.tv"===e.hostname&&(n="https://static-cdn.jtvnw.net/jtv_user_pictures"+e.pathname),t.setState({imageURL:n,urlChanged:!0})}},t.onDescriptionClick=function(e){var n=e.target;if("A"===n.nodeName){var i=n;t.trackClick(i.href)}},t.onImageClick=function(){t.props.panel.linkURL&&t.trackClick(t.props.panel.linkURL)},t.trackClick=function(e){var n=t.props.panel.id;n&&Object(J.a)(I.SpadeEventType.PanelClick,{panelID:n,channelID:t.props.channelID,panelType:t.props.panel.type,panelTarget:e})},t.trackImpression=function(){var e=t.props.panel.id;e&&Object(J.a)(I.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.render=function(){var e=this.state.imageURL,t=this.props.panel.imageURL?s.createElement("img",{"data-test-selector":F.Image,src:e,onError:this.onPanelImageError,alt:Object(p.d)("Panel Content","ChannelPanels")}):"";t&&this.props.panel.linkURL&&(t=s.createElement(Z.a,{to:this.props.panel.linkURL,onClick:this.onImageClick,targetBlank:!0,"data-test-selector":F.Link},t));var n=null;return this.props.panel.description&&(n=s.createElement("div",{onClick:this.onDescriptionClick,"data-test-selector":F.Description},s.createElement($.a,null,s.createElement(Y,Object(o.__assign)({source:Object(K.b)(this.props.panel.description)},K.a))))),s.createElement(X.a,{name:"DefaultPanel"},s.createElement(U.a,Object(o.__assign)({className:"default-panel",margin:{bottom:2,right:2},"data-test-selector":F.Panel},Object(ee.a)(this.props)),this.props.panel.title&&s.createElement(H.a,{type:H.e.H3,"data-test-selector":F.Title},this.props.panel.title),t,n))},t}(s.Component),ne=Object(u.d)(Object(Q.a)("DefaultPanel",{pixels:100}))(te),ie=n("TVJu"),oe=n("7d/q"),ae=n("C7sF"),re=n("b7S+"),se=n("7uM4"),le=n("hbnN"),ce=n("wUQP"),de=n("XDCx"),ue=n("qyxT"),pe=n("SN/u"),me=n("AfzZ"),he=n("MM5q"),fe=n("EZh/"),ge=n("5IFo"),ve=n("1z7r"),ye=n("T14b"),be=n("uufd");var Ee,xe,ke=n("22qk"),Ce=n("uXHW"),Se=n("L/cU"),we=n("fPaz"),Ie=n("AFv4"),Oe=n("dEDE"),De=(n("UeP2"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={extensionIcon:t.props.iconURL},t.installExtension=function(){var e=t.props,n=e.extensionID;(0,e.installExtension)(n)},t.onCardImageError=function(){t.setState({extensionIcon:p.a.defaultAvatarURL})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.impressionListener.registerImpressionCallback((function(){var t=e.props,n=t.extensionClientID,i=t.trackingContext;Object(ge.d)({extensionClientID:n,extensionIndex:i.contentIndex||0,location:i.location})}))},t.prototype.render=function(){var e=this.props,t=e.authorName,n=e.extensionClientID,i=e.extensionName,o=e.extensionVersion,a=e.isActivated,r=e.summary,l=e.trackingContext,c=this.state.extensionIcon,d=l.contentIndex,u=l.medium;return s.createElement(z.a,{background:W.a.Alt,border:!0,className:"extension-recommendation",display:q.d.Flex,flexDirection:q.e.Column,justifyContent:q.h.Between,padding:2},s.createElement(U.a,null,s.createElement(Ce.a,{row:!0,border:!1},s.createElement(Se.a,{alt:i,src:c,aspect:we.c.Aspect1x1,size:Se.b.Size6,onError:this.onCardImageError}),s.createElement(Ie.a,null,s.createElement(U.a,{padding:{left:1}},s.createElement(Z.a,{linkTo:{pathname:Object(ke.d)(n,o),state:{medium:u,content:I.PageviewContent.ExtensionCard,content_index:d}},targetBlank:!0},s.createElement(H.a,{type:H.e.Strong},i)),s.createElement(H.a,{color:W.c.Alt2},t)))),s.createElement(U.a,{className:"extension-recommendation__summary",overflow:q.i.Hidden,padding:{top:1}},s.createElement(H.a,null,r))),s.createElement(U.a,{padding:{top:1},textAlign:q.l.Center},s.createElement(Oe.a,{onClick:this.installExtension,type:Oe.d.Secondary},a?Object(p.d)("Configure","ExtensionRecommendationCard"):Object(p.d)("Activate","ExtensionRecommendationCard"))))},t}(s.Component)),Pe=(Ee="ExtensionRecommendationCard",xe={percentage:75},function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.hadImpression=!1,e.logger=p.k.withCategory("with-impression-listener"),e.setRef=function(t){return e.element=t},e.registerImpressionCallback=function(t){e.reportImpression=t},e}return Object(o.__extends)(n,t),n.prototype.componentDidMount=function(){xe&&void 0!==xe.percentage&&void 0!==xe.pixels?this.logger.warn("<"+Ee+" /> should only be initialized with percentage or pixel thresholds, not both"):this.unregister=this.props.registerReceiver(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){var t={impressionListener:{registerImpressionCallback:this.registerImpressionCallback}},n=xe&&xe.impressionWrapperClassName,i=n?{className:n}:{};return s.createElement("div",Object(o.__assign)({ref:this.setRef},i),s.createElement(e,Object(o.__assign)({},this.props,t)))},n.prototype.checkVisible=function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){return this.hadImpression||(t=this.isVisible(e))&&(this.hadImpression=t,this.reportImpression&&this.reportImpression()),[2]}))}))},n.prototype.isVisible=function(e){if(!this.element)return!1;var t=Object(be.a)(e),n=this.element.getBoundingClientRect();if(n.left<t.right&&n.right>t.left&&n.top<t.bottom&&n.bottom>t.top){if(!xe||0===xe.percentage||0===xe.pixels)return!0;var i=xe.percentage,o=xe.pixels,a=n.bottom-n.top,r=t.bottom-t.top,s=Math.min(t.bottom-n.top,a,r);if(o){if(a>=o)return s>=o;i=100}return!i||s/a*100>=i}return!1},n}(s.Component);return Object(ye.b)((function(e){return{registerReceiver:e.registerReceiver}}))(t)})(De),_e=(n("Go5+"),function(e){var t=e.channelLogin,n=e.trackingContext;return s.createElement(z.a,{background:W.a.Alt,border:!0,className:"view-all-extensions-card",display:q.d.Flex,alignItems:q.b.Center,justifyContent:q.h.Center,padding:2},s.createElement(Z.a,{linkTo:{pathname:Object(ke.c)(t),state:{medium:n.medium,content:I.PageviewContent.ExtensionCardViewAll}},targetBlank:!0},s.createElement(U.a,{display:q.d.Flex,alignItems:q.b.Center},s.createElement(H.a,{type:H.e.Span},Object(p.d)("View All Extensions","ViewAllCard"))," ",s.createElement(se.a,{asset:ae.a.Popout}))))});_e.displayName="ViewAllExtensionsCard";var Re=n("NN+d"),Te=n("rOlK"),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getExtensionsOrderingMemoized=Object(le.a)(t.getExtensionsOrdering),t.isRenderEventSent=!1,t.installExtension=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n,i,a,s,l,c,d,u,p,m,f,g;return Object(o.__generator)(this,(function(v){switch(v.label){case 0:return t=this.props,n=t.extensionRecommendationsData,i=t.installExtension,a=t.showExtensionErrorModal,(s=n.currentUser)&&s.id&&s.login?(l=s.installedExtensions||[],(c=l.find((function(t){return t.extension.id===e})))?(this.configureExtension(c.extension.clientID,c.extension.version),[3,4]):[3,1]):[2];case 1:return v.trys.push([1,3,,4]),[4,i(Object(h.a)({channelID:s.id,extensionID:e}))];case 2:return(d=v.sent().data).installExtension&&d.installExtension.installedExtension&&(u=d.installExtension.installedExtension,p=u.extension,m=p.clientID,f=p.id,g=p.version,Object(ge.g)({extensionClientID:m,extensionVersion:g,listPosition:this.getExtensionPosition(f),location:I.PageviewLocation.Channel}),Object(h.i)(Te,{},(function(e){return e.currentUser&&e.currentUser.installedExtensions?r(e,(function(e){return e.currentUser.installedExtensions}),(function(e){return Object(o.__spreadArrays)(e,[u])})):e})),this.configureExtension(m,g)),[3,4];case 3:return v.sent(),a(),[3,4];case 4:return[2]}}))}))},t.onCloseConfigure=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.getInstallationFromExtensionConfigureID(e))&&t.activationConfig.state===g.a.INACTIVE?[4,this.activateExtension(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.activateExtension=function(e,n){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,i,a,r,s,l,c,d,u;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(t=this.props,i=t.activatedPanelExtensions,a=t.extensionPanels,r=t.showExtensionErrorModal,!(s=this.getInstallationFromExtensionConfigureID(e))||s.activationConfig.state===g.a.ACTIVE)return this.props.closeModal(),[2];if(n)return[3,6];if((l=Object.keys(i)).length===fe.c)return[2];if(!(a.length===l.length))return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.createPanel()];case 2:return c=o.sent(),n=c.slotID,[3,4];case 3:return o.sent(),r(),[3,4];case 4:return[3,6];case 5:(d=a.find((function(e){return!l.includes(e.slotID)})))&&(n=d.slotID),o.label=6;case 6:return n?(u={installationID:s.id,panel:{slot:n}},[4,this.applyActivation(u)]):[3,8];case 7:o.sent(),this.props.closeModal(),o.label=8;case 8:return[2]}}))}))},t.applyActivation=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t,n,i,a,r,s,l,c;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(t=this.props,n=t.extensionRecommendationsData,i=t.showExtensionErrorModal,!(a=n.currentUser)||!a.id)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.applyExtensionActivations(Object(h.a)({activations:[e],channelID:a.id}))];case 2:return(r=o.sent().data).applyExtensionActivations?(s=r.applyExtensionActivations.installedExtensions.find((function(t){return t.id===e.installationID})))&&(l=s.activationConfig,c=s.extension,Object(ge.c)({channelID:a.id,extensionAnchor:l.anchor,extensionClientID:c.clientID,extensionVersion:c.version,listPosition:this.getExtensionPosition(c.id),location:I.PageviewLocation.Channel})):i(),[3,4];case 3:return o.sent(),i(),[3,4];case 4:return[2]}}))}))},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.trySendRenderEvent()},t.prototype.componentDidUpdate=function(){this.trySendRenderEvent()},t.prototype.render=function(){var e=this,t=this.props.extensionRecommendationsData,n=t.currentUser,i=t.extensionCategory,o=[];if(n&&n.login&&i&&i.extensions){var a=i.extensions.edges;return(o=this.getExtensionsOrderingMemoized(a.length).map((function(t,i){var o=a[t].node,r=(n.installedExtensions||[]).some((function(e){return e.extension.id===o.id&&e.activationConfig.state===g.a.ACTIVE}));return s.createElement(U.a,{padding:{right:1},key:o.id},s.createElement(Pe,{authorName:o.authorName,extensionClientID:o.clientID,extensionID:o.id,extensionName:o.name,extensionVersion:o.version,iconURL:o.iconURLs.square100,installExtension:e.installExtension,isActivated:r,summary:o.summary,trackingContext:{contentIndex:i,location:I.PageviewLocation.Channel,medium:I.PageviewMedium.Channel}}))}))).push(s.createElement(_e,{key:"view-all-extensions",channelLogin:n.login,trackingContext:{medium:I.PageviewMedium.Channel}})),s.createElement(pe.a,{items:o})}return null},t.prototype.trySendRenderEvent=function(){var e=this.props,t=e.activatedPanelExtensions,n=e.channelID,i=e.extensionRecommendationsData.extensionCategory;!this.isRenderEventSent&&i&&i.extensions&&(Object(J.b)({activePanelExtensions:Object.keys(t).length,channelID:n}),this.isRenderEventSent=!0)},t.prototype.configureExtension=function(e,t){var n=e+"-"+t;(0,this.props.showExtensionConfigureModal)({activateExtension:this.activateExtension,extensionID:n,includeActivateOption:!0,onClose:this.onCloseConfigure.bind(this,n),trackingContext:{medium:I.PageviewMedium.Channel}})},t.prototype.createPanel=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.props.extensionRecommendationsData.currentUser)&&e.id?[4,this.props.createPanel({channelID:e.id,type:g.Xb.EXTENSION})]:[2,Promise.reject("No user id.")];case 1:return[2,t.sent()]}}))}))},t.prototype.getInstallationFromExtensionConfigureID=function(e){var t=e.replace("-",":"),n=this.props.extensionRecommendationsData.currentUser;if(n&&n.installedExtensions)return n.installedExtensions.find((function(e){return e.extension.id===t}))},t.prototype.getExtensionPosition=function(e){var t=this.props.extensionRecommendationsData.extensionCategory,n=-1;if(t&&t.extensions){var i=t.extensions.edges;n=this.getExtensionsOrderingMemoized(i.length).findIndex((function(t){return i[t].node.id===e}))}return n},t.prototype.getExtensionsOrdering=function(e){var t=Array.from(Array(e).keys());return Object(ce.c)("shuffle_panel_extension_recommendations")&&Object(ue.a)(t),t},t}(s.Component);var je=Object(u.d)(Object(i.b)(null,(function(e){return Object(u.b)({closeModal:de.d,showExtensionConfigureModal:function(e){var t=Object(o.__rest)(e,[]);return Object(de.e)(me.a,t)},showExtensionErrorModal:function(){return Object(de.e)(he.a,{})}},e)})),Object(m.a)(Te,{name:"extensionRecommendationsData",options:function(e){return{variables:{categoryID:e.categoryID}}}}),Object(m.a)(Re,{name:"installExtension"}),Object(m.a)(ve,{name:"applyExtensionActivations"}))(Ne),Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCollapsed:!1},t._monetizedExperimentGroup=null,t.onToggleCollapse=function(){t.setState((function(e){return{isCollapsed:!e.isCollapsed}}))},t}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"monetizedExperimentGroup",{get:function(){return null===this._monetizedExperimentGroup&&(this._monetizedExperimentGroup=p.p.experiments.getAndTrackAssignment(f.c.ExtensionPanelRecommendationsMonetization)),this._monetizedExperimentGroup},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.activatedPanelExtensions,n=e.allowMonetizedExtensions,i=e.channelID,o=e.createPanel,a=e.extensionPanels,r=this.state.isCollapsed,l=Object(p.d)("Engage your community with panel extensions","PanelRecommendations"),c=Object(p.d)("To keep an audience and keep it growing you should always be on the lookout for new ways to engage with them. One way to do that is by installing Extensions on your channel. You can think of extensions as apps for your streams that give your community more ways to interact with you, each other, or what you're streaming.","PanelRecommendations"),d=s.createElement(Z.a,{to:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/"},Object(p.d)("Learn more.","PanelRecommendations")),u="ccca6a50-9191-47fb-bf41-a79b784e77d2";return n&&"test"===this.monetizedExperimentGroup&&(u="4f815e57-cdad-4bfa-8b69-900ce7455430"),s.createElement(z.a,{background:W.a.Base,border:!0,overflow:q.i.Hidden,padding:1,position:q.j.Relative},s.createElement(U.a,{display:q.d.Flex,alignItems:q.b.Start},s.createElement(oe.a,{ariaLabel:r?Object(p.d)("Expand","PanelRecommendations"):Object(p.d)("Collapse","PanelRecommendations"),icon:r?ae.a.AngleDown:ae.a.AngleUp,onClick:this.onToggleCollapse}),s.createElement(U.a,{padding:{left:1,right:2,top:.5}},s.createElement(U.a,{display:q.d.Flex,alignItems:q.b.Center},s.createElement(q.g,{padding:{right:1}},s.createElement(H.a,{bold:!0,type:H.e.H5},l)),s.createElement(re.a,{direction:re.c.Right,label:Object(p.d)("Only you can see this panel.","PanelRecommendations")},s.createElement(se.a,{asset:ae.a.Lock,height:15,width:15}))),!r&&s.createElement(U.a,{padding:{top:1}},s.createElement(H.a,{type:H.e.Span},c)," ",d))),!r&&s.createElement(U.a,{padding:{top:1}},s.createElement(je,{categoryID:u,channelID:i,createPanel:o,activatedPanelExtensions:t,extensionPanels:a})))},t}(s.Component),Ae=n("i4Ys"),Le=(n("8sUD"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCreatingDefaultPanel:!1,isCreatingExtensionPanel:!1,isTypeSelectionMode:!1,errorMessage:""},t.createDefaultPanel=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isCreatingDefaultPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:g.Xb.DEFAULT})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingDefaultPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Text/Image Panel, please try again.","CreatePanel"),isCreatingDefaultPanel:!1}),[3,4];case 4:return[2]}}))}))},t.createExtensionPanel=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isCreatingExtensionPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:g.Xb.EXTENSION})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingExtensionPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Extension Panel, please try again.","CreatePanel"),isCreatingExtensionPanel:!1}),[3,4];case 4:return[2]}}))}))},t.toggleSelectionMode=function(){t.setState({isTypeSelectionMode:!t.state.isTypeSelectionMode})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=s.createElement(Oe.a,{fullWidth:!0,icon:ae.a.NavSettings,onClick:this.createExtensionPanel,state:this.state.isCreatingExtensionPanel?Oe.c.Loading:Oe.c.Default,type:Oe.d.Secondary},Object(p.d)("Extension Panel","CreatePanel"));return this.state.isTypeSelectionMode?s.createElement(z.a,{border:!0,background:W.a.Alt2,className:"create-panel",margin:{bottom:2}},s.createElement(we.b,{ratio:we.c.Aspect3x4},s.createElement(U.a,{padding:1},this.state.errorMessage&&s.createElement(H.a,{color:W.c.Error},this.state.errorMessage),s.createElement(U.a,{margin:{y:1}},s.createElement(Oe.a,{fullWidth:!0,icon:ae.a.GridLayout,onClick:this.createDefaultPanel,state:this.state.isCreatingDefaultPanel?Oe.c.Loading:Oe.c.Default,type:Oe.d.Secondary},Object(p.d)("Add a Text or Image Panel","CreatePanel"))),this.props.canCreateExtensionPanel&&e))):s.createElement(z.a,{border:!0,background:W.a.Alt2,className:"create-panel",margin:{bottom:2}},s.createElement(Ae.a,{type:Ae.b.Alpha,onClick:this.toggleSelectionMode},s.createElement(we.b,{ratio:we.c.Aspect3x4},s.createElement(U.a,{display:q.d.Flex,alignItems:q.b.Center,justifyContent:q.h.Center,fullWidth:!0,fullHeight:!0},s.createElement(se.a,{asset:ae.a.Plus,height:100,width:100,type:se.b.Placeholder})))))},t}(s.Component)),Be=n("kRBY"),Me=n("KJdW"),Ue=n.n(Me),ze=n("/ZC1"),We=n("cZKs"),qe=n("KGBd");n("xVpv");var He=["image/*"],Ve={x:0,y:0,width:100,height:100},Ge={x:0,y:0,width:320,height:180},Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={base64Image:"",crop:Ve,error:"",file:void 0,isCropping:!1,pixelCrop:Ge},t.onFilesSubmitted=function(e){var n=e[0],i=new FileReader;i.onloadend=function(){var e=i.result,o=new Image;o.onload=function(){var i,a,r,s,l,c,d,u=(i=o,a=Ge.height,r=Ge.width,s=i.height,l=i.width,{percentCrop:{x:0,y:0,height:((c=s>a)?a:s)/s*100,width:((d=l>r)?r:l)/l*100},pixelCrop:{x:0,y:0,height:c?a:s,width:d?r:l}}),p=u.percentCrop,m=u.pixelCrop;t.setState({base64Image:e,crop:p,file:n,isCropping:!0,pixelCrop:m})},o.onerror=function(){t.setState({error:"Failed to read file"})},o.src=e},i.onerror=function(){t.setState({error:"Failed to read file"})},i.readAsDataURL(n)},t.onImageSelectionComplete=function(){var e=t.state,n=e.file,i=e.pixelCrop;n&&(t.props.onImageSelectionComplete({file:n,pixelCrop:i,previewSrc:Object(qe.a)(t.state.base64Image,t.state.pixelCrop.x,t.state.pixelCrop.y,t.state.pixelCrop.width,t.state.pixelCrop.height,t.state.pixelCrop.width,t.state.pixelCrop.height)}),t.props.onClose())},t.updateCrop=function(e,n){t.setState({crop:e,pixelCrop:n})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return s.createElement(z.a,{background:W.a.Base,className:"default-panel-image-picker",textAlign:q.l.Center},this.state.base64Image?this.renderImageCropper():this.renderFilePicker(),s.createElement(We.a,{closeOnBackdropClick:!this.state.isCropping}))},t.prototype.renderImageCropper=function(){return s.createElement(U.a,{padding:2},s.createElement(Ue.a,{src:this.state.base64Image,crop:this.state.crop,onChange:this.updateCrop,onComplete:this.updateCrop}),s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Row,margin:{top:1},justifyContent:q.h.Center},s.createElement(Oe.a,{onClick:this.onImageSelectionComplete},Object(p.d)("Done","DefaultPanelImagePickerComponent")),s.createElement(U.a,{margin:{left:1}},s.createElement(Oe.a,{onClick:this.props.onClose},Object(p.d)("Cancel","DefaultPanelImagePickerComponent")))))},t.prototype.renderFilePicker=function(){return s.createElement(we.b,{ratio:we.c.Aspect1x1},s.createElement(ze.a,{allowedFileTypes:He,multiFile:!1,onFilesSubmitted:this.onFilesSubmitted},s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Column},s.createElement(U.a,null,s.createElement(se.a,{asset:ae.a.Upload,type:se.b.Alt2,height:50,width:50})),s.createElement(H.a,{type:H.e.H3,color:W.c.Alt2,fontSize:W.d.Size4},Object(p.d)("Choose a file or drag it here.","DefaultPanelImagePickerComponent")))))},t}(s.Component);var Xe=Object(i.b)(null,(function(e){return Object(u.b)({onClose:de.d},e)}))(Ye),Ke=n("PZVp"),Qe=n("akKH"),Je=n("3aAs"),Ze=n("Kae6"),$e=n("b6Yk");function et(e,t){return Object(o.__awaiter)(this,void 0,Promise,(function(){var n,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,$e.a.post("/v5/users/"+e+"/upload_panel_image",{body:{height:t.height,width:t.width,left:t.x,top:t.y}})];case 1:return 200===(n=o.sent()).status&&n.body?[2,n.body]:[2,Promise.reject("Failed to fetch URL")];case 2:return i=o.sent(),[2,Promise.reject(i)];case 3:return[2]}}))}))}var tt;n("U0Fp");!function(e){e.AddImage="add_image_selector",e.SavePanel="save_default_panel_selector"}(tt||(tt={}));var nt,it=1e6;!function(e){e[e.ImageUploadFailed=0]="ImageUploadFailed",e[e.ImageUploadSizeFailed=1]="ImageUploadSizeFailed",e[e.Unexpected=2]="Unexpected"}(nt||(nt={}));var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={canSave:!1,description:t.props.panel.description||"",errorMessage:"",imagePreviewSRC:"",imageURL:t.props.panel.imageURL||"",isSaving:!1,linkURL:t.props.panel.linkURL||"",title:t.props.panel.title||""},t.handleImageSelectionChanged=function(e){t.setState({canSave:!0,errorMessage:"",imageCrop:e.pixelCrop,imageFile:e.file,imagePreviewSRC:e.previewSrc})},t.handleInputChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleDescriptionChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleSaveComplete=function(){t.setState({canSave:!1,errorMessage:"",isSaving:!1})},t.handleErrorMessage=function(e){var n;switch(e){case nt.ImageUploadFailed:n=Object(p.d)("Image Upload Failed. Please try again.","DefaultPanelEditComponent");break;case nt.ImageUploadSizeFailed:n=Object(p.d)("Please choose a file smaller than {maxFileSize}.",{maxFileSize:"1MB"},"DefaultPanelEditComponent");break;case nt.Unexpected:default:n=Object(p.d)("Something went wrong. Please try again.","DefaultPanelEditComponent")}t.setState({errorMessage:n,isSaving:!1})},t.savePanel=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:if(!this.state.canSave)return[3,6];if(this.setState({isSaving:!0}),e=this.state.imageFile,t=this.state.imageCrop,e&&t)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:this.props.panel.imageURL,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return n.sent(),this.handleSaveComplete(),[3,4];case 3:return n.sent(),this.handleErrorMessage(nt.Unexpected),[3,4];case 4:return[3,6];case 5:this.saveWithPanelImage(),n.label=6;case 6:return[2]}}))}))},t.saveWithPanelImage=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,r=this;return Object(o.__generator)(this,(function(s){switch(s.label){case 0:if(e=this.state.imageCrop,(t=this.state.imageFile).size>it)return this.handleErrorMessage(nt.ImageUploadSizeFailed),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,et(this.props.channelID,e)];case 2:return a=s.sent(),i=a.upload_id,n=a.url,[3,4];case 3:return s.sent(),[2,this.handleErrorMessage(nt.Unexpected)];case 4:return this.unsubscribe=p.l.subscribe({topic:Object(w.Q)(i),success:function(){var e,i;(e=n,i=t,fetch(e,{method:"PUT",body:new Blob([i])})).catch((function(){r.unsubscribe(),r.handleErrorMessage(nt.Unexpected)})),r.timeoutFunc=setTimeout((function(){r.unsubscribe(),r.handleErrorMessage(nt.ImageUploadFailed)}),1e4)},failure:function(){r.handleErrorMessage(nt.Unexpected)},onMessage:function(e){return Object(o.__awaiter)(r,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:if(e.upload_id!==i)return[3,8];switch(clearTimeout(this.timeoutFunc),e.status){case Ke.a.POSTPROCESS_COMPLETE:return[3,1];case Ke.a.FILE_SIZE_VALIDATION_FAILED:return[3,5]}return[3,6];case 1:return t.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:"https://panels-images.twitch.tv/panel-"+this.props.channelID+"-image-"+i,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return t.sent(),this.handleSaveComplete(),[3,4];case 3:return t.sent(),this.handleErrorMessage(nt.ImageUploadFailed),[3,4];case 4:return[3,7];case 5:return this.handleErrorMessage(nt.ImageUploadSizeFailed),[3,7];case 6:this.handleErrorMessage(nt.Unexpected),t.label=7;case 7:this.unsubscribe&&this.unsubscribe(),t.label=8;case 8:return[2]}}))}))}}),[2]}}))}))},t.showDefaultPanelImagePicker=function(){t.props.showDefaultPanelImagePicker({onImageSelectionComplete:t.handleImageSelectionChanged})},t}return Object(o.__extends)(t,e),t.prototype.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props.panel,t=Object(p.d)("Supports {markdownLink} (No HTML)",{markdownLink:s.createElement(Z.a,{linkTo:"https://help.twitch.tv/customer/portal/articles/839490-markdown-basics",targetBlank:!0},Object(p.d)("Markdown","DefaultPanelEditComponent"))},"DefaultPanelEditComponent");return s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Column,padding:1},s.createElement(U.a,{margin:{bottom:1}},s.createElement(Qe.a,{id:"panel-title",label:Object(p.d)("Panel Title","DefaultPanelEdit")},s.createElement(Je.a,{defaultValue:e.title||"",id:"panel-title",name:"title",onChange:this.handleInputChange,type:Je.c.Text}))),s.createElement(U.a,{margin:{bottom:1}},s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Row,justifyContent:q.h.Between,margin:{bottom:.5}},s.createElement(Oe.a,{onClick:this.showDefaultPanelImagePicker,"data-test-selector":tt.AddImage},Object(p.d)("Add Image","DefaultPanelEdit")),s.createElement("img",{className:"panel-preview-image",src:this.state.imagePreviewSRC?this.state.imagePreviewSRC:e.imageURL||""})),s.createElement(H.a,{type:H.e.P},Object(p.d)("Images will be scaled to 320px wide","DefaultPanelEdit"))),s.createElement(U.a,{margin:{bottom:1}},s.createElement(Qe.a,{id:"panel-link-url",label:Object(p.d)("Image Links To:","DefaultPanelEdit")},s.createElement(Je.a,{defaultValue:e.linkURL||"",id:"panel-link-url",name:"linkURL",onChange:this.handleInputChange,type:Je.c.Text}))),s.createElement(U.a,{flexGrow:1,margin:{bottom:1}},s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Row,justifyContent:q.h.Between,margin:{bottom:.5}},s.createElement(H.a,{type:H.e.Strong},Object(p.d)("Description:","DefaultPanelEdit")),s.createElement(U.a,null,t)),s.createElement(Ze.a,{defaultValue:e.description||"",id:"description",name:"description",noResize:!0,onChange:this.handleDescriptionChange,rows:7})),s.createElement(U.a,{textAlign:q.l.Right},s.createElement(Oe.a,{type:Oe.d.Text,onClick:this.props.removePanel},Object(p.d)("Remove","DefaultPanelEdit")),s.createElement(Oe.a,{"data-test-selector":tt.SavePanel,disabled:!this.state.canSave,onClick:this.savePanel,state:this.state.isSaving?Oe.c.Loading:Oe.c.Default},Object(p.d)("Submit","DefaultPanelEdit"))),s.createElement(U.a,{textAlign:q.l.Center},this.state.errorMessage&&s.createElement(H.a,{color:W.c.Error},this.state.errorMessage)))},t}(s.Component);var at,rt=Object(i.b)((function(e){return{authToken:Object(Be.a)(e)}}),(function(e){return{showDefaultPanelImagePicker:function(t){return e(Object(de.e)(Xe,t))}}}))(ot),st=n("uG/k"),lt=n("eJ65"),ct=n("ygYM");n("EgbR");!function(e){e.ExtensionManagement="extension-management",e.LearnMore="learn-more"}(at||(at={}));var dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackFormSelected:!1},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.state.feedbackFormSelected;return s.createElement(lt.a,null,s.createElement(oe.a,{icon:ae.a.More}),s.createElement(ct.a,{direction:ct.b.TopLeft,size:e?ct.c.Medium:ct.c.Small,offsetY:"-4px"},s.createElement(z.a,{textAlign:q.l.Left,padding:{top:.5,bottom:.5},color:W.c.Base},s.createElement(Ae.a,{"data-test-selector":at.ExtensionManagement,linkTo:Object(ke.e)(this.props.channelLogin),targetBlank:!0},s.createElement(U.a,{padding:{y:.5,x:1}},s.createElement(H.a,null,Object(p.d)("Extension Manager","ExtensionPanelHelpButton")))),s.createElement(Ae.a,{linkTo:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/",targetBlank:!0},s.createElement(U.a,{padding:{y:.5,x:1}},s.createElement(H.a,null,Object(p.d)("Creator Camp","ExtensionPanelHelpButton")))),s.createElement(Ae.a,{"data-test-selector":at.LearnMore,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",targetBlank:!0},s.createElement(U.a,{padding:{y:.5,x:1}},s.createElement(H.a,null,Object(p.d)("Learn More","ExtensionPanelHelpButton")))))))},t}(s.Component),ut=function(e){var t=e.channelLogin,n=e.children;return s.createElement(U.a,{display:q.d.Flex,fullWidth:!0,justifyContent:q.h.Between},s.createElement(dt,{channelLogin:t}),s.createElement(U.a,null,n))},pt=(n("b5uE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfigure=function(){var e=t.props,n=e.showExtensionConfigureModal,i=e.extensionInstallation;if(i){var o=i.extension;n({extensionID:o.id+"-"+o.version,includeActivateOption:!0,trackingContext:{medium:I.PageviewMedium.Channel}})}},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channelLogin,i=t.extensionInstallation,o=t.extensionPanelCount,a=t.panel,r=t.removePanel,l=Object(p.d)("Remove","ExtensionPanelEdit");if(i&&void 0!==o){var c=i.extension,d=c.iconUrls,u=c.name;e=s.createElement(s.Fragment,null,s.createElement(U.a,{flexGrow:1},s.createElement(U.a,{alignItems:q.b.Center,display:q.d.Flex,padding:{bottom:2,x:2}},s.createElement(st.a,{alt:u,className:"extension-panel-edit__extension-icon",src:d.square100}),s.createElement(U.a,{padding:{left:1}},s.createElement(H.a,{type:H.e.Strong},u))),s.createElement(H.a,null,Object(p.d)("Panel Extension {panelExtensionNumber} of {totalPanelExtensionsAvailable}",{panelExtensionNumber:o,totalPanelExtensionsAvailable:fe.c},"ExtensionPanelEdit"))),s.createElement(ut,{channelLogin:n},s.createElement(Oe.a,{type:Oe.d.Text,onClick:r},l),s.createElement(Oe.a,{onClick:this.onClickConfigure},Object(p.d)("Configure","ExtensionPanelEdit"))))}else{var m=Object(p.d)("This panel's name is: {panelName}",{panelName:s.createElement(H.a,{bold:!0,type:H.e.Span,transform:H.d.Uppercase},a.slotID)},"ExtensionPanelEdit");e=s.createElement(s.Fragment,null,s.createElement(U.a,{flexGrow:1},s.createElement(U.a,{padding:{bottom:2}},s.createElement(H.a,null,Object(p.d)("To add an Extension to this space, activate it in your Extension Manager.","Edit Extension Panel"))),s.createElement(U.a,{padding:{y:2}},s.createElement(Oe.a,{linkTo:Object(ke.e)(n)},Object(p.d)("Extension Manager","Edit Extension Panel"))),s.createElement(U.a,{padding:{y:2}},s.createElement(H.a,null,m))),s.createElement(ut,{channelLogin:n},s.createElement(Oe.a,{type:Oe.d.Text,onClick:r},l)))}return s.createElement(U.a,{alignItems:q.b.Center,display:q.d.Flex,flexDirection:q.e.Column,padding:1,textAlign:q.l.Center},s.createElement(U.a,{padding:4},s.createElement(se.a,{asset:ae.a.Extensions,type:se.b.Brand,height:40,width:40})),e)},t}(s.PureComponent));var mt,ht=Object(i.b)(null,(function(e){return Object(u.b)({showExtensionConfigureModal:function(e){var t=Object(o.__rest)(e,[]);return Object(de.e)(me.a,t)}},e)}))(pt),ft=(n("abgr"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRemoving:!1,showRemoveConfirmation:!1},t.logger=p.k.withCategory("EditPanel"),t.cancelRemovePanel=function(){t.setState({showRemoveConfirmation:!1})},t.confirmRemovePanel=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e;return Object(o.__generator)(this,(function(t){switch(t.label){case 0:this.setState({isRemoving:!0}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.deletePanel(this.props.panel)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.logger.warn("Failed to delete panel",e),this.setState({isRemoving:!1,showRemoveConfirmation:!1}),[3,4];case 4:return[2]}}))}))},t.removePanel=function(){t.setState({showRemoveConfirmation:!0})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=null;return"DefaultPanel"===this.props.panel.__typename?e=s.createElement(rt,{channelID:this.props.channelID,panel:this.props.panel,removePanel:this.removePanel,updatePanel:this.props.updatePanel}):"ExtensionPanel"===this.props.panel.__typename&&(e=s.createElement(ht,{channelLogin:this.props.channelLogin,extensionInstallation:this.props.extensionInstallation,extensionPanelCount:this.props.extensionPanelCount,panel:this.props.panel,removePanel:this.removePanel})),s.createElement(U.a,{position:q.j.Relative},this.state.showRemoveConfirmation&&this.renderRemovingOverlay(),s.createElement(z.a,{border:!0,background:W.a.Alt2,className:"edit-panel "+(this.props.isSorting?"edit-panel--sorting":""),margin:{bottom:2}},s.createElement(we.b,{ratio:we.c.Aspect3x4},s.createElement(U.a,{overflow:q.i.Auto,fullHeight:!0,fullWidth:!0},e))))},t.prototype.renderRemovingOverlay=function(){var e,t=this.props,n=t.extensionInstallation,i=t.isSorting;return e=n?Object(p.d)("Removing this panel will deactivate this extension. Are you sure you want to remove this panel?","EditPanel"):Object(p.d)("Are you sure you want to remove this panel?","EditPanel"),s.createElement(z.a,{border:!0,className:"edit-panel edit-panel--overlay "+(i?"edit-panel--sorting":""),position:q.j.Absolute,zIndex:q.o.Default},s.createElement(we.b,{ratio:we.c.Aspect3x4},s.createElement(U.a,{alignItems:q.b.Center,display:q.d.Flex,flexDirection:q.e.Column,justifyContent:q.h.Center,padding:2,textAlign:q.l.Center},s.createElement(H.a,{color:W.c.Overlay},e),s.createElement(U.a,{margin:{top:2}},s.createElement(Oe.a,{type:Oe.d.Text,onClick:this.cancelRemovePanel,overlay:!0},Object(p.d)("Cancel","EditPanel")),s.createElement(U.a,{display:q.d.InlineBlock,margin:{left:1}},s.createElement(Oe.a,{"data-test-selector":"confirm_delete_panel_selector",state:this.state.isRemoving?Oe.c.Loading:Oe.c.Default,onClick:this.confirmRemovePanel},Object(p.d)("Remove","EditPanel")))))))},t}(s.PureComponent)),gt=Object(d.b)((function(e){return s.createElement(U.a,{margin:{x:1}},s.createElement(ft,{channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:e.extensionInstallation,extensionPanelCount:e.extensionPanelCount,panel:e.panel,deletePanel:e.deletePanel,updatePanel:e.updatePanel,isSorting:e.isSorting}))})),vt=Object(d.a)((function(e){var t=0,n=e.items.map((function(n,i){var o,a=!1;return"ExtensionPanel"===n.__typename&&(o=e.extensionSlots[n.slotID],a=!0,t++),s.createElement(gt,{key:n.id,channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:o,extensionPanelCount:a?t:void 0,updatePanel:e.updatePanel,deletePanel:e.deletePanel,isSorting:e.isSorting,index:i,panel:n})})),i=t<fe.c,o=s.createElement(U.a,{margin:{x:.5}},s.createElement(Le,{key:"create-panel",canCreateExtensionPanel:i,createPanel:e.createPanel,channelID:e.channelID}));return s.createElement(U.a,{display:q.d.Flex,flexDirection:q.e.Row,flexWrap:q.f.Wrap,justifyContent:q.h.Center},n,o)})),yt=n("Oz8M"),bt=n("saS/"),Et=n("Rsna"),xt=n("ry+o"),kt=n("Og0W");n("1pP+");!function(e){e.Container="channel_panels_container_selector",e.EmptyMessage="no_panels_message",e.Masonry="masonry_container_selector",e.EditToggle="channel_panels_toggle_selector",e.Sortable="sortable_edit_panel_list_selector"}(mt||(mt={}));var Ct={columnWidth:320,fitWidth:!0,gutter:20,horizontalOrder:!0,transitionDuration:"0"},St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={destroyedExtensions:[],isEditMode:!1,isSorting:!1,popout:{},prevChannelID:t.props.channelID},t.showingRecommendations=!1,t.onSortStart=function(){t.setState({isSorting:!0})},t.toggleEditMode=function(){t.setState((function(e){var n=!e.isEditMode;return Object(J.c)({channelID:t.props.channelID,channelLogin:t.props.channelLogin,editModeOn:n}),{isEditMode:n}}))},t.onExtensionPoppedOut=function(e,n,i){var a;t.setState({popout:Object(o.__assign)(Object(o.__assign)({},t.state.popout),(a={},a[Object(B.d)(e,n)]=i,a))})},t.onExtensionPopoutRestored=function(e,n){var i=Object(B.d)(e,n),o=t.state.popout[i];o&&o.window&&o.window.close();var a=Object.keys(t.state.popout).filter((function(e){return e!==i})).reduce((function(e,n){return e[n]=t.state.popout[n],e}),{});t.setState({popout:a})},t.layoutMasonry=function(){t.masonryInstance&&t.masonryInstance.layout&&t.masonryInstance.layout()},t.saveMasonryRef=function(e){e&&(t.masonryInstance=e.masonry)},t.updatePanelOrder=function(e){t.setState({isSorting:!1});var n=t.props.channelPanelsData.user;if(n){var i=Object(d.d)(n.panels,e.oldIndex,e.newIndex),o=i.map((function(e){return e&&e.id})).filter((function(e){return e}));t.props.orderPanels(Object(h.a)({ids:o})),Object(h.i)(kt,{id:t.props.channelID},(function(e){return e.user?r(e,(function(e){return e.user.panels}),(function(){return i})):e}))}},t.createPanel=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.createPanel(Object(h.a)(Object(o.__assign)(Object(o.__assign)({},e),{channelID:this.props.channelID})))];case 1:return t=n.sent().data,Object(h.i)(kt,{id:this.props.channelID},(function(e){return t.createPanel&&e.user?r(e,(function(e){return e.user.panels}),(function(e){return Object(o.__spreadArrays)(e,[t.createPanel.panel])})):e})),t.createPanel?[2,t.createPanel.panel]:[2,Promise.reject("Failed to create panel")];case 2:return n.sent(),[2,Promise.reject("Failed to create panel")];case 3:return[2]}}))}))},t.deletePanel=function(e){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.props.deletePanel(Object(h.a)(e))];case 1:return t.sent(),Object(h.i)(kt,{id:this.props.channelID},(function(t){return t.user?r(t,(function(e){return e.user.panels}),(function(t){return t.filter((function(t){return t&&t.id!==e.id}))})):t})),[2]}}))}))},t.updatePanel=function(e){return t.props.updatePanel(Object(h.a)(e))},t.canEditPanels=function(){var e=t.props.channelPanelsData,n=e.currentUser,i=e.user;return!!(n&&n.id&&i&&n.id===i.id)||!!(n&&n.roles&&n.roles.isSiteAdmin)},t}return Object(o.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelID!==t.prevChannelID?{isEditMode:!1,prevChannelID:e.channelID}:null},t.prototype.componentDidUpdate=function(e){this.props.channelPanelsData.loading||this.props.latencyTracking.reportInteractive(),e.rightColumnExpanded===this.props.rightColumnExpanded&&e.sideNavExpanded===this.props.sideNavExpanded||this.layoutMasonry()},t.prototype.render=function(){var e,t=this.props.extensionsForChannel.fetchedChannelID,n=this.props.channelPanelsData,i=n.error,o=n.loading,a=n.user,r=null;o||this.props.channelID!==t?e=s.createElement(G.a,null):r=this.state.isEditMode?s.createElement(U.a,null,this.renderEditPanels()):i||!a||a&&!a.panels.length?s.createElement(z.a,{color:W.c.Alt2,padding:{y:5},textAlign:q.l.Center,"data-test-selector":mt.EmptyMessage},s.createElement(H.a,{italic:!0,fontSize:W.d.Size4},Object(p.d)("It's empty in here","ChannelPanels"))):s.createElement(c.a,{className:"channel-panels-container",options:Ct,"data-test-selector":mt.Masonry,ref:this.saveMasonryRef},this.renderPanels());var l=s.createElement(U.a,{display:q.d.Flex,margin:{bottom:2},"data-test-selector":mt.EditToggle},s.createElement(V.a,{id:"edit-panels-toggle",onChange:this.toggleEditMode}),s.createElement(U.a,{margin:{left:1}},s.createElement(H.a,null,Object(p.d)("Edit Panels","Channel Panels"))));return e||(e=s.createElement(L,{channelID:this.props.channelID},s.createElement(U.a,{className:"channel-panels","data-test-selector":mt.Container},this.canEditPanels()&&l,r))),s.createElement("div",null,e)},t.prototype.renderEditPanels=function(){var e=this.props.channelPanelsData.user;if(!e||!e.id||!e.login)return null;var t=this.getExtensionPanelSlots(),n=e.panels.filter((function(e){return e})),i=n.filter((function(e){return e.type===g.Xb.EXTENSION}));return s.createElement(M.LatencyTrackingConfig,{isNonCritical:!0},this.shouldShowRecommendations()&&s.createElement(Fe,{activatedPanelExtensions:t,allowMonetizedExtensions:!!e.cheer,channelID:this.props.channelID,createPanel:this.createPanel,extensionPanels:i}),s.createElement(U.a,{padding:{top:2}},s.createElement(vt,{axis:"xy",channelID:e.id,channelLogin:e.login,createPanel:this.createPanel,deletePanel:this.deletePanel,distance:20,extensionSlots:t,isSorting:this.state.isSorting,items:n,onSortEnd:this.updatePanelOrder,onSortStart:this.onSortStart,updatePanel:this.updatePanel})))},t.prototype.shouldShowRecommendations=function(){if(this.showingRecommendations)return!0;var e=this.props.channelPanelsData,t=e.currentUser,n=e.user;if(!n||!n.id||!n.login)return null;if(!(!!t&&t.id===n.id))return!1;var i=this.getExtensionPanelSlots(),o=Object.keys(i).length,a=(!!n.cheer||0===o)&&"test"===p.p.experiments.getAndTrackAssignment(f.c.ExtensionPanelRecommendations);return this.showingRecommendations=a,this.showingRecommendations},t.prototype.renderPanels=function(){var e=this,t=this.props.channelPanelsData,n=t.currentUser,i=t.user;if(!i||!i.id||!i.login)return null;var o=i.id,r=i.login,l=this.getExtensionPanelSlots();return i.panels.map((function(t,i){if(!t)return null;if("ExtensionPanel"===t.__typename&&t.slotID){var c=l[t.slotID];if(c&&!e.state.destroyedExtensions.includes(c.id)){var d=void 0!==e.state.popout[Object(B.e)(c)];return s.createElement("div",{key:t.id},s.createElement(ie.a,{channelID:o,channelLogin:r,installation:c,isFramePoppedOut:d,isPopout:!1,login:n&&n.login,loginID:n&&n.id,mode:a.ExtensionMode.Viewer,onExtensionLoaded:e.layoutMasonry,onExtensionPopoutClosed:e.onExtensionPopoutRestored,onExtensionPoppedOut:e.onExtensionPoppedOut,panel:t}))}}else if("DefaultPanel"===t.__typename)return s.createElement(ne,{channelID:o,"data-a-target":"panel-"+i,key:t.id,panel:t})}))},t.prototype.getExtensionPanelSlots=function(){var e=this.props.extensionsForChannel.installedExtensions;return e?e.reduce((function(e,t){var n=t.activationConfig;return t.extension.token&&n.state===a.ExtensionActivationStatus.Active&&n.anchor===a.ExtensionAnchor.Panel&&(e[n.slot]=t),e}),{}):{}},t}(s.Component),wt=Object(u.d)(Object(M.withLatencyTracking)("ChannelPanels"),Object(m.a)(kt,{name:"channelPanelsData",options:function(e){return{variables:{id:e.channelID}}}}),Object(m.a)(yt,{name:"createPanel"}),Object(m.a)(bt,{name:"deletePanel"}),Object(m.a)(xt,{name:"updatePanel"}),Object(m.a)(Et,{name:"orderPanels"}),Object(v.c)({name:"extensionsForChannel",options:function(e){return{variables:{channelID:e.channelID}}}}))(St);var It=Object(i.b)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,sideNavExpanded:e.ui.sideNavExpanded}}))(wt);n.d(t,"PublicProps",(function(){})),n.d(t,"ChannelPanels",(function(){return It}))},FK8P:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&m())}function m(){if(!d){var e=s(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||d||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return function(){return e}}var o=function(){};o.thatReturns=i,o.thatReturnsFalse=i(!1),o.thatReturnsTrue=i(!0),o.thatReturnsNull=i(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,i,o,a,r,s,l){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[i,o,a,r,s,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var i,o=n(1);"production"!==t.env.NODE_ENV&&(i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=0,a="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}},o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];i.apply(void 0,[t].concat(o))}}),e.exports=o}).call(t,n(0))},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(6),r=l(a),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function d(e){var t=void 0,n=void 0;return e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),{x:t,y:n}}function u(e,t,n){return Math.min(Math.max(e,t),n)}function p(e){return!e.width||!e.height}function m(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function h(e,t){var n=t.naturalWidth/t.naturalHeight,i=o({},e);return i.width?i.height=i.width/i.aspect*n:i.height&&(i.width=i.height*i.aspect/n),i.y+i.height>100&&(i.height=100-i.y,i.width=i.height*i.aspect/n),i.x+i.width>100&&(i.width=100-i.x,i.height=i.width/i.aspect*n),i}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDocMouseTouchMove=n.onDocMouseTouchMove.bind(n),n.onDocMouseTouchEnd=n.onDocMouseTouchEnd.bind(n),n.onImageLoad=n.onImageLoad.bind(n),n.onComponentMouseTouchDown=n.onComponentMouseTouchDown.bind(n),n.onComponentKeyDown=n.onComponentKeyDown.bind(n),n.onCropMouseTouchDown=n.onCropMouseTouchDown.bind(n),n.state={crop:n.nextCropState(e.crop)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("mousemove",this.onDocMouseTouchMove),document.addEventListener("touchmove",this.onDocMouseTouchMove),document.addEventListener("mouseup",this.onDocMouseTouchEnd),document.addEventListener("touchend",this.onDocMouseTouchEnd),document.addEventListener("touchcancel",this.onDocMouseTouchEnd),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var e=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=e}else this.onImageLoad(this.imageRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.crop){var n=this.nextCropState(e.crop),i=n.aspect!==this.state.crop.aspect;n.aspect&&(n=h(n,this.imageRef)),this.cropInvalid=p(n),this.setState({crop:n},(function(){i&&t.props.onAspectRatioChange(n,t.getPixelCrop(n))}))}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onDocMouseTouchMove),document.removeEventListener("touchmove",this.onDocMouseTouchMove),document.removeEventListener("mouseup",this.onDocMouseTouchEnd),document.removeEventListener("touchend",this.onDocMouseTouchEnd),document.removeEventListener("touchcancel",this.onDocMouseTouchEnd)}},{key:"onDocMouseTouchMove",value:function(e){if(this.props.onDragStart(),!this.props.disabled&&this.mouseDownOnCrop){e.preventDefault();var t=this.state.crop,n=this.evData,i=d(e);n.isResize&&t.aspect&&n.cropOffset&&(i.y=this.straightenYPath(i.x));var o=i.x-n.clientStartX;n.xDiffPc=o/n.imageWidth*100;var a=i.y-n.clientStartY;n.yDiffPc=a/n.imageHeight*100,n.isResize?this.resizeCrop():this.dragCrop(),this.cropInvalid=!1,this.props.onChange(t,this.getPixelCrop(t)),this.setState({crop:t})}}},{key:"onCropMouseTouchDown",value:function(e){if(!this.props.disabled){e.preventDefault();var t=this.state.crop,n=d(e);this.componentRef.focus();var i=e.target.dataset.ord,o="nw"===i||"w"===i||"sw"===i,a="nw"===i||"n"===i||"ne"===i,r=void 0;t.aspect&&(r=c(this.cropSelectRef)),this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:o?t.x+t.width:t.x,cropStartY:a?t.y+t.height:t.y,xInversed:o,yInversed:a,xCrossOver:o,yCrossOver:a,startXCrossOver:o,startYCrossOver:a,isResize:e.target!==this.cropSelectRef,ord:i,cropOffset:r},this.mouseDownOnCrop=!0}}},{key:"onComponentMouseTouchDown",value:function(e){if((e.target===this.imageCopyRef||e.target===this.cropWrapperRef)&&!this.props.disabled){e.preventDefault();var t=!0===this.props.keepSelection?{}:this.state.crop,n=d(e);this.componentRef.focus();var i=c(this.imageRef),o=(n.x-i.left)/this.imageRef.width*100,a=(n.y-i.top)/this.imageRef.height*100;t.x=o,t.y=a,t.width=0,t.height=0,this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:t.x,cropStartY:t.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},this.mouseDownOnCrop=!0,this.setState({newCropIsBeingDrawn:!0})}}},{key:"onComponentKeyDown",value:function(e){var n=this;if(!this.props.disabled){var i=e.which,o=this.state.crop,a=!1;o.width&&o.height&&(i===t.arrowKey.left?(o.x-=t.nudgeStep,a=!0):i===t.arrowKey.right?(o.x+=t.nudgeStep,a=!0):i===t.arrowKey.up?(o.y-=t.nudgeStep,a=!0):i===t.arrowKey.down&&(o.y+=t.nudgeStep,a=!0),a&&(e.preventDefault(),o.x=u(o.x,0,100-o.width),o.y=u(o.y,0,100-o.height),this.setState({crop:o},(function(){n.props.onChange(o,n.getPixelCrop(o)),n.props.onComplete(o,n.getPixelCrop(o))}))))}}},{key:"onDocMouseTouchEnd",value:function(){if(this.props.onDragEnd(),!this.props.disabled&&this.mouseDownOnCrop){var e=this.state.crop;this.cropInvalid=p(e),this.mouseDownOnCrop=!1,this.props.onComplete(e,this.getPixelCrop(e)),this.setState({newCropIsBeingDrawn:!1})}}},{key:"onImageLoad",value:function(e){var t=this.state.crop;t.aspect&&(t=h(t,e),this.cropInvalid=p(t),this.setState({crop:t})),this.props.onImageLoaded&&this.props.onImageLoaded(t,e,this.getPixelCrop(t))}},{key:"getPixelCrop",value:function(e){return{x:Math.round(this.imageRef.width*(e.x/100)),y:Math.round(this.imageRef.height*(e.y/100)),width:Math.round(this.imageRef.width*(e.width/100)),height:Math.round(this.imageRef.height*(e.height/100))}}},{key:"getCropStyle",value:function(){return{top:this.state.crop.y+"%",left:this.state.crop.x+"%",width:this.state.crop.width+"%",height:this.state.crop.height+"%"}}},{key:"getNewSize",value:function(){var e=this.state.crop,t=this.evData,n=t.imageWidth/t.imageHeight,i=t.cropStartWidth+t.xDiffPc;t.xCrossOver&&(i=Math.abs(i));var o=this.props.maxWidth;this.state.newCropIsBeingDrawn||(o=u(o=["nw","w","sw"].indexOf(t.inversedXOrd||t.ord)>-1?t.cropStartX:100-t.cropStartX,100,this.props.maxWidth)),i=u(i,this.props.minWidth,o);var a=void 0;a=e.aspect?i/e.aspect*n:t.cropStartHeight+t.yDiffPc,t.yCrossOver&&(a=Math.min(Math.abs(a),t.cropStartY));var r=this.props.maxHeight;return this.state.newCropIsBeingDrawn||(r=u(r=["nw","n","ne"].indexOf(t.inversedYOrd||t.ord)>-1?t.cropStartY:100-t.cropStartY,100,this.props.maxHeight)),a=u(a,this.props.minHeight,r),e.aspect&&(i=u(a*e.aspect/n,0,100)),{width:i,height:a}}},{key:"dragCrop",value:function(){var e=this.state.crop,t=this.evData;e.x=u(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=u(t.cropStartY+t.yDiffPc,0,100-e.height)}},{key:"resizeCrop",value:function(){var e=this.state.crop,n=this.evData,i=n.ord;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var o=this.getNewSize(),a=n.cropStartX,r=n.cropStartY;n.xCrossOver&&(a=e.x+(e.width-o.width)),n.yCrossOver&&(r=!1===n.lastYCrossover?e.y-o.height:e.y+(e.height-o.height)),e.aspect||t.xyOrds.indexOf(i)>-1?(e.x=u(a,0,100-o.width),e.y=u(r,0,100-o.height),e.width=o.width,e.height=o.height):t.xOrds.indexOf(i)>-1?(e.x=u(a,0,100-o.width),e.width=o.width):t.yOrds.indexOf(i)>-1&&(e.y=u(r,0,100-o.height),e.height=o.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck()}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,i=t.cropOffset,o=t.cropStartWidth/100*t.imageWidth,a=t.cropStartHeight/100*t.imageHeight,r=void 0,s=void 0;return"nw"===n||"se"===n?(r=a/o,s=i.top-i.left*r):(r=-a/o,s=i.top+(a-i.left*r)),r*e+s}},{key:"createCropSelection",value:function(){var e=this,t=this.props.disabled,n=this.getCropStyle();return r.default.createElement("div",{ref:function(t){return e.cropSelectRef=t},style:n,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},!t&&r.default.createElement("div",{className:"ReactCrop__drag-elements"},r.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),r.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),r.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),r.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),r.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})))}},{key:"nextCropState",value:function(e){var n=o({},t.defaultCrop,e);return this.cropInvalid=p(n),n}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&m(e.ord),e.inversedYOrd=!!n&&m(e.ord)}},{key:"render",value:function(){var e=this,t=void 0;this.cropInvalid||(t=this.createCropSelection());var n=["ReactCrop"];return this.state.newCropIsBeingDrawn&&n.push("ReactCrop--new-crop"),this.state.crop.aspect&&n.push("ReactCrop--fixed-aspect"),this.props.disabled&&n.push("ReactCrop--disabled"),r.default.createElement("div",{ref:function(t){return e.componentRef=t},className:n.join(" "),onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"1",onKeyDown:this.onComponentKeyDown},r.default.createElement("img",{ref:function(t){return e.imageRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image",src:this.props.src,onLoad:function(t){return e.onImageLoad(t.target)},alt:this.props.imageAlt}),r.default.createElement("div",{className:"ReactCrop__crop-wrapper",ref:function(t){return e.cropWrapperRef=t}},r.default.createElement("img",{ref:function(t){return e.imageCopyRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image-copy",src:this.props.src,alt:this.props.imageAlt}),t),this.props.children)}}]),t}(a.Component);f.propTypes={src:s.default.string.isRequired,crop:s.default.shape({x:s.default.number,y:s.default.number,width:s.default.number,height:s.default.number}),imageAlt:s.default.string,minWidth:s.default.number,minHeight:s.default.number,maxWidth:s.default.number,maxHeight:s.default.number,keepSelection:s.default.bool,onChange:s.default.func,onComplete:s.default.func,onImageLoaded:s.default.func,onAspectRatioChange:s.default.func,onDragStart:s.default.func,onDragEnd:s.default.func,disabled:s.default.bool,crossorigin:s.default.string,children:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node])},f.defaultProps={crop:void 0,crossorigin:void 0,disabled:!1,imageAlt:"",maxWidth:100,maxHeight:100,minWidth:0,minHeight:0,keepSelection:!1,onChange:function(){},onComplete:function(){},onImageLoaded:function(){},onAspectRatioChange:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0},f.xOrds=["e","w"],f.yOrds=["n","s"],f.xyOrds=["nw","ne","se","sw"],f.arrowKey={left:37,up:38,right:39,down:40},f.nudgeStep=.2,f.defaultCrop={x:0,y:0,width:0,height:0,aspect:!1},e.exports=f},function(e,t){e.exports=n("q1tI")},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(8)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}),!0)}else e.exports=n(10)()}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var i=n(1),o=n(2),a=n(4),r=n(3),s=n(9);e.exports=function(e,n){var l="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";var d="<<anonymous>>",u={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:h(i.thatReturnsNull),arrayOf:function(e){return h((function(t,n,i,o,a){if("function"!=typeof e)return new m("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new m("Invalid "+o+" `"+a+"` of type `"+v(s)+"` supplied to `"+i+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,i,o,a+"["+l+"]",r);if(c instanceof Error)return c}return null}))},element:h((function(t,n,i,o,a){var r=t[n];return e(r)?null:new m("Invalid "+o+" `"+a+"` of type `"+v(r)+"` supplied to `"+i+"`, expected a single ReactElement.")})),instanceOf:function(e){return h((function(t,n,i,o,a){if(!(t[n]instanceof e)){var r=e.name||d;return new m("Invalid "+o+" `"+a+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return d;return e.constructor.name}(t[n])+"` supplied to `"+i+"`, expected instance of `"+r+"`.")}return null}))},node:h((function(e,t,n,i,o){return g(e[t])?null:new m("Invalid "+i+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return h((function(t,n,i,o,a){if("function"!=typeof e)return new m("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=t[n],l=v(s);if("object"!==l)return new m("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var d=e(s,c,i,o,a+"."+c,r);if(d instanceof Error)return d}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&a(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull;return h((function(t,n,i,o,a){for(var r=t[n],s=0;s<e.length;s++)if(p(r,e[s]))return null;return new m("Invalid "+o+" `"+a+"` of value `"+r+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")}))},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&a(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return a(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(o),n),i.thatReturnsNull}return h((function(t,n,i,o,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,i,o,a,r))return null}return new m("Invalid "+o+" `"+a+"` supplied to `"+i+"`.")}))},shape:function(e){return h((function(t,n,i,o,a){var s=t[n],l=v(s);if("object"!==l)return new m("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var u=d(s,c,i,o,a+"."+c,r);if(u)return u}}return null}))}};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function m(e){this.message=e,this.stack=""}function h(e){if("production"!==t.env.NODE_ENV)var i={},s=0;function l(l,c,u,p,h,f,g){if(p=p||d,f=f||u,g!==r)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=p+":"+u;!i[v]&&s<3&&(a(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,p),i[v]=!0,s++)}return null==c[u]?l?null===c[u]?new m("The "+h+" `"+f+"` is marked as required in `"+p+"`, but its value is `null`."):new m("The "+h+" `"+f+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,u,p,h,f)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function f(e){return h((function(t,n,i,o,a,r){var s=t[n];return v(s)!==e?new m("Invalid "+o+" `"+a+"` of type `"+y(s)+"` supplied to `"+i+"`, expected `"+e+"`."):null}))}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var n=function(e){var t=e&&(l&&e[l]||e[c]);if("function"==typeof t)return t}(t);if(!n)return!1;var i,o=n.call(t);if(n!==t.entries){for(;!(i=o.next()).done;)if(!g(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function y(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=y(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return m.prototype=Error.prototype,u.checkPropTypes=s,u.PropTypes=u,u}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var i=n(2),o=n(4),a=n(3),r={};e.exports=function(e,n,s,l,c){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var u;try{i("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",s,d),u=e[d](n,d,l,s,null,a)}catch(e){u=e}if(o(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,d,typeof u),u instanceof Error&&!(u.message in r)){r[u.message]=!0;var p=c?c():"";o(!1,"Failed %s type: %s%s",s,u.message,null!=p?p:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var i=n(1),o=n(2),a=n(3);e.exports=function(){function e(e,t,n,i,r,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=i,n.PropTypes=n,n}}])},GNKm:function(e,t,n){"use strict";var i=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function a(e){return o(e).object}return{makeDetectable:function(e,a,r){r||(r=a,a=e,e=null),(e=e||{}).debug,i.isIE(8)?r(a):function(e,a){var r="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",s=!1,l=window.getComputedStyle(e),c=e.offsetWidth,d=e.offsetHeight;function u(){function n(){if("static"===l.position){e.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,e,l,"top"),n(t,e,l,"right"),n(t,e,l,"bottom"),n(t,e,l,"left")}}""!==l.position&&(n(),s=!0);var c=document.createElement("object");c.style.cssText=r,c.tabIndex=-1,c.type="text/html",c.onload=function(){s||n(),function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout((function(){e(t,n)}),100)}(this,(function(t){a(e)}))},i.isIE()||(c.data="about:blank"),e.appendChild(c),o(e).object=c,i.isIE()&&(c.data="about:blank")}o(e).startSize={width:c,height:d},n?n.add(u):u()}(a,r)},addListener:function(e,t){if(!a(e))throw new Error("Element is not detectable by this strategy.");function n(){t(e)}i.isIE(8)?(o(e).object={proxy:n},e.attachEvent("onresize",n)):a(e).contentDocument.defaultView.addEventListener("resize",n)},uninstall:function(e){i.isIE(8)?e.detachEvent("onresize",o(e).object.proxy):e.removeChild(a(e)),delete o(e).object}}}},GOnX:function(e,t,n){"use strict";var i=e.exports={};i.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},i.isLegacyOpera=function(){return!!window.opera}},"Go5+":function(e,t,n){},Hy43:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp"),n("QK1G"),n("YVj6"),n("KK1e")],void 0===(o=function(e,t,n,i){return function(e,t,n,i,o){var a=e.console,r=e.jQuery,s=function(){},l=0,c={};function d(e,t){var n=i.getQueryElement(e);if(n){this.element=n,r&&(this.$element=r(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}d.namespace="outlayer",d.Item=o,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=d.prototype;function p(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}i.extend(u,t.prototype),u.option=function(e){i.extend(this.options,e)},u._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var a=new n(t[o],this);i.push(a)}return i},u._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},u.getItemElements=function(){return this.items.map((function(e){return e.element}))},u.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=n(this.element)},u._getMeasurement=function(e,t){var i,o=this.options[e];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[e]=i?n(i)[t]:o):this[e]=0},u.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},u._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},u._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},u.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=m[i]||1;return n*o}(e),this.stagger;this.stagger=0},u._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},u._getContainerSize=s,u._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},u._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(t&&o){var a=0;t.forEach((function(t){t.once(e,r)}))}else i();function r(){++a==o&&i()}},u.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),r)if(this.$element=this.$element||r(this.element),t){var o=r.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},u.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},u.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},u.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},u.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){i.removeFrom(this.stamps,e),this.unignore(e)}),this)},u._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},u._manageStamp=s,u._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e);return{left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom}},u.handleEvent=i.handleEvent,u.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},i.debounceMethod(d,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},u.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},u.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},u.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},u.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},u.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},u.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},u.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},u.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},u.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},u.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),i.removeFrom(this.items,e)}),this)},u.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},d.data=function(e){var t=(e=i.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},d.create=function(e,t){var n=p(d);return n.defaults=i.extend({},d.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},d.compatOptions),n.namespace=e,n.data=d.data,n.Item=p(o),i.htmlInit(n,e),r&&r.bridget&&r.bridget(e,n),n};var m={ms:1,s:1e3};return d.Item=o,d}(a,e,t,n,i)}.apply(t,i))||(e.exports=o)}(window)},JxAY:function(e,t,n){},KGBd:function(e,t,n){"use strict";function i(e,t,n,i,o,a,r){var s=document.createElement("canvas");s.width=a,s.height=r;var l=s.getContext("2d"),c="";if(l){var d=new Image;d.src=e,l.drawImage(d,t,n,i,o,0,0,a,r),c=s.toDataURL("image/png")}return s.remove(),c}n.d(t,"a",(function(){return i}))},KJdW:function(e,t,n){e.exports=n("FK8P")},KK1e:function(e,t,n){var i,o,a;window,o=[n("CUlp"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],r={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[r[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],a=parseFloat(i),r=parseFloat(o),s=this.layout.size;-1!=i.indexOf("%")&&(a=a/100*s.width),-1!=o.indexOf("%")&&(r=r/100*s.height),a=isNaN(a)?0:a,r=isNaN(r)?0:r,a-=t?s.paddingLeft:s.paddingRight,r-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=r},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",a=n?"left":"right",r=n?"right":"left",s=this.position.x+e[o];t[a]=this.getXValue(s),t[r]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",d=i?"bottom":"top",u=this.position.y+e[l];t[c]=this.getYValue(u),t[d]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var a=e-n,r=t-i,s={};s.transform=this.getTranslate(a,r),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+o.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var d={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=d[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?i.apply(t,o):i)||(e.exports=a)},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},LsHQ:function(e,t,n){var i=n("EA7m"),o=n("mv/X");e.exports=function(e){return i((function(t,n){var i=-1,a=n.length,r=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,s&&o(n[0],n[1],s)&&(r=a<3?void 0:r,a=1),t=Object(t);++i<a;){var l=n[i];l&&e(t,l,i,r)}return t}))}},MM5q:function(e,t,n){"use strict";var i=n("mrSG"),o=n("q1tI"),a=n("cZKs"),r=n("xPN0"),s=n("/7QA"),l=n("sUnt"),c=n("+80q"),d=function(){return o.createElement(l.a,null,o.createElement(c.a,null,Object(s.d)("There was an error. Please try again later.","ExtensionErrorModal")))};d.displayName="ExtensionErrorModalPresentation";var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(r.a,null,o.createElement(d,null),o.createElement(a.a,{closeOnBackdropClick:!0}))},t}(o.Component);n.d(t,"a",(function(){return u}))},NAeX:function(e,t,n){},"NN+d":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionRecommendationsInstallExtension"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InstallExtensionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installExtension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:221}};n.loc.source={body:"mutation ExtensionRecommendationsInstallExtension ($input: InstallExtensionInput!) {\ninstallExtension(input: $input) {\ninstalledExtension {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionRecommendationsInstallExtension=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionRecommendationsInstallExtension")},Og0W:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsPanel"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Panel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsDefaultPanel"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsExtensionPanel"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsExtensionPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsDefaultPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}],loc:{start:0,end:434}};n.loc.source={body:"query ChannelPanels($id: ID!) {\ncurrentUser {\nid\nlogin\nroles {\nisStaff\nisSiteAdmin\n}\n}\nuser(id: $id) {\nid\ncheer {\nid\n}\nlogin\npanels {\n...channelPanelsPanel\n}\n}\n}\nfragment channelPanelsPanel on Panel {\n...channelPanelsDefaultPanel\n...channelPanelsExtensionPanel\n}\nfragment channelPanelsExtensionPanel on ExtensionPanel {\nid\ntype\nslotID\n}\nfragment channelPanelsDefaultPanel on DefaultPanel {\nid\ntype\ntitle\nimageURL\nlinkURL\ndescription\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanels=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanels")},Oz8M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsCreatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsCreatePanel($input: CreatePanelInput!) {\ncreatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsCreatePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsCreatePanel")},OzNJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"f",(function(){return g}));var i,o,a,r=n("1hWM"),s=n("DMoW");function l(e){var t=[];return e.subscriptionsSupportLevel!==s.Ab.NONE&&t.push(i.ChannelReadSubscriptions),t}function c(e){return e.bitsSupportLevel?e.bitsSupportLevel:e.isBitsEnabled?s.wb.REQUIRED:s.wb.NONE}function d(e){var t=c(e);return t===s.wb.REQUIRED||t===s.wb.OPTIONAL?o.Bits:e.vendorCode&&e.sku?o.InExtensionPurchases:null}function u(e){var t=[];return e.component&&e.component.viewerURL&&t.push(s.vb.COMPONENT),e.panel&&e.panel.viewerURL&&t.push(s.vb.PANEL),e.videoOverlay&&e.videoOverlay.viewerURL&&t.push(s.vb.VIDEO_OVERLAY),t}function p(e){var t=[r.ExtensionPlatform.Web];return e.mobile&&e.mobile.viewerURL&&t.push(r.ExtensionPlatform.Mobile),t}function m(e,t){return e+":"+t}function h(e){return m(e.extension.id,e.extension.version)}function f(e){var t=!1;return e.requiredActions&&(t=e.requiredActions.some((function(e){return e.type===s.yb.REQUIRES_CONFIGURATION}))),t}function g(e,t){return c(e)===s.wb.OPTIONAL||e.hasChatSupport||e.subscriptionsSupportLevel===s.Ab.OPTIONAL||!!t.dynamicManagement&&t.dynamicManagement.length>0}!function(e){e.ChannelReadSubscriptions="channel:read:subscriptions"}(i||(i={})),function(e){e[e.Bits=0]="Bits",e[e.InExtensionPurchases=1]="InExtensionPurchases"}(o||(o={})),function(e){e[e.Deactivate=0]="Deactivate",e[e.Replace=1]="Replace",e[e.Uninstall=2]="Uninstall"}(a||(a={}))},PZVp:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.REQUESTED=0]="REQUESTED",e[e.POSTPROCESS_STARTED=1]="POSTPROCESS_STARTED",e[e.POSTPROCESS_COMPLETE=2]="POSTPROCESS_COMPLETE",e[e.COMPLETE=3]="COMPLETE",e[e.VALIDATION_FAILED=4]="VALIDATION_FAILED",e[e.POSTPROCESS_FAILED=5]="POSTPROCESS_FAILED",e[e.POSTPROCESS_RETRYING=6]="POSTPROCESS_RETRYING",e[e.FEATURE_SERVICE_FAILED=7]="FEATURE_SERVICE_FAILED",e[e.IS_IMAGE_VALIDATION_FAILED=110]="IS_IMAGE_VALIDATION_FAILED",e[e.ASPECT_RATIO_VALIDATION_FAILED=111]="ASPECT_RATIO_VALIDATION_FAILED",e[e.WIDTH_VALIDATION_FAILED=112]="WIDTH_VALIDATION_FAILED",e[e.HEIGHT_VALIDATION_FAILED=113]="HEIGHT_VALIDATION_FAILED",e[e.IMAGE_FORMAT_VALIDATION_FAILED=114]="IMAGE_FORMAT_VALIDATION_FAILED",e[e.FILE_SIZE_VALIDATION_FAILED=120]="FILE_SIZE_VALIDATION_FAILED",e[e.TRANSFORMATION_FAILED=210]="TRANSFORMATION_FAILED",e[e.PROCESSING_FAILED=220]="PROCESSING_FAILED"}(i||(i={}))},Puqe:function(e,t,n){var i=n("eUgh"),o=n("OBhP"),a=n("S7Xf"),r=n("4uTw"),s=n("juv8"),l=n("4Oe1"),c=n("xs/l"),d=n("G6z8"),u=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=i(t,(function(t){return t=r(t,e),c||(c=t.length>1),t})),s(e,d(e),n),c&&(n=o(n,7,l));for(var u=t.length;u--;)a(n,t[u]);return n}));e.exports=u},QK1G:function(e,t,n){var i;!function(o,a){"use strict";void 0===(i=function(){return function(){function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function o(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}var a,r=!1;function s(t){if(function(){if(!r){r=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=o(t);s.isBoxSizeOuter=a=200==e(i.width),n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=o(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++){e[n[t]]=0}return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var d=c.isBorderBox="border-box"==l.boxSizing,u=0;u<i;u++){var p=n[u],m=l[p],h=parseFloat(m);c[p]=isNaN(h)?0:h}var f=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,E=c.borderTopWidth+c.borderBottomWidth,x=d&&a,k=e(l.width);!1!==k&&(c.width=k+(x?0:f+b));var C=e(l.height);return!1!==C&&(c.height=C+(x?0:g+E)),c.innerWidth=c.width-(f+b),c.innerHeight=c.height-(g+E),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}return s}()}.call(t,n,t,e))||(e.exports=i)}(window)},Rsna:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsOrderPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderPanelsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderPanels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};n.loc.source={body:"mutation ChannelPanelsOrderPanels($input: OrderPanelsInput!) {\norderPanels(input: $input) {\npanels {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsOrderPanels=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsOrderPanels")},S7Xf:function(e,t,n){var i=n("4uTw"),o=n("RBan"),a=n("gpbi"),r=n("9Nap");e.exports=function(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[r(o(t))]}},"SN/u":function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return S}));var i,o,a=n("mrSG"),r=n("TSYQ"),s=n("q1tI"),l=n("/7QA"),c=n("1rIY"),d=n("GnwI"),u=n("C7sF"),p=n("sUnt"),m=n("hnjF"),h=n("Ws8v"),f=n("X2PJ"),g=n("i4Ys"),v=n("IbuL"),y=(n("inLc"),"[data-js-selector=carousel-content]"),b=Object(c.a)("MediaCarouselImpressionProvider",{registerReceiver:function(){return function(){return null}}}),E=b.context,x=b.withContext;!function(e){e.Previous="previous",e.Next="next"}(o||(o={}));var k=((i={})[o.Previous]=u.a.AngleLeft,i[o.Next]=u.a.AngleRight,i),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentElementIndex:0,childrenRendered:!1,windowWidth:window.innerWidth},t.receivers=[],t.notifyImpressionReceivers=function(){requestAnimationFrame((function(){var e=t.getCarouselRect();e&&t.receivers.forEach((function(t){t.checkVisible(e)}))}))},t.onResize=function(){t.setState({windowWidth:window.innerWidth})},t.moveCarouselForward=function(){if(!t.isForwardButtonDisabled()&&t.props.items){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex+1,o=i;o<e.length;o++){if(e[o].getBoundingClientRect().right-t.getBaseOffset()>n){i=o;break}}t.setState({currentElementIndex:i})}},t.moveCarouselBackward=function(){if(!t.isBackButtonDisabled()){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex-1,o=i-1;o>=0;o--){if(n<-1*(e[o].getBoundingClientRect().left-t.getBaseOffset()))break;i=o}t.setState({currentElementIndex:i})}},t.isForwardButtonDisabled=function(){if(!t.carouselContainerRef)return!0;if(t.props.items){var e=t.getCarouselWidth(),n=t.getCarouselChildren();if(t.state.currentElementIndex>=n.length-1)return!0;var i=n[t.state.currentElementIndex].getBoundingClientRect().left;if(n[n.length-1].getBoundingClientRect().right-i>e)return!1}return!0},t.isBackButtonDisabled=function(){return 0===t.state.currentElementIndex},t.getCarouselChildren=function(){if(!t.carouselContainerRef)return[];var e=t.getCarouselSlider();return e&&e.children.length?Array.prototype.slice.call(e.children):[]},t.getCarouselSlider=function(){return t.carouselContainerRef&&t.carouselContainerRef.querySelector(y)},t.getCarouselRect=function(){return t.carouselContainerRef&&t.carouselContainerRef.getBoundingClientRect()},t.getSliderRect=function(){var e=t.getCarouselSlider();if(e)return e.getBoundingClientRect()},t.getCarouselWidth=function(){var e=t.getCarouselRect();return e?e.width:0},t.getBaseOffset=function(){var e=t.getCarouselRect();return e?e.left:0},t.getChildOffset=function(e){var n=t.getCarouselChildren();return 0===n.length||n.length<=e?0:n[e].getBoundingClientRect().left},t.transformString=function(){var e=t.getSliderRect(),n=0,i=0;e&&(n=e.left,i=e.width);var o=t.getChildOffset(t.state.currentElementIndex)-n,a=i-o,r=t.getCarouselWidth();return a<r&&(o=i-r),-o+"px"},t.refHandler=function(e){return t.state.childrenRendered||null===t.props.items||t.setState({childrenRendered:!0}),t.carouselContainerRef=e},t.renderNavButton=function(e,n,i){var a,c=((a={})[o.Previous]=Object(l.d)("previous","MediaCarouselNavButton"),a[o.Next]=Object(l.d)("next","MediaCarouselNavButton"),a),d=r("media-carousel__button",{"media-carousel__button--previous":e===o.Previous,"media-carousel__button--next":e===o.Next,"media-carousel__button--disabled":n},{"media-carousel__button--inset":!0===t.props.insetStyle});return s.createElement(p.a,{display:m.d.Flex,alignItems:m.b.Center,position:m.j.Absolute,attachTop:!0,attachLeft:e&&e===o.Previous,attachRight:e&&e===o.Next,fullHeight:!0},s.createElement(h.a,{className:d,position:m.j.Relative,display:m.d.Flex,borderRadius:f.b.Medium,background:n?f.a.Base:void 0},s.createElement(g.a,{ariaLabel:c[e],blurAfterClick:!0,"data-test-selector":e+"-button","data-a-target":e+"-button",disabled:n,onClick:i,type:g.b.Base,borderRadius:t.props.insetStyle?f.b.None:f.b.Medium,border:t.props.insetStyle},s.createElement(h.a,{color:f.c.Link,display:m.d.InlineFlex,padding:{x:.5,y:2}},s.createElement(v.a,{asset:k[e]})))))},t}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.state.childrenRendered||null===this.props.items||this.setState({childrenRendered:!0}),this.notifyImpressionReceivers()},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize),this.carouselContainerRef&&this.carouselContainerRef.addEventListener("transitionend",this.notifyImpressionReceivers),this.notifyImpressionReceivers()},t.prototype.componentWillUnmount=function(){this.carouselContainerRef&&this.carouselContainerRef.removeEventListener("transitionend",this.notifyImpressionReceivers),window.removeEventListener("resize",this.onResize)},t.prototype.render=function(){return s.createElement(E.Provider,{value:this.contextForChildren()},s.createElement(m.g,{position:m.j.Relative},s.createElement("div",{className:"media-carousel",ref:this.refHandler,"data-test-selector":"carousel-container"},s.createElement(p.a,{className:"media-carousel__child-container",overflow:m.i.Hidden,fullWidth:!0,"data-test-selector":"child-container"},s.createElement("div",{className:"media-carousel__body",style:{marginLeft:this.transformString()},"data-test-selector":"carousel-body"},s.createElement(m.g,{className:"media-carousel__content",display:m.d.Flex,flexWrap:m.f.NoWrap,flexDirection:m.e.Row,alignItems:m.b.Start,"data-js-selector":"carousel-content"},s.createElement("div",{style:{width:"max-content"}},this.props.items)))),s.createElement(p.a,{className:"media-carousel__nav",display:m.d.Flex,alignItems:m.b.Center,position:m.j.Absolute,attachTop:!0,attachLeft:!0,fullHeight:!0},this.renderNavButton(o.Previous,!this.state.childrenRendered||this.isBackButtonDisabled(),this.moveCarouselBackward)),s.createElement(p.a,{className:"media-carousel__nav",display:m.d.Flex,alignItems:m.b.Center,position:m.j.Absolute,attachTop:!0,attachRight:!0,fullHeight:!0},this.renderNavButton(o.Next,!this.state.childrenRendered||this.isForwardButtonDisabled(),this.moveCarouselForward)))))},t.prototype.contextForChildren=function(){var e=this;return{registerReceiver:function(t){return e.receivers.push(t),function(){var n=e.receivers.indexOf(t);e.receivers.splice(n,1)}}}},t}(s.Component),S=Object(d.withLatencyTracking)("MediaCarousel",{autoReportInteractive:!0})(C)},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(i)},removeListener:function(e,t){for(var i=n(e),o=0,a=i.length;o<a;++o)if(i[o]===t){i.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},T14b:function(e,t,n){"use strict";var i=n("SN/u");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},TVJu:function(e,t,n){"use strict";var i,o=n("mrSG"),a=n("/MKj"),r=n("fvjX"),s=n("1/iK"),l=n("XDCx"),c=n("y5D0"),d=n("kRBY"),u=n("/HY+"),p=n("TSYQ"),m=n("1hWM"),h=n("q1tI"),f=n("/7QA"),g=n("eJ65"),v=n("yR8l"),y=n("edgk"),b=n("DMoW"),E=n("2xye"),x=n("3CMh"),k=n("Ziwv"),C=n("BaCc"),S=n("Jsra"),w=n("hnjF"),I=n("sUnt"),O=n("+80q"),D=n("X2PJ"),P=n("dEDE"),_=n("Ws8v"),R="test_selector_legal_disclaimer",T="test_selector_confirm_button",N="test_selector_buy_bits_button",j="test_selector_cancel_button",F=function(e){var t=Object(f.d)("Confirm","BitsConfrimationDialogue"),n=Object(f.d)("Settings","BitsConfrimationDialogue"),i=h.createElement(S.a,{to:"https://www.twitch.tv/settings/connections"},n),o=h.createElement(w.g,{display:w.d.InlineFlex,alignContent:w.a.Center,alignItems:w.b.Center,margin:{left:.5}},h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtremelySmall,display:w.d.InlineFlex,amount:e.newBalance,alignItems:w.b.Center,formattedNumber:!0}))),a=Object(f.d)("After confirming, your Bits balance will be {newBalance}",{newBalance:o},"BitsConfrimationDialogue"),r=Object(f.d)('By clicking "{ConfirmText}," you agree to share your Twitch ID with {ExtensionName}. You can manage account connections under {Settings}.',{ConfirmText:t,ExtensionName:e.extensionName,Settings:i},"BitsConfrimationDialogue");return h.createElement(I.a,{className:"bits-confirmation-dialog"},h.createElement(I.a,{padding:1},h.createElement(I.a,{margin:{bottom:1},display:w.d.Flex,justifyContent:w.h.Between},h.createElement(I.a,null,h.createElement(O.a,{fontSize:D.d.Size5,bold:!0},e.extensionItemLabel),h.createElement(O.a,null,e.extensionName)),h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtraSmall,display:w.d.InlineFlex,amount:e.cost,alignItems:w.b.Center}))),h.createElement(I.a,{display:w.d.Flex,margin:{bottom:1}},h.createElement(w.g,{display:w.d.Flex},h.createElement(O.a,null,a))),h.createElement(I.a,{display:w.d.Inline},h.createElement(I.a,{display:w.d.InlineBlock,margin:{right:1}},h.createElement(P.a,{"data-test-selector":T,onClick:function(){e.onConfirm().then((function(t){"number"==typeof t&&Number.isInteger(t)&&Object(k.b)(C,e.userID,t)})),Object(k.b)(C,e.userID,e.newBalance)}},t)),h.createElement(I.a,{display:w.d.InlineBlock,margin:{right:1}},h.createElement(P.a,{"data-test-selector":N,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:P.d.Secondary},e.buyBitsText)),h.createElement(I.a,{display:w.d.InlineBlock},h.createElement(P.a,{"data-test-selector":j,onClick:e.onClose,type:P.d.Secondary},e.cancelText)))),h.createElement(_.a,{borderTop:!0,padding:1},h.createElement(O.a,{"data-test-selector":R},r)))},A="test_selector_buy_bits_button",L="test_selector_cancel_button",B=function(e){var t,n=e.bitsBalance-e.cost,i=Math.abs(n),o=h.createElement(w.g,{display:w.d.InlineFlex,margin:{x:.5}},h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtremelySmall,display:w.d.InlineFlex,amount:i,alignItems:w.b.Center,formattedNumber:!0})));return t=h.createElement(w.g,{display:w.d.Flex},h.createElement(O.a,null,Object(f.d)("You need {BitsRequired} more Bits to proceed.",{BitsRequired:o},"BitsUpsellDialog"))),h.createElement(I.a,{className:"bits-upsell-dialog",padding:1},h.createElement(I.a,{margin:{bottom:1},display:w.d.Flex,justifyContent:w.h.Between},h.createElement(I.a,null,h.createElement(O.a,{fontSize:D.d.Size5,bold:!0},e.extensionItemLabel),h.createElement(O.a,null,e.extensionName)),h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtraSmall,display:w.d.InlineFlex,amount:e.cost,alignItems:w.b.Center}))),h.createElement(I.a,{display:w.d.Flex,margin:{bottom:1}},t),h.createElement(I.a,{display:w.d.Inline},h.createElement(I.a,{display:w.d.InlineBlock,margin:{right:1}},h.createElement(P.a,{"data-test-selector":A,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:P.d.Primary},e.buyBitsText)),h.createElement(I.a,{display:w.d.InlineBlock},h.createElement(P.a,{"data-test-selector":L,onClick:e.onClose,type:P.d.Secondary},e.cancelText))))},M=function(e){var t=Object(f.d)("Buy Bits","UseBitsDialog"),n=Object(f.d)("Cancel","UseBitsDialog"),i=null;if(e)if(e.bitsBalance>=e.cost){var o=e.bitsBalance-e.cost;i=h.createElement(F,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,newBalance:o,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose,userID:e.userID})}else i=h.createElement(B,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose});return h.createElement(I.a,{className:"use-bits-dialog"},i)},U="test_selectors_close_button",z=function(e){var t=Object(f.d)("Sorry, something went wrong. Please try again.","UseBitsErrorDialog"),n=Object(f.d)("Close","UseBitsErrorDialog");return h.createElement(I.a,{className:"use-bits-error-dialog",padding:1},h.createElement(w.g,{display:w.d.Flex,alignContent:w.a.Center,margin:{bottom:1}},h.createElement(O.a,null,t)),h.createElement(P.a,{"data-test-selector":U,onClick:e.onClose},n))},W=n("5zC2"),q=n("22qk"),H=n("5IFo"),V=n("JVUd"),G=n("0HeA"),Y=n("ygYM"),X=n("b7S+"),K=n("7d/q"),Q=n("C7sF"),J=n("eDVu"),Z=n("VeT4"),$=n("4h+t"),ee=(n("NAeX"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.data.currentUser&&e.startTimer&&e.startTimer()},t.prototype.render=function(){if(this.props.data.loading||!this.props.data.currentUser)return null;var e=this.props.showSuccessText?h.createElement(O.a,{type:O.e.Span,className:"extension-bits-balance-success"},Object(f.d)("Success!","ExtensionPanelBitsBalanceDialog")):null,t=h.createElement(Z.a,{withImage:!0,withText:!0,animated:!1,count:this.props.data.currentUser.bitsBalance||0,bitsConfig:Object($.a)()});return h.createElement(I.a,{margin:{top:0,right:1,bottom:.5,left:1}},e,Object(f.d)("Bits Balance: {bitsComponent}",{bitsComponent:t},"ExtensionPanelBitsBalanceDialog"))},t.prototype.componentDidMount=function(){this.props.data.currentUser&&this.props.startTimer&&this.props.startTimer()},t}(h.Component)),te=Object(r.d)(Object(J.a)((function(e){return Object(k.a)(C,e.channelID,e.userID)})),Object(v.a)(C))(ee),ne=n("IbuL"),ie=n("6ZyN"),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){if(this.props.data.loading||!this.props.data.currentUser)return null;var e=h.createElement(I.a,null,h.createElement(I.a,null,h.createElement(O.a,{fontSize:D.d.Size5},Object(f.e)("You are committing Bits to ","ConditionConfirmationDialogCommitBits"),this.props.currentConditionConfirmationState.options.conditionId)),h.createElement(I.a,{margin:{top:1,bottom:1},display:w.d.Flex,alignItems:w.b.Center},h.createElement(ne.a,{asset:Q.a.Bits}),h.createElement(O.a,{type:O.e.Span,fontSize:D.d.Size4,bold:!0},this.props.currentConditionConfirmationState.options.bitsAmount)),h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center,margin:{bottom:0}},h.createElement(O.a,{type:O.e.Span,fontSize:D.d.Size5},Object(f.e)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")),h.createElement(ne.a,{asset:Q.a.Bits}),h.createElement(O.a,{type:O.e.Span,fontSize:D.d.Size4,bold:!0},this.props.data.currentUser.bitsBalance||0)),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Center,margin:{top:2}},h.createElement(I.a,{display:w.d.Flex,flexGrow:3,margin:{right:.5}},h.createElement(P.a,{type:P.d.Secondary,fullWidth:!0,onClick:this.props.cancelCondition},Object(f.e)("Cancel","ConditionConfirmationDialogCancel"))),h.createElement(I.a,{display:w.d.Flex,flexGrow:4,margin:{left:.5}},h.createElement(P.a,{type:P.d.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition},Object(f.e)("Confirm","ConditionConfirmationDialogConfirm")))),h.createElement(_.a,{borderTop:!0,margin:{top:2,bottom:2}}),h.createElement(I.a,{margin:{bottom:2}},h.createElement(O.a,{type:O.e.P,fontSize:D.d.Size5},Object(f.e)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}.\n            You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement"))),h.createElement(I.a,null,h.createElement(O.a,{type:O.e.P,fontSize:D.d.Size5},Object(f.e)("If the Broadcaster rejects this challenge the bits will be refunded to your account.","ConditionConfirmationDialogBitsRefund"))));return h.createElement(I.a,{padding:2},e)},t}(h.Component),ae=Object(r.d)(Object(v.a)(ie))(oe);!function(e){e.ExtensionName="extension_name_selector",e.ShowExtensionButton="show_extension_button_selector"}(i||(i={}));var re=function(e){var t=e.extension.views.panel?e.extension.views.panel.height:300;return h.createElement(D.f,{alignItems:w.b.Center,background:D.a.Alt2,borderLeft:!0,borderTop:!0,borderRight:!0,display:w.d.Flex,flexDirection:w.e.Column,fullWidth:!0,justifyContent:w.h.Center,color:D.c.Base,position:w.j.Relative},h.createElement("div",{style:{height:t}},h.createElement("img",{src:e.extension.iconUrl}),h.createElement(I.a,{margin:1,textAlign:w.l.Center},h.createElement(O.a,{fontSize:D.d.Size5},Object(f.d)("{name} is popped out.",{name:h.createElement(O.a,{"data-test-selector":i.ExtensionName,type:O.e.Span,bold:!0},e.extension.name)},"ExtensionPopoutPlaceholder"))),h.createElement(P.a,{"data-test-selector":i.ShowExtensionButton,onClick:e.onExtensionShowClicked},Object(f.d)("Show Extension","ExtensionPopoutPlaceholder"))))};re.displayName="ExtensionPopoutPlaceholder";var se,le=function(e){return h.createElement(I.a,{padding:1},h.createElement(I.a,null,h.createElement("span",null,Object(f.d)("You must be logged in to use this extension feature.","FeatureNeedsAuthDialog")),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Start},h.createElement(P.a,{"data-test-selector":"qa-needs-auth-close-selector",type:P.d.Secondary,onClick:e.close},Object(f.d)("Close","FeatureNeedsAuthDialog")))))},ce=n("K/KT"),de=function(e){var t=function(t){return h.createElement(I.a,null,h.createElement("span",{"data-test-selector":"confirmation_message_selector"},t),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Start},h.createElement(P.a,{type:P.d.Secondary,onClick:e.cancelFollow},Object(f.d)("Close","FollowDialog"))))};if(null===e.currentFollowRequest.options.channel)return h.createElement(I.a,{padding:1},t(Object(f.d)("The channel you are attempting to follow does not exist.","FollowDialog")));var n=Object(f.d)("You are about to follow {name}.",{name:h.createElement(O.a,{type:O.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),i=Object(f.d)("Receive updates on {name}'s activity, including when they go live and upload videos or clips, on mobile, email, and web.",{name:e.currentFollowRequest.options.channel},"FollowDialog"),o=h.createElement(I.a,null,h.createElement("span",{"data-test-selector":"confirmation_message_selector"},n),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Start},h.createElement(I.a,{margin:{right:1}},h.createElement(P.a,{type:P.d.Primary,"data-test-selector":"toggle_follow_button_selector",onClick:e.confirmFollow},Object(f.d)("Follow","FollowDialog"))),h.createElement(P.a,{type:P.d.Secondary,onClick:e.cancelFollow},Object(f.d)("Cancel","FollowDialog"))),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Start},h.createElement(I.a,{flexGrow:1},h.createElement(O.a,{type:O.e.Span,fontSize:D.d.Size5},Object(f.d)("Notifications","FollowDialog"))),h.createElement(ce.a,{id:"ext-follow-notification",checked:e.currentFollowRequest.notifications,onChange:e.onNotificationsChanged})),h.createElement(O.a,{type:O.e.Span,color:D.c.Alt2,fontSize:D.d.Size7},i)),a=Object(f.d)("You are already following {name}.",{name:h.createElement(O.a,{type:O.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),r=e.currentFollowRequest.options.isFollowing?t(a):o;return h.createElement(I.a,{padding:1},r)};!function(e){e.ManagePermissionsLink="manage_permissions_link_selector",e.ToggleIdentityBalloon="toggle_identity_balloon_selector",e.ToggleIdentityButton="toggle_identity_button_selector",e.CancelButton="toggle_identity_button_cancel_selector"}(se||(se={}));var ue,pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderGrantPermissionsButton=function(){var e=Object(f.d)("Grant Permissions","ExtensionPanel");return h.createElement(X.a,{label:e,direction:X.c.Top,align:X.b.Right,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(K.a,{ariaLabel:e,icon:Q.a.PermissionsAdd})))},t.renderRevokePermissionsButton=function(){var e=Object(f.d)("Revoke Permissions","ExtensionPanel");return h.createElement(X.a,{label:e,direction:X.c.Top,align:X.b.Right,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(K.a,{ariaLabel:e,icon:Q.a.PermissionsAdded,statusAlertIcon:Q.a.PermissionsRemove})))},t.saveGrantPermissionsBalloonRef=function(e){t.grantPermissionsBalloon=e},t.onCancelIdentityLink=function(){t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t.toggleIdentity=function(){t.props.isLinked?t.props.onUnlinkIdentity&&t.props.onUnlinkIdentity():t.props.onLinkIdentity&&t.props.onLinkIdentity(),t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.componentDidUpdate=function(e){e.isDialogOpen!==this.props.isDialogOpen&&this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.render=function(){var e=this.props,t=e.isLinked;if(!e.isLinkEnabled)return null;var n=t?this.renderRevokePermissionsButton():this.renderGrantPermissionsButton(),i=Object(f.d)("You are granting {name} the following access:",{name:h.createElement(O.a,{type:O.e.Strong},this.props.extension.name)},"Extension Panel"),o=Object(f.d)("You are revoking the following access for {name}:",{name:h.createElement(O.a,{type:O.e.Strong},this.props.extension.name)},"Extension Panel");return h.createElement(g.a,{display:w.d.InlineFlex,ref:this.saveGrantPermissionsBalloonRef,onToggle:this.props.onDialogToggle},h.createElement("span",{"data-test-selector":se.ToggleIdentityBalloon},n),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Small},h.createElement(I.a,{padding:1},h.createElement(I.a,null,t?o:i),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,null,h.createElement(O.a,{type:O.e.P,bold:!0},Object(f.d)("Your Twitch User ID","Extension Panel")),h.createElement(O.a,{type:O.e.P},Object(f.d)("Allows this extension to know your User ID on Twitch.","Extension Panel")),h.createElement(S.a,{"data-test-selector":se.ManagePermissionsLink,linkTo:"https://twitch.tv/settings/connections",targetBlank:!0},Object(f.d)("Manage Permissions","Extension Panel"))),h.createElement(_.a,{borderTop:!0,margin:{y:1}}),h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Center},h.createElement(I.a,{margin:{right:1}},h.createElement(P.a,{type:P.d.Secondary,"data-test-selector":se.CancelButton,onClick:this.onCancelIdentityLink},Object(f.d)("Cancel","Extension Panel"))),h.createElement(P.a,{type:t?P.d.Alert:P.d.Primary,"data-test-selector":se.ToggleIdentityButton,onClick:this.toggleIdentity},t?Object(f.d)("Revoke","Extension Panel"):Object(f.d)("Grant","Extension Panel"))))))},t}(h.Component);!function(e){e.PopoutButton="popout_button_selector"}(ue||(ue={}));var me,he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e)},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=Object(f.d)("Pop Out Extension","PopoutButton");return h.createElement("span",null,h.createElement(X.a,{label:e,direction:X.c.Top,align:X.b.Right,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(K.a,{"data-test-selector":ue.PopoutButton,onClick:this.onClick,ariaLabel:e,icon:Q.a.Popout}))))},t}(h.Component),fe=n("DUmW"),ge=n("+Zug"),ve=n("7uM4");!function(e){e.PurchaseUISelector="purchase_ui_selector",e.PurchaseUILoggedOutText="purchase_ui_logged_out_text",e.PurchaseUIHeaderText="purchase_ui_header_text",e.PurchaseUITitleText="purchase_ui_title_text",e.PurchaseUIDisplayPriceText="purchase_ui_display_price_text",e.PurchaseUIExtensionNameText="purchase_ui_extension_name_text",e.PurchaseUIDescriptionText="purchase_ui_description_text",e.PurchaseUINotLinkedText="purchase_ui_not_linked_text",e.PurchaseUIBuyButton="purchase_ui_buy_button",e.PurchaseUICancelButton="purchase_ui_cancel_button"}(me||(me={}));var ye,be=function(e){var t,n=e.cancel,i=e.confirm,o=e.isLoggedIn,a=e.isLinked,r=e.isLinkEnabled,s=e.purchaseIntentPayload;return t=o?h.createElement(I.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},h.createElement(I.a,{padding:{bottom:2}},h.createElement(O.a,{fontSize:D.d.Size5,bold:!0,"data-test-selector":me.PurchaseUIHeaderText},Object(f.d)("In-Extension Purchase","PurchaseConfirmation"))),h.createElement(I.a,null,h.createElement(fe.a,{gutterSize:fe.b.Default},h.createElement(ge.a,{cols:{default:9}},h.createElement(O.a,{fontSize:D.d.Size6,bold:!0,"data-test-selector":me.PurchaseUITitleText},s.title)),h.createElement(ge.a,{cols:{default:3}},h.createElement(I.a,{fullWidth:!0,textAlign:w.l.Right},h.createElement(O.a,{fontSize:D.d.Size6,bold:!0,"data-test-selector":me.PurchaseUIDisplayPriceText},s.displayPrice))))),h.createElement(I.a,{fullWidth:!0,padding:{bottom:1}},h.createElement(O.a,{color:D.c.Alt2,"data-test-selector":me.PurchaseUIExtensionNameText},Object(f.d)("{name} extension",{name:s.extensionName},"PurchaseConfirmation"))),h.createElement(I.a,{fullWidth:!0},h.createElement(O.a,{className:"t-extension-panel__description",color:D.c.Alt2,"data-test-selector":me.PurchaseUIDescriptionText},s.description),h.createElement(_.a,{borderBottom:!0,margin:{y:1}}),h.createElement(I.a,null,h.createElement(fe.a,{gutterSize:fe.b.Default},h.createElement(ge.a,{cols:{default:4}},h.createElement(P.a,{"data-test-selector":me.PurchaseUIBuyButton,onClick:i,fullWidth:!0},Object(f.d)("Buy","PurchaseConfirmation"))),h.createElement(ge.a,{cols:{default:3}},h.createElement(P.a,{"data-test-selector":me.PurchaseUICancelButton,onClick:n,type:P.d.Secondary},Object(f.d)("Cancel","PurchaseConfirmation")))),!a&&h.createElement(I.a,null,h.createElement(_.a,{borderBottom:!0,margin:{y:1}}),h.createElement(O.a,{fontSize:D.d.Size8,color:D.c.Alt2,"data-test-selector":me.PurchaseUINotLinkedText},Object(f.d)('By clicking "Buy", you agree to share your Twitch ID with {name}. You can manage account connections under <x:link>Settings</x:link>',{name:s.extensionName,"x:link":function(e){return h.createElement(S.a,{to:"/settings/connections"},e)}},"PurchaseConfirmation")))))):h.createElement(I.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},h.createElement(I.a,{padding:{top:2}},h.createElement(O.a,{fontSize:D.d.Size5,"data-test-selector":me.PurchaseUILoggedOutText},Object(f.d)("You must be logged in to use this extension feature.","PurchaseConfirmation"))),h.createElement(_.a,{borderBottom:!0,margin:{y:1}}),h.createElement(P.a,{"data-test-selector":me.PurchaseUICancelButton,onClick:n,type:P.d.Secondary},Object(f.d)("Close","PurchaseConfirmation"))),h.createElement(Y.a,{direction:Y.b.TopRight,"data-test-selector":me.PurchaseUISelector,noTail:!r,offsetX:"10px",offsetY:"-2px",tailOffset:33,show:!0,size:Y.c.Medium},h.createElement("button",{className:"t-extension-panel__close t-extension-panel__top-controls",onClick:n},h.createElement(ve.a,{asset:Q.a.Close,height:11,width:11})),h.createElement(I.a,{display:w.d.Flex,flexGrow:1,flexDirection:w.e.Column,justifyContent:w.h.Center,alignItems:w.b.Center},t))};!function(e){e.RestoreDefaultSizeButton="restore-default-size-button"}(ye||(ye={}));var Ee,xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRestoreDefaultSizeVisible:!1},t.defaultPopoutWidth=window.outerWidth,t.defaultPopoutHeight=window.outerHeight,t.onClick=function(){window.resizeTo(t.defaultPopoutWidth,t.defaultPopoutHeight)},t.onWindowResize=function(){var e=window.outerWidth,n=window.outerHeight,i=e!==t.defaultPopoutWidth||n!==t.defaultPopoutHeight;t.setState({isRestoreDefaultSizeVisible:i})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},t.prototype.render=function(){if(!this.props.isPopout||!this.state.isRestoreDefaultSizeVisible)return null;var e=Object(f.d)("Resize to Default","RestoreDefaultSizeButton");return h.createElement("span",null,h.createElement(X.a,{label:e,direction:X.c.Top,align:X.b.Right,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(K.a,{"data-test-selector":ye.RestoreDefaultSizeButton,onClick:this.onClick,ariaLabel:e,icon:Q.a.FullscreenExit}))))},t}(h.Component),ke=n("fPaz");!function(e){e.AcceptButton="accept-button",e.DeclineButton="decline-button",e.DeclinedMessage="declined-message",e.WarningMessage="warning-message"}(Ee||(Ee={}));var Ce,Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={declined:!1},t.onDeclined=function(){t.setState({declined:!0})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=null;return e=this.state.declined?h.createElement(h.Fragment,null,h.createElement(O.a,{type:O.e.P,"data-test-selector":Ee.DeclinedMessage},Object(f.d)("You’ve declined to use this test extension. To use it, please refresh this page and select accept.","TestExtensionDialog")),h.createElement(I.a,{padding:{top:2},display:w.d.Flex,justifyContent:w.h.Center},h.createElement(P.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",type:P.d.Secondary},Object(f.d)("Learn More","TestExtensionDialog")))):h.createElement(h.Fragment,null,h.createElement(O.a,{type:O.e.P,"data-test-selector":Ee.WarningMessage},Object(f.d)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.","TestExtensionDialog"),h.createElement(w.g,{padding:{left:.5}},h.createElement(S.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions"},Object(f.d)("Learn More.","TestExtensionDialog")))),h.createElement(I.a,{padding:{top:2},display:w.d.Flex,justifyContent:w.h.Center},h.createElement(P.a,{onClick:this.onDeclined,type:P.d.Secondary,"data-test-selector":Ee.DeclineButton},Object(f.d)("Decline","TestExtensionDialog")),h.createElement(I.a,{padding:{left:1}},h.createElement(P.a,{onClick:this.props.onAccepted,"data-test-selector":Ee.AcceptButton},Object(f.d)("Accept","TestExtensionDialog"))))),h.createElement(ke.b,{ratio:ke.c.Aspect3x4},h.createElement(_.a,{alignItems:w.b.Center,border:!0,display:w.d.Flex,justifyContent:w.h.Center,padding:2},h.createElement(I.a,null,h.createElement(O.a,{type:O.e.Strong},this.props.extensionName),e)))},t}(h.Component),we=n("EjwI");n("bVvr");!function(e){e.ExtensionDescriptionButton="extension_description_button_selector",e.ExtensionReportButton="extension_report_button_selector",e.ExtensionPanel="extension_panel_selector",e.ExtensionDetailsLink="extension_details_link_selector",e.ToggleFollowButton="toggle_follow_button_selector",e.ConfirmationMessage="confirmation_message_selector",e.PopoutButton="popout_button_selector",e.UseBitsConfirmationToggleBalloonWrapper="confirmation_message_selector"}(Ce||(Ce={}));var Ie=3e3,Oe=32,De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bitsBalance:null,currentFollowRequest:null,currentUseBitsRequest:null,currentConditionConfirmationState:null,isIdentityLinkOpen:!1,isLinked:!1,isLinkEnabled:!1,popoutRestoreIntentTracked:!1,purchaseIntent:null,testExtensionAccepted:!1},t.currentUserAuthoredExtension=function(){return!(!t.props.data||t.props.data.loading||!t.props.data.extensionClients)&&t.props.data.extensionClients.edges.some((function(e){return e.node.id===t.extension.id}))},t.renderExtensionFrame=function(){var e,n=p("extension-panel-extension-frame",((e={})["extension-panel-extension-frame__popout"]=t.props.isPopout,e));return t.extension.state===m.ExtensionState.Released||t.state.testExtensionAccepted||t.currentUserAuthoredExtension()?h.createElement(I.a,null,h.createElement(_.a,{borderTop:!0,borderRight:!0,borderLeft:!0},h.createElement(W.a,{channelID:t.props.channelID,channelLogin:t.props.channelLogin,className:n,extensionMode:t.props.mode,installation:t.props.installation,languageCode:t.props.languageCode,locale:t.props.locale,login:t.props.login,loginID:t.props.loginID,isPopout:t.props.isPopout,isHidden:!1,onBeginPurchase:t.onBeginPurchase,saveExtensionAPI:t.saveExtensionAPI})),h.createElement(I.a,{position:w.j.Relative,fullWidth:!0},t.purchaseUI())):!t.props.data||t.props.data.loading?null:h.createElement(Se,{extensionName:t.extension.name,onAccepted:t.onTestExtensionAccepted})},t.renderFollowConfirmation=function(){return null===t.state.currentFollowRequest?null:h.createElement(g.a,{ref:t.saveFollowConfirmationBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(de,{currentFollowRequest:t.state.currentFollowRequest,confirmFollow:t.confirmFollow,onNotificationsChanged:t.onNotificationsChanged,cancelFollow:t.cancelFollow})))},t.renderConditionConfirmation=function(){return null===t.state.currentConditionConfirmationState?null:h.createElement(g.a,{ref:t.saveConditionConfirmationBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(ae,{currentConditionConfirmationState:t.state.currentConditionConfirmationState,confirmCondition:t.confirmCondition,cancelCondition:t.cancelCondition,extensionName:t.extension.name})))},t.renderFeatureNeedsAuthBalloon=function(){return h.createElement(g.a,{ref:t.saveFeatureNeedsAuthBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(le,{close:t.dismissLoginPrompt})))},t.renderUseBitsConfirmation=function(){if(!t.state.currentUseBitsRequest||!t.state.currentUseBitsRequest.options)return null;var e=null;if(t.state.currentUseBitsRequest.options.error)e=h.createElement(z,{error:t.state.currentUseBitsRequest.options.error,onClose:t.cancelUseBits});else if(t.state.currentUseBitsRequest.options.payload){var n=t.state.currentUseBitsRequest.options.payload,i=n.bitsBalance,o=n.extensionItemLabel,a=n.extensionName,r=t.state.currentUseBitsRequest.options.payload.bitsRequired;void 0===r&&(r=0),e=h.createElement(M,{bitsBalance:i,cost:r,extensionItemLabel:o,extensionName:a,userID:t.props.loginID,onClose:t.cancelUseBits,onConfirm:t.confirmUseBits})}return h.createElement(g.a,{"data-test-selector":Ce.UseBitsConfirmationToggleBalloonWrapper,ref:t.saveUseBitsConfirmationBalloonRef,onToggle:t.onToggleUseBitsConfirmationBalloon},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},e))},t.onTestExtensionAccepted=function(){t.setState({testExtensionAccepted:!0})},t.getCurrentMedium=function(){if(t.props.isPopout)return E.PageviewMedium.ExtensionPage;switch(t.props.mode){case m.ExtensionMode.Dashboard:return E.PageviewMedium.DashboardLive;case m.ExtensionMode.Config:return E.PageviewMedium.ExtensionConfiguration;case m.ExtensionMode.Viewer:}return E.PageviewMedium.Channel},t.subscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.on(m.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.on(m.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.on(m.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.on(m.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.on(m.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.unsubscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.off(m.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.off(m.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.off(m.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.off(m.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.off(m.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.getPopoutHeight=function(){var e=300;return t.extension.views.panel&&(e=t.extension.views.panel.height),e+Oe},t.getExtensionPopoutUrl=function(){var e=t.props.installation.activationConfig,n=t.extension.clientId+"-"+t.extension.version;t.extension.state===m.ExtensionState.Released&&(n=t.extension.clientId);var i="/popout/"+t.props.channelLogin+"/extensions/"+n+"/"+e.anchor;return t.props.mode!==m.ExtensionMode.Viewer&&(i=i+"/"+t.props.mode),i},t.onExtensionPopoutClosed=function(){if(!t.state.popoutRestoreIntentTracked){var e=t.props.installation.activationConfig;Object(H.h)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID}),t.setState({popoutRestoreIntentTracked:!0})}if(t.props.onExtensionPopoutClosed){var n=t.extension,i=n.id,o=n.version;t.props.onExtensionPopoutClosed(i,o)}},t.onExtensionPopout=function(){var e=t.props.installation.activationConfig;Object(H.i)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID});var n="width=320,height="+t.getPopoutHeight()+",resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no",i=window.open(t.getExtensionPopoutUrl(),"_blank",n);if(i&&(t.onExtensionPopoutClosed&&Object(y.a)(i,t.onExtensionPopoutClosed),i.opener=null),t.props.onExtensionPoppedOut){var o=t.extension,a=o.id,r=o.version;t.props.onExtensionPoppedOut(a,r,i)}},t.onFollowRequested=function(e,n,i){t.setState({currentFollowRequest:{options:e,defaultResult:i,notifications:!0,onResult:n}}),t.followConfirmationBalloon.toggleBalloon(!0)},t.onLoginRequested=function(e,n){t.onDismissLoginPrompt=function(){e&&void 0!==n&&e(n),t.featureNeedsAuthBalloon.toggleBalloon(!1)},t.featureNeedsAuthBalloon.toggleBalloon(!0)},t.onConditionConfirmationRequested=function(e,n,i){t.setState({currentConditionConfirmationState:{options:e,onResult:n,defaultResult:i}}),t.conditionConfirmationBalloon.toggleBalloon(!0)},t.confirmFollow=function(){null!==t.state.currentFollowRequest&&(t.state.currentFollowRequest.onResult({didFollow:!0,notifications:t.state.currentFollowRequest.notifications}),t.setState({currentFollowRequest:null}),t.followConfirmationBalloon.toggleBalloon(!1))},t.cancelFollow=function(){if(null===t.state.currentFollowRequest)return null;t.state.currentFollowRequest.onResult(t.state.currentFollowRequest.defaultResult),t.setState({currentFollowRequest:null})},t.confirmCondition=function(){null!==t.state.currentConditionConfirmationState&&(t.state.currentConditionConfirmationState.onResult({conditionParticipantId:null,acceptedCondition:!0}),t.conditionConfirmationBalloon.toggleBalloon(!1),t.setState({currentConditionConfirmationState:null}))},t.cancelCondition=function(){null!==t.state.currentConditionConfirmationState&&(t.state.currentConditionConfirmationState.onResult({conditionParticipantId:null,acceptedCondition:!1}),t.conditionConfirmationBalloon.toggleBalloon(!1),t.setState({currentConditionConfirmationState:null}))},t.onUseBitsRequested=function(e,n,i){t.setState({currentUseBitsRequest:{options:e,defaultResult:i,onResult:n}}),t.useBitsConfirmationBalloon.toggleBalloon(!0)},t.confirmUseBits=function(){if(null===t.state.currentUseBitsRequest)return Promise.reject("no Bits request");var e=function(){t.useBitsConfirmationBalloon.toggleBalloon(!1),t.setState({currentUseBitsRequest:null})};return t.state.currentUseBitsRequest.onResult({didConfirm:!0,didUseBits:!0}).then((function(t){return e(),t})).catch((function(){return e(),Promise.reject("error using bits in extension")}))},t.cancelUseBits=function(){if(null===t.state.currentUseBitsRequest)return null;t.state.currentUseBitsRequest.onResult(t.state.currentUseBitsRequest.defaultResult),t.setState({currentUseBitsRequest:null})},t.saveExtensionAPI=function(e){t.unsubscribeFrameEvents(),t.extensionFrameAPI=e,t.subscribeFrameEvents()},t.saveFollowConfirmationBalloonRef=function(e){t.followConfirmationBalloon=e},t.saveFeatureNeedsAuthBalloonRef=function(e){t.featureNeedsAuthBalloon=e},t.saveUseBitsConfirmationBalloonRef=function(e){t.useBitsConfirmationBalloon=e},t.saveConditionConfirmationBalloonRef=function(e){t.conditionConfirmationBalloon=e},t.onToggleUseBitsConfirmationBalloon=function(e){e&&null!==t.state.currentUseBitsRequest&&t.state.currentUseBitsRequest.onResult({didConfirm:!1,didUseBits:!1})},t.onExtensionLoaded=function(){t.props.onExtensionLoaded&&t.props.onExtensionLoaded()},t.onIdentityLinked=function(e,n){t.setState({isLinked:e,isLinkEnabled:n})},t.onLinkIdentity=function(){t.extensionFrameAPI.linkIdentity()},t.onUnlinkIdentity=function(){t.extensionFrameAPI.unlinkIdentity()},t.onIdentityLinkDialogToggle=function(e){t.setState({isIdentityLinkOpen:!e})},t.cancelPurchase=function(){t.setState({purchaseIntent:null})},t.renderBitsBalanceUI=function(){var e=t.state&&t.state.bitsBalance;if(null!==e){var n=e.showSuccessText;return t.hideBitsBalanceTimeout&&(clearTimeout(t.hideBitsBalanceTimeout),t.hideBitsBalanceTimeout=null,t.startHideBitsBalanceTimer()),h.createElement(te,{showSuccessText:n,startTimer:t.startHideBitsBalanceTimer,channelID:t.props.channelID,userID:t.props.loginID})}},t.startHideBitsBalanceTimer=function(){t.hideBitsBalanceTimeout||(t.hideBitsBalanceTimeout=setTimeout(t.hideBitsBalance,Ie))},t.hideBitsBalance=function(){t.hideBitsBalanceTimeout=null,t.setState({bitsBalance:null})},t.onShowBitsBalance=function(){t.setState({bitsBalance:{showSuccessText:!1}})},t.onShowUseBitsSuccess=function(){t.setState({bitsBalance:{showSuccessText:!0}})},t.onBeginPurchase=function(e,n){t.setState({purchaseIntent:{payload:e,makePurchase:n}})},t.onNotificationsChanged=function(e){var n=t.state.currentFollowRequest;null!==n&&t.setState({currentFollowRequest:Object(o.__assign)(Object(o.__assign)({},n),{notifications:e.currentTarget.checked})})},t.onModalRequested=function(e){switch(e.action){case m.FunctionAction.FollowAction:var n=e,i=n.options;t.onFollowRequested(i,n.resultCallback,n.defaultResult);break;case m.FunctionAction.LoginRequest:t.featureNeedsAuthBalloon&&t.onLoginRequested(e.resultCallback,e.defaultResult);break;case m.FunctionAction.UseBits:var o=e,a=o.options;t.onUseBitsRequested(a,o.resultCallback,o.defaultResult);break;case m.FunctionAction.IdShareRequest:t.setState({isIdentityLinkOpen:!0});break;case m.FunctionAction.ConditionConfirmationRequest:var r=e,s=r.options;t.onConditionConfirmationRequested(s,r.resultCallback,r.defaultResult)}},t.handleReportExtensionClick=function(){var e=t.extension,n=e.id,i=e.version,o=e.name;t.props.isLoggedIn?t.props.showReportExtensionModal({reportContext:{contentType:b.tc.EXTENSION_REPORT,contentID:n+"-"+i,targetUserID:t.props.channelID},title:Object(f.d)("Report {extensionName}",{extensionName:o},"ReportExtensionModal")}):t.props.promptLogin()},t.dismissLoginPrompt=function(){t.onDismissLoginPrompt&&t.onDismissLoginPrompt(),t.onDismissLoginPrompt=null},t.trackImpression=function(){if(t.props.panel){var e=t.props.panel.id;e&&Object(G.a)(E.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})}},t}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this.props.installation.extension},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.componentDidUpdate=function(e){!1===e.isFramePoppedOut&&!0===this.props.isFramePoppedOut&&this.setState({popoutRestoreIntentTracked:!1})},t.prototype.render=function(){var e,t=Object(f.d)("More Info","ExtensionPanel"),n=Object(f.d)("Report Extension","ExtensionPanel"),i=Object(q.d)(this.extension.id,this.extension.version)+"?tt_medium="+this.getCurrentMedium()+"&tt_content="+E.PageviewContent.ExtensionPanel,o=p(this.props.className||"extension-panel",((e={})["extension-panel__popout"]=this.props.isPopout,e)),a=this.props.isFramePoppedOut?h.createElement(re,{extension:this.extension,onExtensionShowClicked:this.onExtensionPopoutClosed}):this.renderExtensionFrame();return h.createElement(I.a,{className:o,margin:{bottom:2,right:2},"data-test-selector":Ce.ExtensionPanel},a,h.createElement(_.a,{borderRight:!0,borderBottom:!0,borderLeft:!0,flexDirection:w.e.Column,display:w.d.Flex},h.createElement(_.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(I.a,{flexGrow:1,margin:{x:1}},h.createElement(S.a,{linkTo:i,targetBlank:!0,"data-test-selector":Ce.ExtensionDetailsLink},this.extension.name)),this.props.isFramePoppedOut||this.props.isPopout?null:h.createElement(he,{"data-test-selector":Ce.PopoutButton,onClick:this.onExtensionPopout}),h.createElement(xe,{isPopout:this.props.isPopout}),h.createElement(pe,{extension:this.extension,isDialogOpen:this.state.isIdentityLinkOpen,onDialogToggle:this.onIdentityLinkDialogToggle,isLinked:this.state.isLinked,isLinkEnabled:this.state.isLinkEnabled,onLinkIdentity:this.onLinkIdentity,onUnlinkIdentity:this.onUnlinkIdentity}),this.renderFollowConfirmation(),this.renderFeatureNeedsAuthBalloon(),this.renderUseBitsConfirmation(),this.renderConditionConfirmation(),h.createElement(g.a,null,h.createElement("span",null,h.createElement(X.a,{label:t,direction:X.c.Top,align:X.b.Right,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,alignItems:w.b.Center},h.createElement(K.a,{"data-test-selector":Ce.ExtensionDescriptionButton,icon:Q.a.More,ariaLabel:t})))),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,offsetX:".6rem"},h.createElement(I.a,{display:w.d.Flex,justifyContent:w.h.Between,flexWrap:w.f.NoWrap},h.createElement(_.a,{padding:1,flexShrink:3},h.createElement(O.a,null,this.extension.summary)),h.createElement(_.a,{borderLeft:!0,margin:1},h.createElement(K.a,{"data-test-selector":Ce.ExtensionReportButton,ariaLabel:n,icon:Q.a.ChatRiskFlag,onClick:this.handleReportExtensionClick})))))),this.renderBitsBalanceUI()))},t.prototype.purchaseUI=function(){var e=this,t=this.state&&this.state.purchaseIntent;if(null!==t){var n=this.state,i=n.isLinked,o=n.isLinkEnabled,a=t,r=a.payload,s=a.makePurchase;return h.createElement(be,{confirm:function(){s(),e.setState({purchaseIntent:null})},cancel:this.cancelPurchase,isLinked:i,isLinkEnabled:o,purchaseIntentPayload:r,isLoggedIn:this.props.isLoggedIn})}},t}(h.Component),Pe=Object(r.d)(Object(V.a)("ExtensionPanel",{pixels:100}),Object(v.a)(we,{skip:function(e){var t=e.isLoggedIn;return e.installation.extension.state===m.ExtensionState.Released||!t}}))(De);var _e=Object(a.b)((function(e){return{isLoggedIn:Object(d.f)(e),languageCode:Object(d.b)(e),locale:e.session.locale}}),(function(e){return Object(r.b)({promptLogin:function(){return Object(c.e)(s.a.ReportHoster)},showReportExtensionModal:function(e){var t=Object(o.__rest)(e,[]);return Object(l.e)(u.a,t)}},e)}))(Pe);n.d(t,"a",(function(){return _e}))},TilG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionActionSubscribeToChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:307}};n.loc.source={body:"query ExtensionActionSubscribeToChannel($channelID: ID!) {\ncurrentUser {\nid\nlogin\n}\nuser(id: $channelID) {\nid\nlogin\nsubscriptionProducts {\n...extensionActionSubscriptionProduct\n}\nself {\nsubscriptionBenefit {\nid\ntier\n}\n}\n}\n}\nfragment extensionActionSubscriptionProduct on SubscriptionProduct {\nid\nname\ntier\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionActionSubscribeToChannel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionActionSubscribeToChannel")},U0Fp:function(e,t,n){},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return i.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var i=e[t];if(null==i&&void 0!==n)return n;return i}},UeP2:function(e,t,n){},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},X9a5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionConfigure"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"query ExtensionConfigure {\ncurrentUser {\nid\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nname\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionConfigure=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionConfigure")},YJCA:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return te})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return k}));var i=n("wx14"),o=n("ODXe"),a=n("vpQ4"),r=n("1OyB"),s=n("vuIU"),l=n("md7G"),c=n("foSv"),d=n("Ji7U"),u=n("JX7q"),p=n("rePB"),m=n("q1tI"),h=n("17x9"),f=n.n(h),g=n("i8i4"),v=n("QLaP"),y=n.n(v),b=n("KQm4"),E=function(){function e(){Object(r.a)(this,e),Object(p.a)(this,"refs",{})}return Object(s.a)(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(x)}}]),e}();function x(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function k(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function C(e,t){return Object.keys(e).reduce((function(n,i){return-1===t.indexOf(i)&&(n[i]=e[i]),n}),{})}var S={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},w=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function I(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function O(e,t){e.style["".concat(w,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function D(e,t){e.style["".concat(w,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function P(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function _(e,t,n){return Math.max(e,Math.min(n,t))}function R(e){return"px"===e.substr(-2)?parseFloat(e):0}function T(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function N(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function j(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var i={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?i:F(e.parentNode,t,i)}}function A(e){var t=e.lockOffset,n=e.width,i=e.height,o=t,a=t,r="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);y()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),a=parseFloat(t),r=s[1]}return y()(isFinite(o)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===r&&(o=o*n/100,a=a*i/100),{x:o,y:a}}function L(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:L(e.parentNode):null}var B=27,M=32,U=37,z=38,W=39,q=40,H={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function V(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return Object(r.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(g.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return y()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return Object(m.createElement)(e,Object(i.a)({ref:t},this.props))}}]),n}(m.Component),Object(p.a)(t,"displayName",T("sortableHandle",e)),n}function G(e){return null!=e.sortableHandle}var Y=function(){function e(t,n){Object(r.a)(this,e),this.container=t,this.onScrollCallback=n}return Object(s.a)(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,i=e.minTranslate,o=e.maxTranslate,a=e.width,r=e.height,s={x:0,y:0},l={x:1,y:1},c=10,d=10,u=this.container,p=u.scrollTop,m=u.scrollLeft,h=u.scrollHeight,f=u.scrollWidth,g=0===p,v=h-p-u.clientHeight==0,y=0===m,b=f-m-u.clientWidth==0;n.y>=o.y-r/2&&!v?(s.y=1,l.y=d*Math.abs((o.y-r/2-n.y)/r)):n.x>=o.x-a/2&&!b?(s.x=1,l.x=c*Math.abs((o.x-a/2-n.x)/a)):n.y<=i.y+r/2&&!g?(s.y=-1,l.y=d*Math.abs((n.y-r/2-i.y)/r)):n.x<=i.x+a/2&&!y&&(s.x=-1,l.x=c*Math.abs((n.x-a/2-i.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var X={axis:f.a.oneOf(["x","y","xy"]),contentWindow:f.a.any,disableAutoscroll:f.a.bool,distance:f.a.number,getContainer:f.a.func,getHelperDimensions:f.a.func,helperClass:f.a.string,helperContainer:f.a.oneOfType([f.a.func,"undefined"==typeof HTMLElement?f.a.any:f.a.instanceOf(HTMLElement)]),hideSortableGhost:f.a.bool,keyboardSortingTransitionDuration:f.a.number,lockAxis:f.a.string,lockOffset:f.a.oneOfType([f.a.number,f.a.string,f.a.arrayOf(f.a.oneOfType([f.a.number,f.a.string]))]),lockToContainerEdges:f.a.bool,onSortEnd:f.a.func,onSortMove:f.a.func,onSortOver:f.a.func,onSortStart:f.a.func,pressDelay:f.a.number,pressThreshold:f.a.number,keyCodes:f.a.shape({lift:f.a.arrayOf(f.a.number),drop:f.a.arrayOf(f.a.number),cancel:f.a.arrayOf(f.a.number),up:f.a.arrayOf(f.a.number),down:f.a.arrayOf(f.a.number)}),shouldCancelStart:f.a.func,transitionDuration:f.a.number,updateBeforeSortStart:f.a.func,useDragHandle:f.a.bool,useWindowAsScrollContainer:f.a.bool},K={lift:[M],drop:[M],cancel:[B],up:[z,U],down:[q,W]},Q={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:K,shouldCancelStart:function(e){return-1!==[H.Input,H.Textarea,H.Select,H.Option,H.Button].indexOf(e.target.tagName)||!!P(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},J=Object.keys(X);function Z(e){var t,n,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return Object(r.a)(this,n),t=Object(l.a)(this,Object(c.a)(n).call(this,e)),Object(p.a)(Object(u.a)(Object(u.a)(t)),"state",{}),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleStart",(function(e){var n=t.props,i=n.distance,o=n.shouldCancelStart;if(2!==e.button&&!o(e)){t.touched=!0,t.position=j(e);var a=P(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var r=t.props.useDragHandle,s=a.sortableInfo,l=s.index,c=s.collection;if(s.disabled)return;if(r&&!P(e.target,G))return;t.manager.active={collection:c,index:l},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==H.Anchor||e.preventDefault(),i||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleMove",(function(e){var n=t.props,i=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=j(e),r={x:t.position.x-a.x,y:t.position.y-a.y},s=Math.abs(r.x)+Math.abs(r.y);t.delta=r,i||o&&!(s>=o)?i&&s>=i&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),i=function(){if(n){var i=function(){var n,i,o,d,g,v,y=m.sortableInfo.index,E=(n=m,{bottom:R((i=window.getComputedStyle(n)).marginBottom),left:R(i.marginLeft),right:R(i.marginRight),top:R(i.marginTop)}),x=t.scrollContainer.getBoundingClientRect(),k=s({collection:h,index:y,node:m});if(t.node=m,t.margin=E,t.width=k.width,t.height=k.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=m.getBoundingClientRect(),t.containerBoundingRect=x,t.index=y,t.newIndex=y,t.axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},t.offsetEdge=F(m,t.container),t.initialOffset=j(f?Object(a.a)({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((d="input, textarea, select, canvas, [contenteditable]",g=(o=m).querySelectorAll(d),v=o.cloneNode(!0),Object(b.a)(v.querySelectorAll(d)).forEach((function(e,t){"file"!==e.type&&(e.value=g[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===H.Canvas&&g[t].width>0&&g[t].height>0&&e.getContext("2d").drawImage(g[t],0,0)})),v)),I(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-E.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-E.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),c&&(t.sortableGhost=m,I(m,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var C=p?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,w=C.top,O=C.left,D=C.width,P=w+C.height,_=O+D;t.axis.x&&(t.minTranslate.x=O-t.boundingClientRect.left,t.maxTranslate.x=_-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=w-t.boundingClientRect.top,t.maxTranslate.y=P-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(p?0:x.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:x.left+x.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:x.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:x.top+x.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?m:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(S.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),S.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:y}),u&&u({node:m,index:y,collection:h,isKeySorting:f},e),f&&t.keyMove(0)},o=t.props,r=o.axis,s=o.getHelperDimensions,l=o.helperClass,c=o.hideSortableGhost,d=o.updateBeforeSortStart,u=o.onSortStart,p=o.useWindowAsScrollContainer,m=n.node,h=n.collection,f=t.manager.isKeySorting,g=function(){if("function"==typeof d){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}((function(){var t=m.sortableInfo.index;return Promise.resolve(d({collection:h,index:t,node:m,isKeySorting:f},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return g&&g.then?g.then(i):i()}}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleSortEnd",(function(e){var n=t.props,i=n.hideSortableGhost,o=n.onSortEnd,a=t.manager,r=a.active.collection,s=a.isKeySorting,l=t.manager.refs[r];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(S.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),S.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),i&&t.sortableGhost&&I(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,d=l.length;c<d;c++){var u=l[c],p=u.node;u.edgeOffset=null,u.boundingClientRect=null,O(p,null),D(p,null),u.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({collection:r,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var i=Object(a.a)({},t.translate),o=0,r=0;return t.axis.x&&(i.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),o=t.translate.x-i.x),t.axis.y&&(i.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),r=t.translate.y-i.y),t.translate=i,O(t.helper,t.translate),t.scrollContainer.scrollLeft+=o,void(t.scrollContainer.scrollTop+=r)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,i=t.props,o=i.shouldCancelStart,r=i.keyCodes,s=void 0===r?{}:r,l=Object(a.a)({},K,s);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||l.lift.includes(n)&&!o(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),l.lift.includes(n)&&!t.manager.active?t.keyLift(e):l.drop.includes(n)&&t.manager.active?t.keyDrop(e):l.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):l.up.includes(n)?t.keyMove(-1):l.down.includes(n)&&t.keyMove(1))})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"keyLift",(function(e){var n=e.target,i=P(n,(function(e){return null!=e.sortableInfo})).sortableInfo,o=i.index,a=i.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:o,collection:a},t.handlePress(e)})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),i=n[n.length-1].node.sortableInfo.index,o=t.newIndex+e,a=t.newIndex;if(!(o<0||o>i)){t.prevIndex=a,t.newIndex=o;var r=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===r})),l=s.node,c=t.containerScrollDelta,d=s.boundingClientRect||N(l,c),u=s.translate||{x:0,y:0},p=d.top+u.y-c.top,m=d.left+u.x-c.left,h=a<o,f=h&&t.axis.x?l.offsetWidth-t.width:0,g=h&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:m+f,pageY:p+g,ignoreTransition:0===e})}})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(p.a)(Object(u.a)(Object(u.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,i=e.target,o=P(i,(function(e){return null!=e.sortableInfo}));return o&&o.sortableInfo&&!o.sortableInfo.disabled&&(n?G(i):i.sortableInfo)})),function(e){y()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=new E,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Object(d.a)(n,t),Object(s.a)(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var i=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof i?i():i,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:L(e.container)||e.container,e.autoScroller=new Y(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return S[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return S[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,i=t.lockOffset,a=t.lockToContainerEdges,r=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?r:s,c=this.manager.isKeySorting,d=e.ignoreTransition,u=j(e),p={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,a){var m=function(e){var t=e.height,n=e.width,i=e.lockOffset,a=Array.isArray(i)?i:[i,i];y()(2===a.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",i);var r=Object(o.a)(a,2),s=r[0],l=r[1];return[A({height:t,lockOffset:s,width:n}),A({height:t,lockOffset:l,width:n})]}({height:this.height,lockOffset:i,width:this.width}),h=Object(o.a)(m,2),f=h[0],g=h[1],v={x:this.width/2-f.x,y:this.height/2-f.y},b={x:this.width/2-g.x,y:this.height/2-g.y};p.x=_(this.minTranslate.x+v.x,this.maxTranslate.x-b.x,p.x),p.y=_(this.minTranslate.y+v.y,this.maxTranslate.y-b.y,p.y)}"x"===n?p.y=0:"y"===n&&(p.x=0),c&&l&&!d&&D(this.helper,l),O(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,i=e.onSortOver,o=this.containerScrollDelta,a=this.windowScrollDelta,r=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+o.left,l=this.offsetEdge.top+this.translate.y+o.top,c=this.manager.isKeySorting,d=this.newIndex;this.newIndex=null;for(var u=0,p=r.length;u<p;u++){var m=r[u].node,h=m.sortableInfo.index,f=m.offsetWidth,g=m.offsetHeight,v={height:this.height>g?g/2:this.height/2,width:this.width>f?f/2:this.width/2},y=c&&h>this.index&&h<=d,b=c&&h<this.index&&h>=d,E={x:0,y:0},x=r[u].edgeOffset;x||(x=F(m,this.container),r[u].edgeOffset=x,c&&(r[u].boundingClientRect=N(m,o)));var k=u<r.length-1&&r[u+1],C=u>0&&r[u-1];k&&!k.edgeOffset&&(k.edgeOffset=F(k.node,this.container),c&&(k.boundingClientRect=N(k.node,o))),h!==this.index?(t&&D(m,t),this.axis.x?this.axis.y?b||h<this.index&&(s+a.left-v.width<=x.left&&l+a.top<=x.top+v.height||l+a.top+v.height<=x.top)?(E.x=this.width+this.marginOffset.x,x.left+E.x>this.containerBoundingRect.width-v.width&&k&&(E.x=k.edgeOffset.left-x.left,E.y=k.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=h)):(y||h>this.index&&(s+a.left+v.width>=x.left&&l+a.top+v.height>=x.top||l+a.top+v.height>=x.top+g))&&(E.x=-(this.width+this.marginOffset.x),x.left+E.x<this.containerBoundingRect.left+v.width&&C&&(E.x=C.edgeOffset.left-x.left,E.y=C.edgeOffset.top-x.top),this.newIndex=h):y||h>this.index&&s+a.left+v.width>=x.left?(E.x=-(this.width+this.marginOffset.x),this.newIndex=h):(b||h<this.index&&s+a.left<=x.left+v.width)&&(E.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(y||h>this.index&&l+a.top+v.height>=x.top?(E.y=-(this.height+this.marginOffset.y),this.newIndex=h):(b||h<this.index&&l+a.top<=x.top+v.height)&&(E.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),O(m,E),r[u].translate=E):n&&(this.sortableGhost=m,I(m,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=d);var S=c?this.prevIndex:d;i&&this.newIndex!==S&&i({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:S,isKeySorting:c})}},{key:"getWrappedInstance",value:function(){return y()(h.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(g.findDOMNode)(this):e(h.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=h.withRef?"wrappedInstance":null;return Object(m.createElement)(e,Object(i.a)({ref:t},C(this.props,J)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(m.Component),Object(p.a)(t,"displayName",T("sortableList",e)),Object(p.a)(t,"defaultProps",Q),Object(p.a)(t,"propTypes",X),Object(p.a)(t,"childContextTypes",{manager:f.a.object.isRequired}),n}var $={index:f.a.number.isRequired,collection:f.a.oneOfType([f.a.number,f.a.string]),disabled:f.a.bool},ee=Object.keys($);function te(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return Object(r.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,i=e.index,o=Object(g.findDOMNode)(this);o.sortableInfo={collection:t,disabled:n,index:i,manager:this.context.manager},this.node=o,this.ref={node:o},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return y()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return Object(m.createElement)(e,Object(i.a)({ref:t},C(this.props,ee)))}}]),n}(m.Component),Object(p.a)(t,"displayName",T("sortableElement",e)),Object(p.a)(t,"contextTypes",{manager:f.a.object.isRequired}),Object(p.a)(t,"propTypes",$),Object(p.a)(t,"defaultProps",{collection:0}),n}},YO3V:function(e,t,n){var i=n("NykK"),o=n("LcsW"),a=n("ExA7"),r="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!a(e)||i(e)!=r)return!1;var t=o(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},YVj6:function(e,t,n){var i,o;!function(a,r){i=[n("x0Ue")],void 0===(o=function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"object"==typeof e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},removeFrom:function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)}};n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var o=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),a=0;a<n.length;a++)o.push(n[a])}else o.push(e)})),o},n.debounceMethod=function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,a=this;this[o]=setTimeout((function(){i.apply(a,t),delete a[o]}),n||100)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var i=e.console;return n.htmlInit=function(t,o){n.docReady((function(){var a=n.toDashed(o),r="data-"+a,s=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+a),c=n.makeArray(s).concat(n.makeArray(l)),d=r+"-options",u=e.jQuery;c.forEach((function(e){var n,a=e.getAttribute(r)||e.getAttribute(d);try{n=a&&JSON.parse(a)}catch(t){return void(i&&i.error("Error parsing "+r+" on "+e.className+": "+t))}var s=new t(e,n);u&&u.data(e,o,s)}))}))},n}(a,e)}.apply(t,i))||(e.exports=o)}(window)},"ZAO/":function(e,t,n){},abgr:function(e,t,n){},b5uE:function(e,t,n){},bVvr:function(e,t,n){},geji:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("q1tI"),a=n("Jsra");function r(e){return e.replace(/(^|\n)(#+)([^\s#]+)/g,(function(e,t,n,i){return""+t+n+" "+i}))}var s={allowedTypes:["BlockQuote","Emph","Hardbreak","Heading","Item","Link","List","Paragraph","Softbreak","Strong","Text"],className:"panel-description",renderers:{Heading:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;switch(this.props.level){case 1:e="h4";break;case 6:e="h6";break;default:e="h5"}return Object(o.createElement)(e,{},this.props.children)},t}(o.Component),Link:function(e){return o.createElement(a.a,{linkTo:e.href,title:e.title,targetBlank:!0},e.children)}},skipHtml:!0,softBreak:"br"}},gpbi:function(e,t,n){var i=n("ZWtO"),o=n("KxBF");e.exports=function(e,t){return t.length<2?e:i(e,o(t,0,-1))}},hNNL:function(e,t,n){var i,o,a;window,o=[n("Hy43"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,a=o/i,r=i-o%i;a=Math[r&&r<1?"round":"floor"](a),this.cols=Math.max(a,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),o={x:this.columnWidth*i.col,y:i.y},a=i.y+e.size.outerHeight,r=n+i.col,s=i.col;s<r;s++)this.colYs[s]=a;return o},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},i._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),o=this._getOption("originLeft")?i.left:i.right,a=o+n.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=r;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})?i.apply(t,o):i)||(e.exports=a)},inLc:function(e,t,n){},"mv/X":function(e,t,n){var i=n("ljhN"),o=n("MMmD"),a=n("wJg7"),r=n("GoyQ");e.exports=function(e,t,n){if(!r(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&a(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},nH1N:function(e,t,n){},pQUg:function(e,t,n){var i="undefined"!=typeof window,o=i?window.Masonry||n("hNNL"):null,a=i?n("vX6Q"):null,r=n("3OWR"),s=n("7sSR"),l=n("sEfC"),c=n("Puqe"),d=n("17x9"),u=n("q1tI"),p=n("fhzG"),m={enableResizableChildren:d.bool,disableImagesLoaded:d.bool,onImagesLoaded:d.func,updateOnEachImageLoad:d.bool,options:d.object,elementType:d.string,onLayoutComplete:d.func,onRemoveComplete:d.func},h=p({masonry:!1,erd:void 0,latestKnownDomChildren:[],displayName:"MasonryComponent",propTypes:m,getDefaultProps:function(){return{enableResizableChildren:!1,disableImagesLoaded:!1,updateOnEachImageLoad:!1,options:{},className:"",elementType:"div",onLayoutComplete:function(){},onRemoveComplete:function(){}}},initializeMasonry:function(e){this.masonry&&!e||(this.masonry=new o(this.masonryContainer,this.props.options),this.props.onLayoutComplete&&this.masonry.on("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.on("removeComplete",this.props.onRemoveComplete),this.latestKnownDomChildren=this.getCurrentDomChildren())},getCurrentDomChildren:function(){var e=this.masonryContainer,t=this.props.options.itemSelector?e.querySelectorAll(this.props.options.itemSelector):e.children;return Array.prototype.slice.call(t)},diffDomChildren:function(){var e=!1,t=this.latestKnownDomChildren.filter((function(e){return!!e.parentNode}));t.length!==this.latestKnownDomChildren.length&&(e=!0);var n=this.getCurrentDomChildren(),i=t.filter((function(e){return!~n.indexOf(e)})),o=n.filter((function(e){return!~t.indexOf(e)})),a=0,r=o.filter((function(e){var t=a===n.indexOf(e);return t&&a++,t})),s=o.filter((function(e){return-1===r.indexOf(e)})),l=[];return 0===i.length&&(l=t.filter((function(e,t){return t!==n.indexOf(e)}))),this.latestKnownDomChildren=n,{old:t,new:n,removed:i,appended:s,prepended:r,moved:l,forceItemReload:e}},performLayout:function(){var e=this.diffDomChildren(),t=e.forceItemReload||e.moved.length>0;e.removed.length>0&&(this.props.enableResizableChildren&&e.removed.forEach(this.erd.removeAllListeners,this.erd),this.masonry.remove(e.removed),t=!0),e.appended.length>0&&(this.masonry.appended(e.appended),0===e.prepended.length&&(t=!0),this.props.enableResizableChildren&&e.appended.forEach(this.listenToElementResize,this)),e.prepended.length>0&&(this.masonry.prepended(e.prepended),this.props.enableResizableChildren&&e.prepended.forEach(this.listenToElementResize,this)),t&&this.masonry.reloadItems(),this.masonry.layout()},imagesLoaded:function(){this.props.disableImagesLoaded||a(this.masonryContainer).on(this.props.updateOnEachImageLoad?"progress":"always",l(function(e){this.props.onImagesLoaded&&this.props.onImagesLoaded(e),this.masonry.layout()}.bind(this),100))},initializeResizableChildren:function(){this.props.enableResizableChildren&&(this.erd=s({strategy:"scroll"}),this.latestKnownDomChildren.forEach(this.listenToElementResize,this))},listenToElementResize:function(e){this.erd.listenTo(e,function(){this.masonry.layout()}.bind(this))},destroyErd:function(){this.erd&&this.latestKnownDomChildren.forEach(this.erd.uninstall,this.erd)},componentDidMount:function(){this.initializeMasonry(),this.initializeResizableChildren(),this.imagesLoaded()},componentDidUpdate:function(){this.performLayout(),this.imagesLoaded()},componentWillUnmount:function(){this.destroyErd(),this.props.onLayoutComplete&&this.masonry.off("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.off("removeComplete",this.props.onRemoveComplete),this.masonry.destroy()},setRef:function(e){this.masonryContainer=e},render:function(){var e=c(this.props,Object.keys(m));return u.createElement(this.props.elementType,r({},e,{ref:this.setRef}),this.props.children)}});e.exports=h,e.exports.default=h},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},qyxT:function(e,t,n){"use strict";function i(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}n.d(t,"a",(function(){return i}))},rOlK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extensionCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"categoryID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconURLs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"square100"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isBitsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsSupportLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canInstall"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:491}};n.loc.source={body:"query ExtensionRecommendations($categoryID: ID!) {\ncurrentUser {\nid\nlogin\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\nextensionCategory(id: $categoryID) {\nid\nextensions(first: 12) {\nedges {\n...ExtensionRecommendationsExtensionEdge\n}\n}\n}\n}\nfragment ExtensionRecommendationsExtensionEdge on ExtensionEdge {\nnode {\nid\nauthorName\nclientID\niconURLs {\nsquare100\n}\nisBitsEnabled\nbitsSupportLevel\nname\nself {\ncanInstall\n}\nsummary\nversion\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionRecommendations=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionRecommendations")},"ry+o":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsUpdatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsUpdatePanel($input: UpdatePanelInput!) {\nupdatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsUpdatePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsUpdatePanel")},sL9O:function(e,t,n){},"saS/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsDeletePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsDeletePanel($input: DeletePanelInput!) {\ndeletePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsDeletePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsDeletePanel")},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}},vX6Q:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp")],void 0===(o=function(e){return function(e,t){var n=e.jQuery,i=e.console;function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=o({},this.options),"function"==typeof t?i=t:o(this.options,t),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(function(){this.check()}.bind(this))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&r[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(i=0;i<a.length;i++){var s=a[i];this.addElementBackgroundImages(s)}}}};var r={1:!0,9:!0,11:!0};function s(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=Object.create(t.prototype),s.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(s.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(a,e)}.apply(t,i))||(e.exports=o)}("undefined"!=typeof window?window:this)},wnTG:function(e,t,n){"use strict";var i=n("UL9e");function o(){var e={},t=0,n=0,i=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<i&&(i=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=i;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++){(0,o[a])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=i.getOption(e,"async",!0),a=i.getOption(e,"auto",!0);a&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var r,s=o(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=o(),e.process()}l=!1}function d(){var e;e=c,r=setTimeout(e,0)}return{add:function(e,t){!l&&a&&n&&0===s.size()&&d(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),r&&(clearTimeout(r),r=null),e?d():c())}}}},x0Ue:function(e,t,n){var i,o;!function(a,r){"use strict";void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}}))},xPN0:function(e,t,n){"use strict";var i=n("q1tI"),o=n("Ws8v"),a=n("X2PJ"),r=(n("JxAY"),function(e){return i.createElement(o.a,{className:e.className||"extension-manager-modal-container",background:a.a.Base,padding:2},e.children)});r.displayName="ModalContainer",n.d(t,"a",(function(){return r}))},xVpv:function(e,t,n){},"xs/l":function(e,t,n){var i=n("TYy9"),o=n("Ioao"),a=n("wclG");e.exports=function(e){return a(o(e,void 0,i),e+"")}},yUZ2:function(e,t,n){"use strict";var i=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,a=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,i=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:i}}(),s="erd_scroll_detection_container";function l(e,n,i){if(e.addEventListener)e.addEventListener(n,i);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,i)}}function c(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,i)}}function d(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function u(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var n=t+"_animation",i="/* Created by the element-resize-detector library. */\n";i+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",i+="."+(t+"_animation_active")+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+n+"; animation-name: "+n+"; }\n",i+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,n){n=n||function(e){document.head.appendChild(e)};var i=document.createElement("style");i.innerHTML=t,i.id=e,n(i)}(i+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",s),{makeDetectable:function(e,c,p){function m(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function h(e){var t=o(e).container.childNodes[0],n=getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function f(){var e=getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(m("storeStyle invoked."),o(c)){var e=f();o(c).style=e}else m("Aborting because element has been uninstalled")}function v(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function y(){return 2*r.width+1}function b(){return 2*r.height+1}function E(e){return e+10+y()}function x(e){return e+10+b()}function k(e,t,n){var i=d(e),o=u(e),a=E(t),r=x(n),s=function(e){return 2*e+y()}(t),l=function(e){return 2*e+b()}(n);i.scrollLeft=a,i.scrollTop=r,o.scrollLeft=s,o.scrollTop=l}function C(){var e=o(c).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",o(c).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),c.appendChild(e);var t=function(){o(c).onRendered&&o(c).onRendered()};l(e,"animationstart",t),o(c).onAnimationStart=t}return e}function S(){if(m("Injecting elements"),o(c)){!function(){var e=o(c).style;if("static"===e.position){c.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,c,e,"top"),n(t,c,e,"right"),n(t,c,e,"bottom"),n(t,c,e,"left")}}();var e=o(c).container;e||(e=C());var n,i,a,d,u=r.width,p=r.height,h="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+("left: "+(n=(n=-(1+u))?n+"px":"0")+"; top: "+(i=(i=-(1+p))?i+"px":"0")+"; right: "+(d=(d=-u)?d+"px":"0")+"; bottom: "+(a=(a=-p)?a+"px":"0")+";"),f=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),b=document.createElement("div"),E=document.createElement("div");f.dir="ltr",f.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",f.className=s,g.className=s,g.style.cssText=h,v.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",y.style.cssText="position: absolute; left: 0; top: 0;",b.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",E.style.cssText="position: absolute; width: 200%; height: 200%;",v.appendChild(y),b.appendChild(E),g.appendChild(v),g.appendChild(b),f.appendChild(g),e.appendChild(f),l(v,"scroll",x),l(b,"scroll",k),o(c).onExpandScroll=x,o(c).onShrinkScroll=k}else m("Aborting because element has been uninstalled");function x(){o(c).onExpand&&o(c).onExpand()}function k(){o(c).onShrink&&o(c).onShrink()}}function w(){function r(e,t,n){var i=function(e){return d(e).childNodes[0]}(e),o=E(t),a=x(n);i.style.width=o+"px",i.style.height=a+"px"}function s(i){var s=c.offsetWidth,d=c.offsetHeight;m("Storing current size",s,d),v(c,s,d),n.add(0,(function(){if(o(c))if(l()){if(e.debug){var n=c.offsetWidth,i=c.offsetHeight;n===s&&i===d||t.warn(a.get(c),"Scroll: Size changed before updating detector elements.")}r(c,s,d)}else m("Aborting because element container has not been initialized");else m("Aborting because element has been uninstalled")})),n.add(1,(function(){o(c)?l()?k(c,s,d):m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")})),i&&n.add(2,(function(){o(c)?l()?i():m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")}))}function l(){return!!o(c).container}function p(){m("notifyListenersIfNeeded invoked");var e=o(c);return void 0===o(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?m("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?m("Not notifying: Size already notified"):(m("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(o(c).listeners,(function(e){e(c)})))}function f(){if(m("Scroll detected."),h(c))m("Scroll event fired while unrendered. Ignoring...");else{var e=c.offsetWidth,t=c.offsetHeight;e!==c.lastWidth||t!==c.lastHeight?(m("Element size changed."),s(p)):m("Element size has not changed ("+e+"x"+t+").")}}if(m("registerListenersAndPositionElements invoked."),o(c)){o(c).onRendered=function(){if(m("startanimation triggered."),h(c))m("Ignoring since element is still unrendered...");else{m("Element rendered.");var e=d(c),t=u(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(m("Scrollbars out of sync. Updating detector elements..."),s(p))}},o(c).onExpand=f,o(c).onShrink=f;var g=o(c).style;r(c,g.width,g.height)}else m("Aborting because element has been uninstalled")}function I(){if(m("finalizeDomMutation invoked."),o(c)){var e=o(c).style;v(c,e.width,e.height),k(c,e.width,e.height)}else m("Aborting because element has been uninstalled")}function O(){p(c)}function D(){var e;m("Installing..."),o(c).listeners=[],e=f(),o(c).startSize={width:e.width,height:e.height},m("Element start size",o(c).startSize),n.add(0,g),n.add(1,S),n.add(2,w),n.add(3,I),n.add(4,O)}p||(p=c,c=e,e=null),e=e||{},m("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===getComputedStyle(e)}(c)?D():(m("Element is detached"),C(),m("Waiting until element is attached..."),o(c).onRendered=function(){m("Element is now attached"),D()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&c(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(u(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}}}]);