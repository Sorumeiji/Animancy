(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"1wEQ":function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.AUTO_HOST="auto-host",e.DROPS="drops",e.PERMISSIONS="permissions",e.RAIDS="raids",e.TEAMS="teams",e.SQUAD_STREAM="squad-stream",e.STREAM_PREFERENCES="stream-preferences",e.VIDEO_BANNER="video-banner",e.VIDEO_MODERATION="video-moderation",e.VIEWER_MILESTONES="viewer-milestones",e.CREATOR_ACCENT_COLOR="creator-accent-color"}(i||(i={}))},IWck:function(e,n,t){"use strict";var i,a;t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a})),function(e){e.DismissToken="token_dismissed",e.RedeemToken="token_redeemed",e.RequestEligibility="eligibility_requested",e.RequestToken="token_requested"}(i||(i={})),function(e){e.Click="clicked_manage_in_dashboards",e.Dismiss="dismissed"}(a||(a={}))},WkKR:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return c})),t.d(n,"e",(function(){return l})),t.d(n,"c",(function(){return d}));var i=t("/7QA"),a=t("2xye"),s=t("IWck"),r=function(e){var n={action:s.b.DismissToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:null};i.o.track(a.SpadeEventType.NewChatterTokenStatus,n)},o=function(e){var n={action:s.b.RedeemToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:e.userMessage};i.o.track(a.SpadeEventType.NewChatterTokenStatus,n)},c=function(e){var n={action:s.b.RequestEligibility,channel_id:e.channelID,user_banner:null,user_message:null};i.o.track(a.SpadeEventType.NewChatterTokenStatus,n)},l=function(e){var n={action:s.b.RequestToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:null};i.o.track(a.SpadeEventType.NewChatterTokenStatus,n)},d=function(e){var n={action:e.action,channel_id:e.channelID};i.o.track(a.SpadeEventType.NewChatterOnboardingInteraction,n)}},bDCY:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RitualsEnabled_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ritualsEnabled"},directives:[]}]}}]}}],loc:{start:0,end:153}};i.loc.source={body:'#import "twilight/features/chat/models/rituals-enabled-fragment.gql"\nquery RitualsEnabled_User($id: ID!) {\nchannel: user(id: $id) {\n...ritualsEnabled\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("pKQ0").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var s={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.RitualsEnabled_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(i,"RitualsEnabled_User")},pKQ0:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ritualsEnabled"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isRitualsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRitualsWhitelisted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};t.loc.source={body:"fragment ritualsEnabled on User {\nid\nsettings {\nisRitualsEnabled\nisRitualsWhitelisted\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},rg60:function(e,n,t){"use strict";t.r(n);var i=t("mrSG"),a=t("w09P"),s=t("q1tI"),r=t("/MKj"),o=t("fvjX"),c=t("/7QA"),l=t("yR8l"),d=t("eDVu"),u=t("0Log"),m=t("/aPz"),f=t("kRBY"),p=t("IWck"),h=t("wo8Z"),k=t("bDCY"),b=t("WkKR"),v=t("1wEQ"),g=t("Ws8v"),E=t("X2PJ"),S=t("sUnt"),y=t("+80q"),D=t("Jsra"),O=t("hnjF"),R=t("7uM4"),_=t("C7sF"),N=t("7d/q"),I=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return s.createElement(g.a,{background:E.a.Base,color:E.c.Alt},s.createElement(S.a,{padding:{bottom:.5,top:1,x:1}},s.createElement(S.a,{margin:{bottom:.5}},s.createElement(y.a,{bold:!0,type:y.e.H5},Object(c.d)("Introducing: New Chatter Announcements!","RitualsOnboardingSticky"))),s.createElement(S.a,{margin:{bottom:.5}},s.createElement(y.a,{type:y.e.Span},Object(c.d)("New chatter announcements are now active in your channel, making it easier to welcome new people.","RitualsOnboardingSticky")),s.createElement(y.a,null,s.createElement(D.a,{onClick:this.props.onClick,to:{pathname:"/"+this.props.channelLogin+"/dashboard/settings",hash:"#"+v.a.VIEWER_MILESTONES},"data-test-selector":"rituals-sticky-link"},Object(c.d)("Manage in Dashboard","RitualsOnboardingSticky"))))),s.createElement(g.a,{alignItems:O.b.Center,background:E.a.Alt2,borderBottom:!0,color:E.c.Alt2,display:O.d.Flex,padding:{x:1,y:.5}},s.createElement(R.a,{asset:_.a.Lock,height:12,width:12}),s.createElement(S.a,{display:O.d.Inline,margin:{left:.5}},s.createElement(y.a,{fontSize:E.d.Size8,type:y.e.Span},Object(c.d)("You see this because you own this channel","RitualsOnboardingSticky")))),s.createElement(g.a,{attachRight:!0,attachTop:!0,padding:{x:.5,top:1},position:O.j.Absolute},s.createElement(N.a,{ariaLabel:Object(c.d)("Close","RitualsOnboardingSticky"),icon:_.a.Close,onClick:this.props.onDismiss,size:N.b.Small,type:N.c.Secondary,"data-test-selector":"rituals-sticky-dismiss-button"})))},n}(s.PureComponent),w="seenNewChatterAnnouncementSticky",C=function(e){function n(n){var t=e.call(this,n)||this;return t.state={isDismissed:!1},t.onClick=function(){Object(b.c)({action:p.a.Click,channelID:t.props.channelID})},t.onDismiss=function(){c.m.set(w,!0),t.setState({isDismissed:!0}),Object(b.c)({action:p.a.Dismiss,channelID:t.props.channelID})},t.state.isDismissed=c.m.get(w,!1),t}return Object(i.__extends)(n,e),n.prototype.render=function(){return!this.props.data||this.props.data.loading||this.props.data.error?null:this.props.data.channel&&this.props.data.channel.settings&&this.props.data.channel.settings.isRitualsEnabled?this.state.isDismissed?null:s.createElement(I,{channelLogin:this.props.channelLogin,onClick:this.onClick,onDismiss:this.onDismiss}):null},n}(s.Component);function T(e){return e.currentUserID!==e.channelID||!Object(h.a)()}var j=Object(o.d)(Object(r.b)((function(e){var n=Object(f.e)(e);return{currentUserID:n&&n.id}}),null),Object(l.a)(k,{options:function(e){return{variables:{id:e.channelID}}},skip:T}),Object(d.a)((function(e){return{query:k,variables:{id:e.channelID},topic:Object(m.N)(e.channelID),type:u.PubsubMessageType.UpdatedChannelChatProperty,mutator:function(e,n){return n.channel&&n.channel.settings?a(n,(function(e){return e.channel.settings.isRitualsEnabled}),(function(){return e.data.is_rituals_enabled})):n},skip:T(e)}})))(C);t.d(n,"RitualsOnboardingStickyContainer",(function(){return C})),t.d(n,"RitualsOnboardingSticky",(function(){return j}))},wo8Z:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("/7QA"),a=function(){return i.m.get("ritualsFeatureFlagOverride",i.b.get("viewer_milestones_enabled",!1))}}}]);