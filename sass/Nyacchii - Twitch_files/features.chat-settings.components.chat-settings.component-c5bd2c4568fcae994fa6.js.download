(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"+UdT":function(e,n,t){},"/HY+":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=t("ZS2+").a.wrap((function(){return t.e(92).then(t.bind(null,"q0CL"))}),"ReportUserModal")},"05LN":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubsOnlyMode_Query"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147}};t.loc.source={body:"query SubsOnlyMode_Query($login: String!) {\nuser(login: $login) {\nid\nroles {\nisPartner\nisAffiliate\n}\nsubscriptionProducts {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.SubsOnlyMode_Query=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"SubsOnlyMode_Query")},"1Rv/":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};t.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.Chat_UnbanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"Chat_UnbanUserFromChatRoom")},"1T0i":function(e,n,t){},"1wEQ":function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),function(e){e.AUTO_HOST="auto-host",e.DROPS="drops",e.PERMISSIONS="permissions",e.RAIDS="raids",e.TEAMS="teams",e.SQUAD_STREAM="squad-stream",e.STREAM_PREFERENCES="stream-preferences",e.VIDEO_BANNER="video-banner",e.VIDEO_MODERATION="video-moderation",e.VIEWER_MILESTONES="viewer-milestones",e.CREATOR_ACCENT_COLOR="creator-accent-color"}(a||(a={}))},"1yrz":function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatSettings_DeselectGlobalBadge"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deselectGlobalBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:198}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nmutation ChatSettings_DeselectGlobalBadge {\ndeselectGlobalBadge {\nuser {\nid\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_DeselectGlobalBadge=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_DeselectGlobalBadge")},"2EzP":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var a=t("XIZb"),i=Object(a.a)("MessageHandler"),r=i.withChatServiceManager,o=i.withContext,s=r,d=o((function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}}))},"4HoE":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ModUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};t.loc.source={body:"mutation ModUser($input: ModUserInput!){\nmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.ModUser=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"ModUser")},"4ilF":function(e,n,t){"use strict";var a=t("mrSG"),i=t("q1tI"),r=t("/MKj"),o=t("fvjX"),s=t("yR8l"),d=t("x7UT"),l=t("0Log"),c=t("geRD"),u=t("2Ygb"),m=t("/aPz"),h=t("kRBY"),p=t("4HoE"),g=t("FAYk"),f=t("6ovE"),v=t("a6LY"),b=t("H82h"),k=t("qMs1");function S(){return function(e){var n,t=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.modUser=function(){var n=e.props,t=n.channelID,a=n.userID,i=n.modUserMutation;return t&&a&&i?i(Object(c.a)({channelID:t,targetID:a})).then((function(n){return e.updateUserModStatusQuery(!0),e.trackChatLoginModerationEvent(v.a.ModUser),n})):Promise.reject(new Error("channelID or userID not provided"))},e.unmodUser=function(){var n=e.props,t=n.channelID,a=n.userID,i=n.unmodUserMutation;return t&&a&&i?i(Object(c.a)({channelID:t,targetID:a})).then((function(n){return e.updateUserModStatusQuery(!1),e.trackChatLoginModerationEvent(v.a.UnmodUser),n})):Promise.reject(new Error("channelID or userID not provided"))},e.updateUserModStatusQuery=function(n){var t=e.props,a=t.channelID,i=t.currentUserID,r=t.userID;Object(c.i)(f,{channelID:a,userID:r},(function(e){var t=e&&e.user;return t?{user:{id:t.id,login:t.login,__typename:t.__typename,isModerator:n}}:e})),i===r&&e.updateSelfModStatusQuery(n)},e.updateSelfModStatusQuery=function(n){var t=e.props,i=t.channelID,r=t.currentUserID;t.userID===r&&Object(c.i)(k,{channelID:i},(function(e){var t=e&&e.user,i=t&&t.self;return t&&i?{user:{id:t.id,__typename:t.__typename,self:Object(a.__assign)(Object(a.__assign)({},i),{isModerator:n})}}:e}))},e.trackChatLoginModerationEvent=function(n){var t=e.props.userModStatusData&&e.props.userModStatusData.user&&e.props.userModStatusData.user.id,a=e.props.channelID,i=e.props.source;t&&a&&i&&Object(b.a)(n,a,t,i)},e}return Object(a.__extends)(t,n),t.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.moderatorActions||e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions)&&this.props.pubsub.messages.moderatorActions)switch(this.props.pubsub.messages.moderatorActions.type){case l.PubsubMessageType.ModeratorAdded:this.updateUserModStatusQuery(!0);break;case l.PubsubMessageType.ModeratorRemoved:this.updateUserModStatusQuery(!1);break;default:return}},t.prototype.render=function(){var n={userModStatus:this.props.userModStatusData,modUser:this.props.channelID&&this.props.userID&&this.modUser||void 0,unmodUser:this.props.channelID&&this.props.userID&&this.unmodUser||void 0};return i.createElement(e,Object(a.__assign)({},this.props,n))},t.displayName=Object(u.a)(t.name,e),t}(i.Component);return Object(o.d)(Object(r.b)((function(e){var n=Object(h.e)(e);return{currentUserID:n&&n.id}})),Object(s.a)(p,{name:"modUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(g,{name:"unmodUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(f,{name:"userModStatusData",options:function(e){return{variables:{channelID:e.channelID,userID:e.userID}}},skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(k,{name:"selfModStatusData",options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!(e.channelID&&e.userID)||e.userID!==e.currentUserID}}),Object(d.a)([{topic:function(e){return Object(m.A)(e.userID||"",e.channelID||"")},mapMessageTypesToProps:(n={},n[l.PubsubMessageType.ModeratorAdded]="moderatorActions",n[l.PubsubMessageType.ModeratorRemoved]="moderatorActions",n),skipMessage:function(e,n){var t=e;return!n.userID||t.data.target_user_id!==n.userID}}]))(t)}}t.d(n,"a",(function(){return S}))},"4w0E":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};t.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.Chat_BanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"Chat_BanUserFromChatRoom")},"5Z5u":function(e,n,t){"use strict";var a,i=t("q1tI"),r=t("fvjX"),o=t("yR8l"),s=t("wUQP"),d=t("YV90"),l=t("BdUW"),c=t("nAiT"),u=t("4wKg"),m=t("C7sF"),h=t("sUnt"),p=t("hnjF"),g=t("OvMb");!function(e){e.RequestsCount="requests-count"}(a||(a={}));var f=Object(r.d)(Object(d.a)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}})),Object(o.a)(g,{options:function(e){return{skip:!e.isChannelPointsEnabled,variables:{channelLogin:e.channelLogin}}}}))((function(e){if(!e.isChannelPointsEnabled||!Object(s.c)("copo_full_launch"))return null;var n=e.data&&e.data.user&&e.data.user.channel&&e.data.user.channel.communityPointsSettings&&e.data.user.channel.communityPointsSettings.summarizedRewards,t="";if(n){var r=n.reduce((function(e,n){return e+n.count}),0),o=n.some((function(e){return e.isCountAtMaximum}));r>99?t="99+":r&&(t=r+(o?"+":""))}return i.createElement(u.a,{actionIcon:m.a.Popout,onClick:function(){Object(l.a)(e.uiContext,e.channelLogin,e.channelID||void 0)},targetBlank:!0,value:t},i.createElement(h.a,{alignItems:p.b.Center,display:p.d.Flex,justifyContent:p.h.Between},i.createElement(h.a,null,Object(c.f)()),t&&i.createElement(h.a,{margin:{left:1},"data-test-selector":a.RequestsCount},t)))}));t.d(n,"a",(function(){return f}))},"6ovE":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[]}]}}]}}],loc:{start:0,end:124}};t.loc.source={body:"query UserModStatus ($userID: ID! $channelID: String!) {\nuser(id: $userID) {\nid\nlogin\nisModerator(channelID: $channelID)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.UserModStatus=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"UserModStatus")},"6wGa":function(e,n,t){"use strict";var a=t("mrSG"),i=t("q1tI"),r=t("/MKj"),o=t("fvjX"),s=t("/7QA"),d=t("esZd"),l=t("xQnr"),c=t("geRD"),u=t("DMoW"),m=t("kRBY"),h=t("TApp"),p=t("a6LY"),g=t("yR8l"),f=t("H82h"),v=t("gO1k");var b=t("2EzP");var k=t("vLL+"),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var e,n,t,i,r,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),n={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(c.a)(n))];case 2:return(t=a.sent().data)?((i=t.deleteChatMessage)&&i.responseCode!==u.nb.SUCCESS&&(r=i.message&&i.message.sender&&i.message.sender.displayName||this.props.senderLogin,o=function(e,n){switch(e){case u.nb.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.nb.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.nb.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:n},"DeleteChatMessageErrorCode");case u.nb.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:n},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(i.responseCode,r),this.surfaceError(o)),[3,4]):(this.surfaceError(e),[2]);case 3:return a.sent(),this.surfaceError(e),[3,4];case 4:return[2]}}))}))},n.surfaceError=function(e){n.props.surfaceError&&n.props.surfaceError(e)},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:i.createElement(k.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},n}(i.Component);var C=Object(o.d)(b.a,Object(d.a)((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{targetID:e.targetUserID,source:p.b.QuickModButtons,surfaceError:function(n){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(h.a)(n))}})})),l.a,function(){var e=this;return Object(g.a)(v,{props:function(n){return{deleteChatMessageMutation:function(t){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(!n.mutate)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.mutate(t)];case 2:return(e=a.sent()).data&&e.data.deleteChatMessage&&e.data.deleteChatMessage.message&&e.data.deleteChatMessage.message.sender&&Object(f.a)(p.a.DeleteMessage,t.variables.input.channelID,e.data.deleteChatMessage.message.sender.id,p.b.QuickModButtons),[2,{data:e.data}];case 3:throw a.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}}))}))}}}})}(),Object(r.b)((function(e){return{sessionUser:Object(m.e)(e)}})))(S);t.d(n,"a",(function(){return C}))},"8MX0":function(e,n,t){"use strict";t.r(n);var a,i=t("mrSG"),r=t("TSYQ"),o=t("q1tI"),s=t("fvjX"),d=t("/7QA"),l=t("ZDlU"),c=t("8/mp"),u=t("yR8l"),m=t("/MKj"),h=t("+pBb"),p=t("Tznh"),g=t("VJH5"),f=t("sUnt"),v=t("Ws8v"),b=t("+80q"),k=t("X2PJ"),S=t("hnjF"),C=t("K/KT"),E=t("Jsra");!function(e){e.ToggleTop="chat-filter-top-toggle",e.ToggleA="chat-filter-a",e.ToggleI="chat-filter-toggle-i",e.ToggleP="chat-filter-toggle-p",e.ToggleS="chat-filter-toggle-s"}(a||(a={}));var y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onFilterToggled=function(){n.props.viewerChatFilterEnabled?n.props.disableViewerChatFilter(n.props.chatFilterSettingsSource):n.props.enableViewerChatFilter(n.props.chatFilterSettingsSource)},n.onAggressiveToggled=function(){n.toggleSetting(g.a.Aggressive)},n.onIdentityToggled=function(){n.toggleSetting(g.a.Identity)},n.onProfanityToggled=function(){n.toggleSetting(g.a.Profanity)},n.onSexualToggled=function(){n.toggleSetting(g.a.Sexual)},n.toggleSetting=function(e){var t;n.props.changeViewerChatFilterSettings(Object(i.__assign)(Object(i.__assign)({},n.props.settings),((t={})[e]=!n.props.settings[e],t)),n.props.chatFilterSettingsSource)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return o.createElement(f.a,{padding:{x:.5}},o.createElement(v.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},o.createElement(f.a,{margin:{top:.5}},o.createElement(b.a,{color:k.c.Alt2,transform:b.d.Uppercase,bold:!0},Object(d.d)("Chat Filters","ChatFilter"))),o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,margin:{top:.5}},Object(d.d)("Enable filtering in chat","ChatFilter"),o.createElement(C.a,{checked:this.props.viewerChatFilterEnabled,onChange:this.onFilterToggled,"data-test-selector":a.ToggleTop}))),o.createElement(v.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},o.createElement(f.a,null,o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Select the filters you would like to block in chat across all channels. In channels you moderate, you will still see all messages.","ChatFilter"))),o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,margin:{top:1}},o.createElement(f.a,null,Object(d.d)("Discrimination","ChatFilter"),o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Negative language about race, gender, orientation, or similar","ChatFilter"))),o.createElement(C.a,{checked:this.props.settings[g.a.Identity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onIdentityToggled,"data-test-selector":a.ToggleI})),o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,margin:{top:1}},o.createElement(f.a,null,Object(d.d)("Sexually Explicit Language","ChatFilter"),o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("References to sexual acts, sexual content, and body parts","ChatFilter"))),o.createElement(C.a,{checked:this.props.settings[g.a.Sexual],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onSexualToggled,"data-test-selector":a.ToggleS})),o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,margin:{top:1}},o.createElement(f.a,null,Object(d.d)("Hostility","ChatFilter"),o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Aggressive or bullying language towards other people","ChatFilter"))),o.createElement(C.a,{checked:this.props.settings[g.a.Aggressive],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onAggressiveToggled,"data-test-selector":a.ToggleA})),o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,margin:{top:1}},o.createElement(f.a,null,Object(d.d)("Profanity","ChatFilter"),o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Curse words, expletives, or other obscenities","ChatFilter"))),o.createElement(C.a,{checked:this.props.settings[g.a.Profanity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onProfanityToggled,"data-test-selector":a.ToggleP}))),o.createElement(f.a,null,o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Hate and harassment are not allowed on Twitch. If you see it, <x:link>please report it</x:link>.",{"x:link":function(e){return o.createElement(E.a,{targetBlank:!0,to:"https://help.twitch.tv/customer/portal/articles/725568-how-to-file-a-report"},e)}},"ChatFilter"))))},n}(o.Component);var D,w=Object(s.d)(Object(m.b)((function(e){return{settings:e.chat.viewerChatFilterSettings,viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}}),(function(e){return Object(s.b)({changeViewerChatFilterSettings:h.y,disableViewerChatFilter:h.F,enableViewerChatFilter:h.K},e)})),Object(p.d)((function(e){return e})))(y),O=t("4wKg"),M=t("C7sF");!function(e){e.ClickTarget="chat-filter-item-click-target"}(D||(D={}));var N=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){if(this.props.chatFilterExperimentMembership===p.b.Excluded)return null;var e=this.props.viewerChatFilterEnabled?Object(d.d)("On","ChatFilterItem"):Object(d.d)("Off","ChatFilterItem");return o.createElement(O.a,{onClick:this.props.onClick,"data-test-selector":D.ClickTarget,label:Object(d.d)("Chat Filters","ChatFilterItem"),actionIcon:M.a.AngleRight,value:e})},n}(o.Component);var I=Object(s.d)(Object(m.b)((function(e){return{viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}})),Object(p.d)((function(e){return e})))(N),_=t("TDxE"),F=t("8Ad5"),j=t("SDEh");var U,T=t("b7S+"),A=t("A5Hy"),B=t("3Czn");t("1T0i");!function(e){e.ColorSwatch="color_swatch",e.Header="header",e.MoreColors="more_colors"}(U||(U={}));var R,P=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onKeyPress=function(e){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var t=e.currentTarget.getAttribute("data-color");n.selectColor(t)}},n.onColorSelected=function(e){var t=e.currentTarget.getAttribute("data-color");n.selectColor(t)},n.selectColor=function(e){e&&n.props.onColorSelected(e)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this,n=[{name:Object(d.d)("Red","ChatColorChooser"),hex:"#FF0000"},{name:Object(d.d)("Blue","ChatColorChooser"),hex:"#0000FF"},{name:Object(d.d)("Green","ChatColorChooser"),hex:"#008000"},{name:Object(d.d)("Firebrick","ChatColorChooser"),hex:"#B22222"},{name:Object(d.d)("Coral","ChatColorChooser"),hex:"#FF7F50"},{name:Object(d.d)("Yellow Green","ChatColorChooser"),hex:"#9ACD32"},{name:Object(d.d)("Orange Red","ChatColorChooser"),hex:"#FF4500"},{name:Object(d.d)("Sea Green","ChatColorChooser"),hex:"#2E8B57"},{name:Object(d.d)("Goldenrod","ChatColorChooser"),hex:"#DAA520"},{name:Object(d.d)("Chocolate","ChatColorChooser"),hex:"#D2691E"},{name:Object(d.d)("Cadet Blue","ChatColorChooser"),hex:"#5F9EA0"},{name:Object(d.d)("Dodger Blue","ChatColorChooser"),hex:"#1E90FF"},{name:Object(d.d)("Hot Pink","ChatColorChooser"),hex:"#FF69B4"},{name:Object(d.d)("Blue Violet","ChatColorChooser"),hex:"#8A2BE2"},{name:Object(d.d)("Spring Green","ChatColorChooser"),hex:"#00FF7F"}].map((function(n){var t=n.hex===e.props.selectedColor,a={"color-chooser":!0,"color-chooser--selected":t};return o.createElement(f.a,{key:n.hex,margin:{y:.5,right:1}},o.createElement(T.a,{label:n.name,"data-test-selector":U.ColorSwatch},o.createElement(k.f,{className:r(a),borderRadius:k.b.Small},o.createElement("div",{onClick:e.onColorSelected,"data-color":n.hex,onKeyPress:e.onKeyPress,"data-test-selector":U.ColorSwatch+"_"+n.hex,"data-a-target":"color_swatch_"+n.hex,tabIndex:0},o.createElement(S.g,{fullWidth:!0,fullHeight:!0,role:A.c.Radio,"aria-checked":t},o.createElement("div",{style:{backgroundColor:n.hex}}))))))})),t=Object(d.d)("Name Color","ChatSettings"),a=o.createElement(B.a,{"data-test-selector":U.Header,children:t});this.props.borderTop&&(a=o.createElement(v.a,{margin:{top:2},borderTop:!0,padding:{top:2}},a));var i=Object(j.b)(),s=this.props.hasExtraColors?"https://www.twitch.tv/settings/prime":"https://twitch.tv/products/turbo?ref=more_colors_direct";return o.createElement(f.a,{padding:{top:.5}},o.createElement(v.a,{color:k.c.Base,display:S.d.InlineFlex,flexDirection:S.e.Column,fullWidth:!0},a),o.createElement(S.g,{padding:{x:.5}},o.createElement(b.a,null,Object(d.d)("Pick a color, any color! It may take several minutes for your color to update in the chat room.","ChatSettings"))),o.createElement(S.g,{margin:.5,display:S.d.Flex,alignItems:S.b.Center,flexWrap:S.f.Wrap},o.createElement("div",{role:"radiogroup","aria-label":t},n,o.createElement(E.a,{"data-test-selector":U.MoreColors,linkTo:s,targetBlank:i},Object(d.d)("More colors","ChatSettings")))))},n}(o.Component),L=t("pQ8o"),x=t("geRD"),V=t("2xye"),G=t("IZXT"),H=t("xZ3y"),q=t("G9mL"),Q=t("7uM4"),Y=t("M//1"),z=t("8lYn"),K=t("1yrz"),W=t("IZiu"),$=t("GLB1"),X=(t("TwNI"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onGlobalBadgeClicked=function(e){var t=e.currentTarget.dataset.badgeId;if(t){var a=e.currentTarget.dataset.badgeVersion;n.setGlobalBadge(t,a||null)}else n.unsetGlobalBadge()},n.onGlobalBadgeKeyPress=function(e){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var t=e.currentTarget.dataset.badgeId;if(t){var a=e.currentTarget.dataset.badgeVersion;n.setGlobalBadge(t,a||null)}else n.unsetGlobalBadge()}},n.onChannelBadgeClicked=function(e,t){var a=e&&e.setID||"";if(a){var i=e&&e.version;n.setChannelBadge(a,i||null)}else n.unsetChannelBadge();n.trackBitsBadgeDisplaySelectionEvent(e,t)},n.onChannelBadgeKeyPress=function(e,t,a){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var i=t&&t.setID||"";if(i){var r=t&&t.version;n.setChannelBadge(i,r||null)}else n.unsetChannelBadge();n.trackBitsBadgeDisplaySelectionEvent(t,a)}},n.setChannelBadge=function(e,t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n={badgeSetID:e,badgeSetVersion:t||null,channelID:this.props.channelID},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.props.selectChannelBadge(Object(x.a)(n))];case 2:return i.sent(),this.props.onBadgesChanged(),[3,4];case 3:return a=i.sent(),Object(G.d)()?d.k.warn("Failed to set channel badge"):d.k.errorAndReport(a,"Failed to set channel badge"),[3,4];case 4:return[2]}}))}))},n.setGlobalBadge=function(e,t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n={badgeSetID:e,badgeSetVersion:t||null},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.props.selectGlobalBadge(Object(x.a)(n))];case 2:return i.sent(),this.props.onBadgesChanged(),[3,4];case 3:return a=i.sent(),Object(G.d)()?d.k.warn("Failed to set global badge"):Object(G.d)()?d.k.warn("Failed to set global badge"):d.k.errorAndReport(a,"Failed to set global badge"),[3,4];case 4:return[2]}}))}))},n.unsetChannelBadge=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:e={channelID:this.props.channelID},t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.deselectChannelBadge(Object(x.a)(e))];case 2:return t.sent(),this.props.onBadgesChanged(),[3,4];case 3:return n=t.sent(),Object(G.d)()?d.k.warn("Failed to unset channel badge"):d.k.errorAndReport(n,"Failed to unset channel badge"),[3,4];case 4:return[2]}}))}))},n.unsetGlobalBadge=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.deselectGlobalBadge()];case 1:return n.sent(),this.props.onBadgesChanged(),[3,3];case 2:return e=n.sent(),Object(G.d)()?d.k.warn("Failed to unset global badge"):d.k.errorAndReport(e,"Failed to unset global badge"),[3,3];case 3:return[2]}}))}))},n}return Object(i.__extends)(n,e),n.renderDivider=function(){return o.createElement(q.a,{key:"edit-appearance-divider"})},n.renderGlobalBadgeNoneChooser=function(){return o.createElement("div",{className:"edit-appearance__badge-chooser__global-badge-none"},o.createElement(Q.a,{asset:M.a.Ban}))},n.prototype.render=function(){var e=this.props.data,t=e.error,a=e.loading,i=e.user,r=e.currentUser;return a?null:!t&&i&&i.self&&r?o.createElement("div",null,this.getBadgeChooser(),n.renderDivider(),o.createElement(P,{selectedColor:this.props.userChatColor,onColorSelected:this.props.onColorSelected,hasExtraColors:r.hasTurbo||r.hasPrime})):o.createElement(l.PageError,{message:Object(d.d)("Error loading data.","EditAppearance")})},n.prototype.getBadgeChooser=function(){var e=this,t=this.props.data,a=t.user,i=t.currentUser,s=a.self.availableBadges,l=a.self.selectedBadge,c=i.availableBadges,u=i.selectedBadge;if(!s)return null;var m=s.filter((function(e){return null!==e})),h=null===c?null:c.filter((function(e){return null!==e})),p=l?l.setID:null,g=l?l.version:null,C=!p,E={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":C},y=[];m.length>0&&(y=m.map((function(n){var t=!(!p||n.setID!==p||g&&n.version!==g),a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":t};return o.createElement(f.a,{key:n.setID+"/"+n.version,margin:{y:.5,right:1}},o.createElement(T.a,{label:n.title},o.createElement(k.f,{className:r(a),borderRadius:k.b.Small},o.createElement("div",{onClick:e.onChannelBadgeClicked.bind(e,n,l),onKeyPress:function(t){return e.onChannelBadgeKeyPress(t,n,l)},"data-badge-id":n.setID,"data-badge-version":n.version||null,"data-test-selector":"channel_badge_"+n.setID+"_"+n.version,"data-a-target":"channel_badge_"+n.setID,tabIndex:0},o.createElement(S.g,{fullWidth:!0,fullHeight:!0,role:A.c.Radio,"aria-checked":t},o.createElement("img",{alt:n.title,src:n.image2x,srcSet:n.image2x+" 1x, "+n.image4x+" 2x"}))))))}))).push(o.createElement(f.a,{key:"none",margin:{y:.5,right:1}},o.createElement(T.a,{label:Object(d.d)("Default Global Badge","ChatSettings")},o.createElement(k.f,{className:r(E),borderRadius:k.b.Small},o.createElement("div",{onClick:this.onChannelBadgeClicked.bind(this,null,l),onKeyPress:function(n){return e.onChannelBadgeKeyPress(n,null,l)},"data-test-selector":"channel_badge_none","data-a-target":"channel_badge_none",tabIndex:0},o.createElement(S.g,{fullWidth:!0,fullHeight:!0,role:A.c.Radio,"aria-checked":C,className:"edit-appearance__badge-chooser__channel-badge-none"},u?o.createElement("img",{alt:u.title,src:u.image2x,srcSet:u.image2x+" 1x, "+u.image4x+" 2x"}):n.renderGlobalBadgeNoneChooser()))))));var D=u?u.setID:null,w=u?u.version:null,O=!D,M={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":O},N=[];h&&h.length>0&&(N=h.map((function(n){var t=!(!D||n.setID!==D||w&&n.version!==w),a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":t};return o.createElement(f.a,{key:n.setID+"/"+n.version,margin:{y:.5,right:1}},o.createElement(T.a,{label:n.title},o.createElement(k.f,{className:r(a),borderRadius:k.b.Small},o.createElement("div",{onClick:e.onGlobalBadgeClicked,onKeyPress:e.onGlobalBadgeKeyPress,"data-badge-id":n.setID,"data-badge-version":n.version,"data-test-selector":"global_badge_"+n.setID+"_"+n.version,"data-a-target":"global_badge_"+n.setID,tabIndex:0},o.createElement(S.g,{fullWidth:!0,fullHeight:!0,role:A.c.Radio,"aria-checked":t},o.createElement("img",{alt:n.title,src:n.image2x,srcSet:n.image2x+" 1x, "+n.image4x+" 2x"}))))))}))).push(o.createElement(f.a,{key:"none",margin:{y:.5,right:1}},o.createElement(T.a,{label:Object(d.d)("None","ChatSettings")},o.createElement(k.f,{className:r(M),borderRadius:k.b.Small},o.createElement("div",{onClick:this.onGlobalBadgeClicked,onKeyPress:this.onGlobalBadgeKeyPress,"data-test-selector":"global_badge_none","data-a-target":"global_badge_none",tabIndex:0},o.createElement(S.g,{fullWidth:!0,fullHeight:!0,role:A.c.Radio,"aria-checked":O},n.renderGlobalBadgeNoneChooser()))))));var I=y&&y.length>0,_=N&&N.length>0,F=!I&&!_;return o.createElement("div",null,o.createElement(v.a,{color:k.c.Base,display:S.d.InlineFlex,flexDirection:S.e.Column,fullWidth:!0},o.createElement(B.a,{children:Object(d.d)("Customizable Badge","ChatSettings")}),I&&o.createElement(f.a,null,o.createElement(S.g,{padding:{x:.5}},o.createElement(b.a,null,Object(d.d)("<x:strong>{channelLogin}'s Channel Badges:</x:strong> This replaces your default global badge only on {channelLogin}'s channel.",{channelLogin:this.props.channelLogin,"x:strong":function(e){return o.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ChatSettings"))),o.createElement(S.g,{margin:{top:.5,bottom:_?1:.5},padding:{x:.5},display:S.d.Flex,"data-a-target":"channel-badge-selector",alignItems:S.b.Center,flexWrap:S.f.Wrap},o.createElement("div",{role:"radiogroup"},y))),_&&o.createElement(f.a,null,o.createElement(S.g,{padding:{x:.5}},o.createElement(b.a,null,Object(d.d)("<x:strong>Default Global Badges:</x:strong> These appear across channels and whispers.",{"x:strong":function(e){return o.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ChatSettings"))),o.createElement(S.g,{margin:{top:.5,bottom:.5},padding:{x:.5},display:S.d.Flex,"data-a-target":"global-badge-selector",alignItems:S.b.Center,flexWrap:S.f.Wrap},o.createElement("div",{role:"radiogroup"},N))),F&&o.createElement(S.g,{margin:{bottom:.5},padding:{x:.5}},o.createElement(b.a,null,Object(d.d)("You haven't earned any customizable badges yet. Support your favorite streamers to build your badge collection!","ChatSettings")))))},n.prototype.trackBitsBadgeDisplaySelectionEvent=function(e,n){null===e&&null===n||e&&n&&e.setID===n.setID&&e.version===n.version||(e&&e.setID===H.a&&d.p.tracking.track(V.SpadeEventType.BitsBadgeDisplaySelection,{channel_id:this.props.channelID||"",channel_login:this.props.channelLogin,user_id:this.props.userID,user_login:this.props.userLogin,badge_name:e.title||"",badge_amount:+e.version||0,action:"EQUIP"}),n&&n.setID===H.a&&d.p.tracking.track(V.SpadeEventType.BitsBadgeDisplaySelection,{channel_id:this.props.channelID||"",channel_login:this.props.channelLogin,user_id:this.props.userID,user_login:this.props.userLogin,badge_name:n.title||"",badge_amount:+n.version||0,action:"HIDE"}))},n}(o.Component)),Z=Object(s.d)(Object(u.a)(Y,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(u.a)(W,{name:"selectChannelBadge"}),Object(u.a)($,{name:"selectGlobalBadge"}),Object(u.a)(K,{name:"deselectGlobalBadge"}),Object(u.a)(z,{name:"deselectChannelBadge"}))(X),J=t("W/3w"),ee=t("r2Xj"),ne=t("WytW"),te=t("x0gr"),ae=t("y0tB");!function(e){e.FollowerAgeOption="follower-mode-age",e.FollowerModeOffOption="follower-mode-off"}(R||(R={}));var ie=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleFollowerDurationClick=function(e){var t=e.currentTarget.value;if(t){var a=parseInt(t,10);a!==n.props.followerDuration&&(n.props.followerModeEnabled||Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!0,settingName:ee.a.FollowerMode}),n.props.onChatCommand(Object(ne.i)(a)),Object(te.d)({channelLogin:n.props.channelLogin,followerModeOn:!0,isHostMode:n.props.isHostMode,newValue:a}),n.props.onSelectFollowerModeDuration())}},n.handleFollowerModeOffClick=function(){n.props.followerModeEnabled&&(n.props.onChatCommand(Object(ne.d)()),Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!1,settingName:ee.a.FollowerMode}),n.props.onSelectFollowerModeDuration())},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this,n=J.b.map((function(n){return o.createElement(f.a,{key:n,padding:{y:.5}},o.createElement(ae.a,{name:"followers-only-mode-duration","data-a-target":"followers-only-age-option","data-test-selector":R.FollowerAgeOption,label:Object(J.c)(n),checked:e.props.followerModeEnabled&&e.props.followerDuration===n,onChange:e.handleFollowerDurationClick,value:""+n}))})),t=o.createElement(f.a,{key:"followers-only-mode-off",padding:{y:.5}},o.createElement(ae.a,{name:"followers-only-mode-duration","data-a-target":"followers-only-off-option","data-test-selector":R.FollowerModeOffOption,label:Object(d.d)("OFF (Remove followers-only restriction)","ChatSettings"),checked:!this.props.followerModeEnabled,onChange:this.handleFollowerModeOffClick,value:"-1"}));return o.createElement(f.a,{"data-a-target":"followers-only-menu",padding:{x:.5}},o.createElement(f.a,{padding:.5},o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Followers can chat if they have followed for at least","ChatSettings"))),n,t)},n}(o.Component),re=t("1/iK"),oe=t("y5D0"),se=t("jZLd"),de=t("UBeo"),le=t("jBwP"),ce=t("SSXq"),ue=t("Uri2"),me=t("FuI2"),he=t("DMoW"),pe=t("cys1"),ge=t("oK83"),fe=t("iyGE"),ve=t("a2UF"),be=t("HzXE"),ke=t("dEDE"),Se=(t("u/v7"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onReportButtonClick=function(){n.props.onReportButtonClick(n.props.raidID,n.props.raiderUserID,n.props.raiderLogin)},n.onUsernameClick=function(){n.props.onUsernameClick(n.props.raiderLogin,ge.b.recent_raids,n.props.raidID)},n.onBanButtonClick=function(){n.props.banUserMutation(n.props.raiderLogin)},n.onUnbanButtonClick=function(){n.props.unbanUserMutation(n.props.raiderLogin)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return o.createElement(f.a,{className:"recent-raids-item",flexDirection:S.e.Row,display:S.d.Flex,fullWidth:!0},o.createElement(f.a,{flexDirection:S.e.Row,display:S.d.Flex,fullWidth:!0,justifyContent:S.h.Between},o.createElement(b.a,{bold:!0},o.createElement(E.a,{className:"recent-raids-item__name",onClick:this.onUsernameClick,linkTo:"#"},this.props.raiderLogin)),o.createElement(f.a,{position:S.j.Relative},o.createElement(f.a,{className:"recent-raids-item__timestamp"},Object(pe.m)(Date.parse(this.props.timestamp))),this.getCardSlideInContent())))},n.prototype.getCardSlideInContent=function(){var e=null;return e=this.props.data.chatRoomBanStatus&&this.props.data.chatRoomBanStatus.isPermanent?o.createElement(ke.a,{size:ke.b.Small,type:ke.d.Text,onClick:this.onUnbanButtonClick,"data-a-target":"recent-raid-item-button"},Object(d.d)("Unban","RecentRaid")):o.createElement(T.a,{align:T.b.Right,width:150,label:Object(d.d)("Banning a user prevents them from future chatting or raiding","RecentRaid")},o.createElement(ke.a,{size:ke.b.Small,type:ke.d.Text,onClick:this.onBanButtonClick,"data-a-target":"recent-raid-item-button"},Object(d.d)("Ban","RecentRaid"))),o.createElement(f.a,{className:"recent-raids-item__hover-content",zIndex:S.o.Above,"data-a-target":"recent-raids-item-hover"},o.createElement(v.a,{color:k.c.Alt2,display:S.d.InlineFlex},o.createElement(ke.a,{size:ke.b.Small,type:ke.d.Text,onClick:this.onReportButtonClick,"data-a-target":"recent-raid-item-button"},Object(d.d)("Report","RecentRaid"))),e)},n}(o.Component));function Ce(e){return{channelID:e.channelID}}var Ee=Object(s.d)(Object(u.a)(be,{options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.raiderUserID},fetchPolicy:"cache-and-network"}}}),Object(fe.a)(Ce),Object(ve.a)(Ce))(Se),ye=t("1wEQ"),De=t("Osgx"),we=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onReportButtonClick=function(e,t,a){n.props.showReportUserModal({reportContext:{contentType:he.tc.RAID_REPORT,targetUserID:t,contentID:e,extra:JSON.stringify({channel_id:t.toString()}),additionalTrackingID:n.props.targetChannelID||""},title:Object(d.d)("Report {channelDisplayName}",{channelDisplayName:a},"ReportUserModal")})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){if(!this.props.recentRaids)return o.createElement(O.a,{onClick:this.props.onClickRecentRaids,"data-test-selector":"recent-raids-button",actionIcon:M.a.AngleRight,label:Object(d.d)("Review Recent Raids","ChatSettings")});var e=[],n=o.createElement(b.a,{"data-test-selector":"empty-state-text",key:"recent-raids-no-raids",type:b.e.P},Object(d.d)("You have no recent raids","RecentRaids")),t=null;if(this.props.data&&this.props.targetChannelID&&(this.props.data.currentUser&&this.props.targetChannelLogin&&this.props.data.currentUser.id===this.props.targetChannelID&&(t=o.createElement(b.a,{color:k.c.Link,type:b.e.Span,"data-test-selector":"raid-settings-link"},o.createElement(E.a,{linkTo:Object(ce.a)("/"+this.props.targetChannelLogin+"/dashboard/settings#"+ye.a.RAIDS),targetBlank:Object(j.c)()},Object(d.d)("Manage Raid Settings","RecentRaids")))),this.props.data.user&&this.props.data.user.recentRaids)){this.props.data.user.recentRaids.length>0&&(n=null);for(var a=0,i=this.props.data.user.recentRaids;a<i.length;a++){var r=i[a];r&&r.sourceChannel&&e.push(o.createElement(Ee,{key:"recent-raids-item-"+r.sourceChannel.id,channelID:this.props.targetChannelID,onReportButtonClick:this.onReportButtonClick,onUsernameClick:this.props.onUsernameClick,raiderLogin:r.sourceChannel.login,raiderUserID:r.sourceChannel.id,raidID:r.id,timestamp:r.goAt}))}}return o.createElement(f.a,{key:"recent-raids"},o.createElement(f.a,{margin:{bottom:2}},t),n,e)},n}(o.Component),Oe=Object(u.a)(De,{options:function(e){return{variables:{channelID:e.targetChannelID}}}})(we),Me=t("XDCx"),Ne=t("/HY+");var Ie=Object(m.b)(null,(function(e){return Object(s.b)({showReportUserModal:function(e){var n=Object(i.__rest)(e,[]);return Object(Me.e)(Ne.a,n)}},e)}))(Oe),_e=t("5Z5u"),Fe=t("mr+n"),je=t("F6GT"),Ue=t("EgE3"),Te=t("XQbB"),Ae=t("cNYe"),Be=t("i4Ys"),Re=(t("op4u"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleEmoteOnlyToggle=function(){n.props.emoteOnlyModeEnabled?n.props.onChatCommand(Object(ne.c)()):n.props.onChatCommand(Object(ne.h)())},n.handleSubsOnlyToggle=function(){if(n.props.channelID&&n.props.data.user&&n.props.data.user.subscriptionProducts){var e=!n.hasSubsOnlyChat(),t=n.props.channelID,a=n.props.data.user.subscriptionProducts[0];if(a){var i={targetUserID:t,id:a.id,hasSubOnlyChat:e},r={updateSubscriptionProduct:{product:{id:a.id,hasSubOnlyChat:e,__typename:"SubscriptionProduct"},__typename:"UpdateSubscriptionProductPayload"}};n.props.onUpdateSubsOnly(Object(x.b)(i,r))}}},n.onClickRecentRaids=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onClickRecentRaids()},n.onChatClear=function(){n.props.onChatCommand(Object(ne.b)())},n.onModIconsToggle=function(){Object(je.c)("showModIcons",!n.props.showModerationIcons),n.props.showModerationIcons?n.props.onModIconsDisable():n.props.onModIconsEnable(),Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showModerationIcons,settingName:ee.a.ShowModIcons})},n.onShowModerationActionsToggle=function(){Object(je.c)("showModerationActions",!n.props.showModerationActions),n.props.showModerationActions?n.props.onShowModerationActionsDisable():n.props.onShowModerationActionsEnable(),Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showModerationActions,settingName:ee.a.ShowModActions})},n.onShowAutoModActionsToggle=function(){Object(je.c)("showAutoModActions",!n.props.showAutoModActions),n.props.showAutoModActions?n.props.onShowAutoModActionsDisable():n.props.onShowAutoModActionsEnable(),Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.showAutoModActions,settingName:ee.a.ShowAutoModActions})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return this.props.isCurrentUserModerator?this.props.data.user&&this.props.data.user.roles||!this.props.data.loading?o.createElement(v.a,{key:"mod-tools","data-a-target":"chat-settings-mod-view","data-test-selector":"mod-tools"},this.renderChatDisplays(),o.createElement(q.a,{key:"channel_modes_divider"}),this.renderChannelModes(),o.createElement(q.a,{key:"task_divider"}),this.renderTasks()):o.createElement(Te.a,{fillContent:!0}):null},n.prototype.renderChatDisplays=function(){return o.createElement(f.a,null,o.createElement(B.a,{children:Object(d.d)("My Preferences","ModeratorChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.showModerationIcons,"data-a-target":"mod-icons-checkbox","data-test-selector":"mod-icons-checkbox",id:"chat-settings-mod-icons",onChange:this.onModIconsToggle,label:Object(d.d)("Show Mod Icons","ChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.showModerationActions,"data-a-target":"show-mod-actions-checkbox","data-test-selector":"show-mod-actions",id:"chat-settings-show-mod-actions",onChange:this.onShowModerationActionsToggle,label:Object(d.d)("Show Moderation Actions","ChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.showAutoModActions,"data-a-target":"show-automod-messages-checkbox","data-test-selector":"show-automod-messages",id:"chat-settings-show-automod-messages",onChange:this.onShowAutoModActionsToggle,label:Object(d.d)("Show Messages Caught by AutoMod","ChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.showTimestamps,"data-test-selector":"mod-settings-timestamps-selector","data-a-target":"timestamp-checkbox",id:"chat-settings-timestamp",onChange:this.props.onTimestampToggle,label:Object(d.d)("Show Timestamp","ModeratorChatSettings")}),o.createElement(me.a,{onClick:this.props.showDeletedMessageDisplaySettings,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting}),o.createElement(ue.a,{onClick:this.props.onClickChatPause,chatPauseSetting:this.props.chatPauseSetting}))},n.prototype.renderChannelModes=function(){var e=Object(d.d)("OFF","ChatSettings");return o.createElement(f.a,null,o.createElement(B.a,{children:Object(d.d)("Channel Modes","ChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.emoteOnlyModeEnabled,onChange:this.handleEmoteOnlyToggle,"data-a-target":"emote-only-checkbox","data-test-selector":"emote-only-checkbox",id:"chat-settings-emote-only",label:Object(d.d)("Emotes-Only Chat","ChatSettings")}),this.isPartnerOrAffiliate()&&o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.hasSubsOnlyChat(),onChange:this.handleSubsOnlyToggle,"data-a-target":"subs-only-checkbox","data-test-selector":"subs-only-checkbox",id:"chat-settings-subs-only",label:Object(d.d)("Subscribers-Only Chat","ChatSettings")}),o.createElement(O.a,{onClick:this.props.onClickFollowerMode,"data-test-selector":"follower-mode-duration-menu","data-a-target":"followers-only-selector",label:Object(d.d)("Followers-Only Chat","ChatSettings"),actionIcon:M.a.AngleRight,value:this.props.followerModeEnabled?Object(J.d)(this.props.followerDuration):e}),o.createElement(O.a,{onClick:this.props.onClickSlowMode,"data-test-selector":"slow-mode-duration-menu","data-a-target":"slow-mode-selector",label:Object(d.d)("Slow Mode","ChatSettings"),actionIcon:M.a.AngleRight,value:this.props.slowModeEnabled?Object(Fe.d)(this.props.slowModeDuration):e}))},n.prototype.renderTasks=function(){return o.createElement(f.a,null,o.createElement(B.a,{children:Object(d.d)("Tasks","ChatSettings")}),o.createElement(Ie,{key:"recent-raids",recentRaids:this.props.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard,targetChannelID:this.props.channelID,targetChannelLogin:this.props.channelLogin}),o.createElement(_e.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,uiContext:Ue.d.ModTools}),this.renderModerationSettingsLink(),o.createElement(Be.a,{blurAfterClick:!0,borderRadius:k.b.Medium,onClick:this.onChatClear,"data-a-target":"clear-chat-button","data-test-selector":"clear-chat-button",type:Be.b.Alert},o.createElement(f.a,{padding:.5,className:"chat-moderation-settings__clear-chat"},Object(d.d)("Clear Chat","ChatSettings"))))},n.prototype.renderModerationSettingsLink=function(){var e=Object(d.d)("Manage Moderation Settings","ChatSettings");return o.createElement(O.a,{linkTo:Object(ce.a)("/u/"+this.props.channelLogin+"/settings/moderation","dashboard"),targetBlank:Object(j.c)(),"data-a-target":"automod-link-button","data-test-selector":"automod-link-button",label:e})},n.prototype.hasSubsOnlyChat=function(){if(!this.props.data.user||!this.props.data.user.subscriptionProducts||!this.props.data.user.subscriptionProducts[0])return!1;var e=this.props.data.user.subscriptionProducts[0];return e&&e.hasSubOnlyChat||!1},n.prototype.isPartnerOrAffiliate=function(){return this.props.data.user&&this.props.data.user.id&&this.props.data.user.roles&&(this.props.data.user.roles.isPartner||this.props.data.user.roles.isAffiliate)||!1},n}(o.Component)),Pe=t("05LN"),Le=t("luey");var xe,Ve=Object(s.d)(Object(m.b)((function(e){return{lastUsedFollowerDurations:e.chat.lastUsedFollowerDurations,lastUsedSlowModeDurations:e.chat.lastUsedSlowModeDurations,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons}}),(function(e){return Object(s.b)({onChatHide:function(){return h.L()},onChatUnhide:function(){return h.N()},onFollowerModeDurationPreferenceChange:function(e,n){return h.w(e,n)},onSlowModeDurationPreferenceChange:function(e,n){return h.x(e,n)},onModIconsDisable:function(){return h.B()},onModIconsEnable:function(){return h.G()},onShowAutoModActionsEnable:function(){return h.H()},onShowAutoModActionsDisable:function(){return h.C()},onShowModerationActionsEnable:function(){return h.I()},onShowModerationActionsDisable:function(){return h.D()},onTimestampsDisable:function(){return h.E()},onTimestampsEnable:function(){return h.J()},onThemeChanged:function(e){return Object(se.b)(e,{saveToStorage:!1})},login:function(){return Object(oe.e)(re.a.Chat)}},e)})),Object(le.b)((function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,onRoomStateUpdate:function(n){return e.updateRoomState(n)}}})),Object(de.d)(de.c),Object(u.a)(Pe,{options:function(e){return{variables:{login:e.channelLogin}}}}),Object(u.a)(Le,{name:"onUpdateSubsOnly"}))(Re),Ge=t("QVaV"),He=t("uIkQ"),qe=(t("+UdT"),"edit-appearance-button"),Qe="edit-appearance-button",Ye="edit-display-name";function ze(e){var n,t=o.createElement(b.a,{bold:!0,type:b.e.Span},o.createElement("span",{style:{color:e.chatColor},"data-a-target":Ye,className:"name-display__name"},Object(Ge.a)(e.login,e.displayName)));return n=e.editAppearance?o.createElement(f.a,{margin:{top:1},padding:{x:.5}},e.userBadges&&e.userBadges.map((function(e){return o.createElement(He.a,{key:e.id,schemaBadge:e})})),t):o.createElement(Be.a,{onClick:e.onClickEdit,borderRadius:k.b.Medium,disabled:e.editAppearance,"data-a-target":Qe},o.createElement(f.a,{display:S.d.Flex,justifyContent:S.h.Between,alignItems:S.b.Center,padding:.5,className:"name-display"},o.createElement(f.a,{display:S.d.Flex,alignItems:S.b.Center},e.userBadges&&e.userBadges.map((function(e){return o.createElement(He.a,{key:e.id,schemaBadge:e})})),t),o.createElement(f.a,{display:S.d.Flex,alignItems:S.b.Center,"data-test-selector":qe},Object(d.d)("Edit","ChatSettings"),o.createElement(Q.a,{asset:M.a.AngleRight})))),o.createElement(v.a,{background:k.a.Base,color:k.c.Base,display:S.d.InlineFlex,flexDirection:S.e.Column,fullWidth:!0},o.createElement(B.a,{children:Object(d.d)("Identity","ChatSettings")}),e.editAppearance?o.createElement(f.a,{padding:{x:.5,bottom:.5}},o.createElement(b.a,null,Object(d.d)("Edit how your name will appear in chat","ChatSettings"))):null,n)}!function(e){e.SlowModeDurationOption="slow-mode-duration",e.SlowModeOffOption="slow-mode-off"}(xe||(xe={}));var Ke=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleSlowModeDurationClick=function(e){var t=e.currentTarget.value;if(t){var a=parseInt(t,10);a!==n.props.slowModeDuration&&(n.props.slowModeEnabled||Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!0,settingName:ee.a.SlowMode}),n.props.onChatCommand(Object(ne.j)(a)),Object(te.e)({channelLogin:n.props.channelLogin,slowModeOn:!0,isHostMode:n.props.isHostMode,newValue:a}),n.props.onSelectSlowModeDuration())}},n.handleSlowModeOffClick=function(){n.props.slowModeEnabled&&(n.props.onChatCommand(Object(ne.e)()),Object(te.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!1,settingName:ee.a.SlowMode}),n.props.onSelectSlowModeDuration())},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this,n=Fe.b.map((function(n){return o.createElement(f.a,{key:n,padding:{y:.5}},o.createElement(ae.a,{name:"slow-mode-duration","data-a-target":"slow-mode-duration-option",label:Object(Fe.c)(n),"data-test-selector":xe.SlowModeDurationOption,checked:e.props.slowModeEnabled&&e.props.slowModeDuration===n,onChange:e.handleSlowModeDurationClick,value:""+n}))})),t=o.createElement(f.a,{key:"slow-mode-off",padding:{y:.5}},o.createElement(ae.a,{name:"slow-mode-duration","data-test-selector":xe.SlowModeOffOption,"data-a-target":"slow-mode-off-option",label:Object(d.d)("OFF (Turn off slow mode)","ChatSettings"),checked:!this.props.slowModeEnabled,onChange:this.handleSlowModeOffClick,value:"-1"}));return o.createElement(f.a,{"data-a-target":"slow-mode-menu",padding:{x:.5}},o.createElement(f.a,{padding:.5},o.createElement(b.a,{color:k.c.Alt2},Object(d.d)("Require users to wait between sending messages. Subscribers can be exempted via Partner/Affiliate settings.","ChatSettings"))),n,t)},n}(o.Component),We=t("MkkA"),$e=t("ygYM"),Xe=t("7d/q"),Ze=t("iFBW");t("kELf");t.d(n,"DARK_MODE_SELECTOR",(function(){return Je})),t.d(n,"SHOW_CHAT_RULES_SELECTOR",(function(){return en})),t.d(n,"HIDE_CHAT_BUTTON_SELECTOR",(function(){return nn})),t.d(n,"LEGACY_POPOUT_BUTTON_SELECTOR",(function(){return tn})),t.d(n,"POPOUT_BUTTON_SELECTOR",(function(){return an})),t.d(n,"TIMESTAMPS_SELECTOR",(function(){return rn})),t.d(n,"HIGH_CONTRAST_SELECTOR",(function(){return on})),t.d(n,"CHAT_SETTINGS_BACK_BUTTON_SELECTOR",(function(){return sn})),t.d(n,"CHAT_SETTINGS_CLOSE_BUTTON_SELECTOR",(function(){return dn})),t.d(n,"MODERATION_TOOLS_SELECTOR",(function(){return ln})),t.d(n,"MODERATION_MODE_TOGGLE_SELECTOR",(function(){return cn})),t.d(n,"ChatSettingsPresentation",(function(){return un})),t.d(n,"ChatSettingsComponent",(function(){return mn}));var Je="dark-mode-checkbox",en="show-chat-rules-button",nn="hide-chat-button",tn="legacy-popout-button",an="popout-button",rn="timestamps-selector",on="high-contrast-selector",sn="chat-settings-back-button",dn="chat-settings-close-button-selector",ln="moderation-chat-settings",cn="moderation-mode-toggle-selector",un=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={recentRaids:!1,chatPause:!1,chatColor:null,moderatorMode:n.props.isCurrentUserModerator,followerMode:!1,slowMode:!1},n.resizeAnimationFrame=0,n.dividerCount=0,n.renderDivider=function(){return o.createElement(q.a,{key:"divider_"+n.dividerCount++})},n.inSubMenu=function(){return n.state.recentRaids||n.state.chatPause||n.state.followerMode||n.state.slowMode||n.props.isShowingChatFilterSettings||n.props.isShowingDeletedMessageDisplaySettings||n.props.editAppearance},n.onToggleModeratorMode=function(){var e=n.state.moderatorMode;n.setState({moderatorMode:!e})},n.onClickEdit=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onClickEditAppearance()},n.onClickChatFilter=function(){n.setState({recentRaids:!1}),n.props.showChatFilterSettings()},n.onClickRecentRaids=function(){n.setState({recentRaids:!0})},n.onClickChatPause=function(){n.setState({chatPause:!0})},n.onClickFollowerMode=function(){n.setState({followerMode:!0})},n.onClickSlowMode=function(){n.setState({slowMode:!0})},n.closeChannelModeDurationMenu=function(){n.setState({followerMode:!1,slowMode:!1})},n.onClickBack=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onLeaveEditAppearance(),n.setState({recentRaids:!1,chatPause:!1,followerMode:!1,slowMode:!1}),n.props.hideChatFilterSettings(),n.props.hideDeletedMessageDisplaySettings()},n.onColorSelected=function(e){n.setState({chatColor:e}),n.props.onColorSelected(e)},n.onBadgesChanged=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n,t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((e=a.sent()).data){if(!(n=e.data).user||!n.user.self)return[2];t={},n.user.self.displayBadges.forEach((function(e){e&&(t[e.setID]=e.version)})),d.p.tmi.client.updateChannelBadges(this.props.channelLogin,t,{})}a.label=2;case 2:return[2]}}))}))},n.onResize=function(){n.resizeAnimationFrame||(n.resizeAnimationFrame=requestAnimationFrame(n.setContainerHeight))},n.setContainerHeight=function(){var e=n.props.containerElement&&n.props.containerElement.clientHeight||700;n.setState({containerHeight:e}),n.resizeAnimationFrame=0},n.onDeletedMessageDisplaySettingChange=function(e){n.props.onDeletedMessageDisplaySettingChange(e);var t=n.props,a=t.deletedMessageDisplaySetting,i=t.channelLogin,r=t.isHostMode,o=t.channelID;Object(te.a)({channelLogin:i,isHostMode:r,newValue:e,channelID:o,oldValue:a,settingName:ee.a.DeletedMessageDisplaySetting})},n.onChatPauseSettingChange=function(e,t){var a=n.props,i=a.channelLogin,r=a.isHostMode,o=a.channelID;Object(te.a)({channelLogin:i,isHostMode:r,newValue:e,channelID:o,oldValue:t,settingName:ee.a.ChatPauseSetting})},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!0),this.setContainerHeight()},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},n.prototype.render=function(){var e=this.props.data,n=e.error,t=e.loading,a=e.user,i=e.currentUser;this.dividerCount=0;var s=!1;if(t)return null;if(n||!a||this.props.isLoggedIn!==!!i||this.props.isLoggedIn!==!!a.self)return o.createElement(l.PageError,{message:Object(d.d)("Error loading data.","ChatSettings")});var u=null;if(this.props.isLoggedIn&&i.login){var m=a.self.displayBadges.filter((function(e){return null!==e}));u=o.createElement(ze,{key:"name-display",login:i.login,displayName:i.displayName||i.login,chatColor:this.state.chatColor||i.chatColor,editAppearance:this.props.editAppearance,userBadges:m,onClickEdit:this.onClickEdit})}var h=[];this.props.isLoggedIn?this.props.editAppearance&&i.login?(s=!0,h=[o.createElement(Z,{key:"edit-appearance",onColorSelected:this.onColorSelected,editAppearance:this.props.editAppearance,authToken:this.props.authToken,channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,userChatColor:this.state.chatColor||i.chatColor,userID:i.id,userLogin:i.login,onBadgesChanged:this.onBadgesChanged})]):this.state.recentRaids?(s=!0,h=[o.createElement(S.g,{key:"chat-settings-recent-raids"},o.createElement(f.a,{margin:{top:2}},o.createElement(b.a,{key:"recent-raids-title",color:k.c.Alt2,transform:b.d.Uppercase},Object(d.d)("Recent Raids","ChatSettings")))),o.createElement(Ie,{key:"recent-raids",targetChannelID:this.props.channelID,targetChannelLogin:this.props.channelLogin,recentRaids:this.state.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard})]):this.props.isShowingChatFilterSettings?(s=!0,h=[o.createElement(w,{key:"chat-filter"})]):this.props.isShowingDeletedMessageDisplaySettings?(s=!0,h=[o.createElement(L.a,{key:"deleted-message-display-menu",channelID:this.props.channelID,currentUserID:i&&i.id,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting})]):this.state.chatPause?(s=!0,h=[o.createElement(_.a,{key:"chat-pause-menu",onChatPauseSettingChange:this.onChatPauseSettingChange})]):this.state.followerMode?(s=!0,h=[o.createElement(ie,{key:"followers-mode-duration-menu",followerDuration:this.props.followerDuration,followerModeEnabled:this.props.followerModeEnabled,onChatCommand:this.props.onChatCommand,onSelectFollowerModeDuration:this.closeChannelModeDurationMenu,channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode})]):this.state.slowMode?(s=!0,h=[o.createElement(Ke,{key:"slow-mode-duration-menu",slowModeDuration:this.props.slowModeDuration,slowModeEnabled:this.props.slowModeEnabled,onChatCommand:this.props.onChatCommand,onSelectSlowModeDuration:this.closeChannelModeDurationMenu,channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode})]):h=this.props.isCurrentUserModerator&&!this.props.isEmbedded&&this.state.moderatorMode?[o.createElement(Ve,{key:"moderation-tools","data-test-selector":ln,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isLoggedIn:this.props.isLoggedIn,onChatCommand:this.props.onChatCommand,onClickRecentRaids:this.onClickRecentRaids,onClickChatPause:this.onClickChatPause,onShowViewerCard:this.props.onShowViewerCard,onClickFollowerMode:this.onClickFollowerMode,onClickSlowMode:this.onClickSlowMode,recentRaids:this.state.recentRaids,emoteOnlyModeEnabled:this.props.emoteOnlyModeEnabled,followerModeEnabled:this.props.followerModeEnabled,followerDuration:this.props.followerDuration,slowModeEnabled:this.props.slowModeEnabled,slowModeDuration:this.props.slowModeDuration,showTimestamps:this.props.showTimestamps,onTimestampToggle:this.props.onTimestampToggle,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting})]:[u,this.renderDivider(),this.renderUniversalOptions()]:h=[this.renderUniversalOptions(),this.renderDivider(),o.createElement(P,{key:"color-chooser",onColorSelected:this.props.onColorSelected})];var p,g=r("chat-settings",{"chat-settings--chat-filter":this.props.isShowingChatFilterSettings,"chat-settings--deleted-message-display":this.props.isShowingDeletedMessageDisplaySettings}),C=o.createElement(c.b,{className:g,suppressScrollX:!0},o.createElement("div",null,o.createElement(v.a,{key:"chat-settings",className:"chat-settings__content",color:k.c.Base,background:this.props.editAppearance?k.a.Alt:k.a.Base,padding:1,borderRadius:{bottomLeft:k.b.Medium,bottomRight:k.b.Medium}},h))),y=C;this.props.editAppearance&&(y=o.createElement(o.Fragment,null,o.createElement(v.a,{borderBottom:!0},o.createElement(v.a,{color:k.c.Base,padding:1},u)),C)),p=this.state.moderatorMode?Object(d.d)("Switch to Non-Mod Settings","ChatSettings"):Object(d.d)("Switch to Mod Settings","ChatSettings");var D=this.props.isCurrentUserModerator&&!this.props.isEmbedded&&!this.inSubMenu()&&o.createElement(v.a,{background:k.a.Alt,display:S.d.Flex,justifyContent:S.h.Center,padding:1},o.createElement(E.a,{"data-test-selector":cn,hoverUnderlineNone:!0,onClick:this.onToggleModeratorMode},o.createElement(f.a,{fullWidth:!0,display:S.d.Flex},o.createElement(ke.a,{fullWidth:!0,icon:M.a.PermissionsAdd,type:ke.d.Text,"data-a-target":"switch-chat-settings-mode"},p))));return o.createElement($e.a,{direction:$e.b.TopRight,offsetX:"-5.3rem","data-a-target":"chat-settings-balloon",show:this.props.isVisible,size:$e.c.Auto,noTail:!0},o.createElement(f.a,{className:"chat-settings__popover"},this.renderSettingsHeader(s),y,D))},n.prototype.renderSettingsHeader=function(e){return o.createElement(v.a,{display:S.d.Flex,alignItems:S.b.Center,position:S.j.Relative,padding:{x:1},background:k.a.Base,className:"chat-settings__header"},o.createElement(f.a,{attachLeft:!0,margin:{right:.5},className:"chat-settings__back-icon-container"},e&&o.createElement(Xe.a,{"data-test-selector":sn,icon:M.a.AngleLeft,onClick:this.onClickBack})),o.createElement(f.a,{alignItems:S.b.Center,display:S.d.Flex,textAlign:S.l.Center,flexGrow:1,justifyContent:S.h.Center},o.createElement(b.a,{color:k.c.Alt,fontSize:k.d.Size5,fontWeight:k.e.SemiBold},Object(d.d)("Chat settings","Chat Settings"))),o.createElement(f.a,{attachRight:!0,margin:{left:.5}},o.createElement(Xe.a,{"data-test-selector":dn,ariaLabel:"Close",icon:M.a.Close,onClick:this.props.onCloseSettings})))},n.prototype.renderUniversalOptions=function(){var e=this.props.authToken&&o.createElement(I,{onClick:this.onClickChatFilter}),n=this.props.isPopout&&o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.darkModeEnabled,"data-a-target":"darkmode-checkbox","data-test-selector":Je,id:"chat-settings-dark-mode",onChange:this.props.onDarkModeToggle,label:Object(d.d)("Dark Mode","ChatSettings")}),t=this.props.onShowChatRules&&o.createElement(O.a,{onClick:this.props.onShowChatRules,"data-a-target":"show-chat-rules-button","data-test-selector":en,label:Object(d.d)("View Chat Rules","ChatSettings")}),a=!this.props.isEmbedded&&!this.props.isPopout&&o.createElement(O.a,{onClick:this.props.onChatPopout,"data-a-target":"popout-chat-button","data-test-selector":an,disabled:this.props.isCommerceDisabled,label:Object(d.d)("Popout Chat","ChatSettings")}),i=!this.props.isPopout&&o.createElement(O.a,{onClick:this.props.onChatHide,"data-a-target":"hide-chat-button","data-test-selector":nn,label:Object(d.d)("Hide Chat","ChatSettings")});return o.createElement(f.a,{key:"chat-options"},o.createElement(B.a,{children:Object(d.d)("My Preferences","ChatSettings")}),e,o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.showTimestamps,"data-a-target":"timestamp-checkbox","data-test-selector":rn,id:"chat-settings-timestamp",onChange:this.props.onTimestampToggle,label:Object(d.d)("Show Timestamp","ChatSettings")}),o.createElement(Ae.a,{type:Ae.b.Toggle,checked:this.props.useHighContrastColors,"data-a-target":"high-contrast-color-checkbox","data-test-selector":on,id:"chat-settings-high-contrast",onChange:this.props.onHighContrastColorsToggle,label:Object(d.d)("Readable Colors","ChatSettings")}),n,t,i,a)},n}(o.Component),mn=Object(s.d)(Object(We.withWatchPartyContext)(We.mapWatchPartyStateToChatProps),Object(u.a)(Ze,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(un)},"8lYn":function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatSettings_DeselectChannelBadge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeselectChannelBadgeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deselectChannelBadge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:259}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nmutation ChatSettings_DeselectChannelBadge($input: DeselectChannelBadgeInput!) {\ndeselectChannelBadge(input: $input) {\nuser {\nid\nself{\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_DeselectChannelBadge=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_DeselectChannelBadge")},"8qOS":function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t("mrSG"),i=t("q1tI"),r=t("fvjX"),o=t("/7QA"),s=t("yR8l"),d=t("geRD"),l=t("2Ygb"),c=t("a6LY"),u=t("4w0E"),m=t("1Rv/"),h=t("HzXE"),p=t("4G6/"),g=t("AREq"),f=t("Av0x"),v=t("H82h"),b=600;function k(e){var n;return(n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.banUser=function(n,t){var a=n?Object(o.d)("Unable to timeout user.","ViewerCardModActions"):Object(o.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(a),Promise.reject(a);var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!i)return e.surfaceError(a),Promise.reject(a);var r=null;"number"==typeof n?r=Object(p.a)(n):"string"==typeof n&&(r=n);var s=e.props.channelID;return e.props.banUserMutation(Object(d.a)({channelID:s,bannedUserLogin:i,expiresIn:r,reason:t})).then((function(t){var a=t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.error,i=n?c.a.TimeoutUser:c.a.BanUser;if(e.updateUserBanStatusQuery(t.data),e.trackChatLoginModerationEvent(i,n&&n.toString()||void 0),a&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login){var r=a.minTimeoutDurationSeconds,o=a.maxTimeoutDurationSeconds;e.surfaceError(Object(g.a)({login:e.props.userBanStatusData.targetUser.login,code:a.code,isTimeout:!!n,minTimeoutDuration:r||void 0,maxTimeoutDuration:o||void 0}))}return t.data})).catch((function(n){throw e.surfaceError(a),n}))},e.unbanUser=function(n){var t=n?Object(o.d)("Unable to untimeout user.","ViewerCardModActions"):Object(o.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(t),Promise.reject(t);var a=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!a)return e.surfaceError(t),Promise.reject(t);var i=e.props.channelID;return e.props.unbanUserMutation(Object(d.a)({channelID:i,bannedUserLogin:a})).then((function(t){var a=t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.error,i=n?c.a.UntimeoutUser:c.a.UnbanUser;return e.updateUserBanStatusQuery(null),e.trackChatLoginModerationEvent(i),a&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login&&e.surfaceError(Object(f.a)(e.props.userBanStatusData.targetUser.login,a.code)),t.data})).catch((function(n){throw e.surfaceError(t),n}))},e.updateUserBanStatusQuery=function(n){var t=e.props,a=t.channelID,i=t.targetID;Object(d.i)(h,{channelID:a,targetUserID:i},(function(e){var t=e&&e.targetUser||null;return n&&n.banUserFromChatRoom?{targetUser:t,chatRoomBanStatus:n.banUserFromChatRoom.ban}:{targetUser:t,chatRoomBanStatus:null}}))},e.surfaceError=function(n){e.props.surfaceError&&e.props.surfaceError(n)},e.trackChatLoginModerationEvent=function(n,t){var a=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.id,i=e.props,r=i.channelID,o=i.source;a&&r&&Object(v.a)(n,r,a,o,t&&"["+t+"]n")},e}return Object(a.__extends)(t,n),t.prototype.render=function(){var n=this,t={userBanStatus:this.props.userBanStatusData,banUser:function(e,t){return n.banUser(e,t)},timeoutUser:function(e,t){return n.banUser(e||b,t)},unbanUser:function(){return n.unbanUser()},untimeoutUser:function(){return n.unbanUser(!0)}};return i.createElement(e,Object(a.__assign)({},this.props,t))},t}(i.Component)).displayName=Object(l.a)(n.name,e),n}function S(e){return Object(r.d)(Object(s.a)(u,{name:"banUserMutation"}),Object(s.a)(m,{name:"unbanUserMutation"}),Object(s.a)(h,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),k)(e)}},AREq:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t("/7QA"),i=t("DMoW"),r=t("4G6/");function o(e){var n=e.login,t=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,d=e.maxTimeoutDuration,l=e.isTimeout;if(void 0===l&&(l=!1),l)switch(t){case i.l.FORBIDDEN:return Object(a.d)("You don't have permissions to timeout {login}.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_ADMIN:return Object(a.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_ALREADY_BANNED:return Object(a.d)("{login} is already banned in this channel.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_ANONYMOUS:return Object(a.d)("You cannot timeout anonymous users.","BanUserErrorCode");case i.l.TARGET_IS_BROADCASTER:return Object(a.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case i.l.TARGET_IS_GLOBAL_MOD:return Object(a.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_MOD:return Object(a.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_SELF:return Object(a.d)("You cannot timeout yourself.","BanUserErrorCode");case i.l.TARGET_IS_STAFF:return Object(a.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case i.l.DURATION_INVALID:var c=Object(a.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(a.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:d||0},"BanUserErrorCode"),m=Object(a.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==d){var h=Object(r.b)(o);if(!h||Number.isNaN(h))return c;if(h<s||h>d)return u}return c}return m;default:throw new Error("Unrecognized operation result.")}else switch(t){case i.l.FORBIDDEN:return Object(a.d)("You don't have permissions to ban {login}.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_ADMIN:return Object(a.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_ALREADY_BANNED:return Object(a.d)("{login} is currently banned in this channel.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_ANONYMOUS:return Object(a.d)("You cannot ban anonymous users.","BanUserErrorCode");case i.l.TARGET_IS_BROADCASTER:return Object(a.d)("You cannot ban the broadcaster.","BanUserErrorCode");case i.l.TARGET_IS_GLOBAL_MOD:return Object(a.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_MOD:return Object(a.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case i.l.TARGET_IS_SELF:return Object(a.d)("You cannot ban yourself.","BanUserErrorCode");case i.l.TARGET_IS_STAFF:return Object(a.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case i.l.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},Av0x:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("/7QA"),i=t("DMoW");function r(e,n,t){if(void 0===t&&(t=!1),t)switch(n){case i.dd.FORBIDDEN:return Object(a.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case i.dd.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case i.dd.TARGET_NOT_BANNED:return Object(a.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(n){case i.dd.FORBIDDEN:return Object(a.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case i.dd.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case i.dd.TARGET_NOT_BANNED:return Object(a.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},BdUW:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("SSXq"),i=t("EgE3");function r(e,n,t,r){Object(i.j)(e,n,t);var o="/popout/"+n+"/reward-queue";r&&(o+="?rewardID="+r);var s=window.open(Object(a.a)(o),"_blank","right=50,top=50,width=900,height=800,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");s&&s.focus()}},EgE3:function(e,n,t){"use strict";t.d(n,"d",(function(){return i})),t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"e",(function(){return d})),t.d(n,"k",(function(){return m})),t.d(n,"g",(function(){return h})),t.d(n,"j",(function(){return p})),t.d(n,"i",(function(){return g})),t.d(n,"h",(function(){return f})),t.d(n,"f",(function(){return v}));var a,i,r,o,s,d,l=t("/7QA"),c=t("2xye"),u=t("W1jp");function m(e,n,t){var a={channel_login:e,channel_id:n,view_uuid:t};l.o.track(c.SpadeEventType.ChannelPointsViewRewards,a)}function h(e){var n="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused),t=e.userBalance===1/0?null:e.userBalance,a={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!n,is_eligible:e.isUserEligible,reward_cost:Object(u.b)(e.reward),reward_id:e.reward.id,transaction_uuid:e.transactionID,user_points_balance:t,view_uuid:e.viewTrackingID};l.o.track(c.SpadeEventType.ChannelPointsSelectReward,a)}function p(e,n,t){var a={ui_context:e,channel_login:n,channel_id:t};l.o.track(c.SpadeEventType.ChannelPointsViewRequestQueue,a)}function g(e,n,t,a){var i={ui_context:e,viewer_type:n,channel_id:t,channel_login:a};l.o.track(c.SpadeEventType.ChannelPointsViewEarnScorecard,i)}function f(e){var n={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:Object(u.b)(e.reward),reward_id:e.reward.id,reward_type:"CommunityPointsAutomaticReward"===e.reward.__typename?a.Automatic:a.Custom,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};l.o.track(c.SpadeEventType.ChannelPointsSpend,n)}function v(e,n,t,a){var i={channel_id:e,channel_login:n,onboarding_collateral:t,ui_context:a};l.o.track(c.SpadeEventType.ChannelPointsOnboardingInteraction,i)}!function(e){e.Automatic="automatic",e.Custom="custom"}(a||(a={})),function(e){e.ActivityFeed="activity_feed",e.ChatCommand="chat_command",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.DeleteModal="delete_modal",e.ModTools="chat_settings",e.QuickAction="quick_action",e.RewardSelectionPane="reward_selection_pane"}(i||(i={})),function(e){e.RewardSelectionPane="reward_selection_pane",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.AutomaticRewardModal="automatic_reward_modal"}(r||(r={})),function(e){e.CustomRewardCreationModal="custom_reward_creation_modal",e.RewardsPageOnboarding="rewards_page_onboarding",e.ChannelPointsSettings="channel_points_settings"}(o||(o={})),function(e){e.IconSetDownload="icon_set_download",e.GetStartedGuide="get_started_guide"}(s||(s={})),function(e){e.Viewer="viewer",e.Moderator="moderator",e.Broadcaster="broadcaster"}(d||(d={}))},FAYk:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmodUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmodUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmodUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};t.loc.source={body:"mutation UnmodUser($input: UnmodUserInput!){\nunmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.UnmodUser=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"UnmodUser")},FuI2:function(e,n,t){"use strict";var a,i=t("q1tI"),r=t("/7QA"),o=t("DMoW"),s=t("xzy9"),d=t("4wKg"),l=t("C7sF");!function(e){e.ClickTarget="deleted-message-display-setting-item-click-target"}(a||(a={}));var c=function(e){if(!r.b.get(s.a,!1))return null;var n=u(e.deletedMessageDisplaySetting);return i.createElement(d.a,{onClick:e.onClick,"data-test-selector":a.ClickTarget,label:Object(r.d)("Deleted Messages","DeletedMessageDisplayItem"),actionIcon:l.a.AngleRight,value:n})},u=function(e){switch(e){case o.qb.LEGACY:return Object(r.d)("Legacy","DeletedMessageDisplayItem");case o.qb.DETAILED:return Object(r.d)("Detailed","DeletedMessageDisplayItem");default:return Object(r.d)("Brief","DeletedMessageDisplayItem")}};t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return u}))},GLB1:function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatSettings_SelectGlobalBadge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SelectGlobalBadgeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectGlobalBadge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:242}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nmutation ChatSettings_SelectGlobalBadge($input: SelectGlobalBadgeInput!) {\nselectGlobalBadge(input: $input) {\nuser {\nid\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_SelectGlobalBadge=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_SelectGlobalBadge")},H82h:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t("mrSG"),i=t("/7QA"),r=t("2xye"),o=t("IZXT"),s=t("a6LY"),d=t("xf5M"),l=function(e,n,t,l,c){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var u,m,h,p,g,f,v;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:u=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.p.apollo.client.query({query:d,variables:{channelID:n,targetUserID:t}})];case 2:return u=a.sent(),[3,4];case 3:return m=a.sent(),Object(o.d)()?i.k.warn("Moderation action tracking failed query failed."):i.k.errorAndReport(m,"Moderation action tracking failed query failed."),[3,4];case 4:return u&&u.data?(h=u.data,p=h.currentUser,g=h.channel,f=h.target,n===t?v=s.c.Broadcaster:p&&p.roles&&p.roles.isStaff&&(v=s.c.Staff),g&&g.self&&(g.self.isEditor?v=s.c.Editor:g.self.isModerator&&(v=s.c.Mod)),i.o.track(r.SpadeEventType.ChatLoginModeration,{action:e,channel:g&&g.login,channel_id:g&&g.id,target_login:f&&f.login,target_user_id:f&&f.id,mod_status:v,args:c,source:l}),[2]):[2]}}))}))}},HzXE:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299}};t.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.ChatRoomBanStatus=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"ChatRoomBanStatus")},IZiu:function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatSettings_SelectChannelBadge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SelectChannelBadgeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectChannelBadge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuccessful"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:266}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nmutation ChatSettings_SelectChannelBadge($input: SelectChannelBadgeInput!) {\nselectChannelBadge(input: $input) {\nisSuccessful\nuser {\nid\nself{\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_SelectChannelBadge=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_SelectChannelBadge")},L6L7:function(e,n,t){},"M//1":function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:306}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_Badges($channelLogin: String!) {\ncurrentUser {\nid\nhasPrime\nhasTurbo\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\nuser(login: $channelLogin) {\nid\nself {\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_Badges=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_Badges")},Ohqu:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};t.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsSetChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"SyncedSettingsSetChatPauseSetting")},Osgx:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RecentRaids_ModerationTools"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recentRaids"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceChannel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"query RecentRaids_ModerationTools($channelID: ID) {\nuser(id: $channelID) {\nid\nrecentRaids {\nid\ngoAt\nsourceChannel {\nid\nlogin\n}\n}\n}\ncurrentUser {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.RecentRaids_ModerationTools=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"RecentRaids_ModerationTools")},OvMb:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModerationToolsRewardsQueueLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summarizedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCountAtMaximum"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:187}};t.loc.source={body:"query ModerationToolsRewardsQueueLink($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncommunityPointsSettings {\nsummarizedRewards {\ncount\nisCountAtMaximum\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.ModerationToolsRewardsQueueLink=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"ModerationToolsRewardsQueueLink")},"Pub/":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("HzXE");function i(e,n,t){try{return e.readQuery({query:a,variables:{channelID:n,targetUserID:t}})}catch(e){}}},SSXq:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("3yfl");function i(e,n){var t;void 0===n&&(n="www"),t=n;var i="https://"+(n=Object(a.b)(t)?t:"www")+".twitch.tv",r=window.location,o=r.hostname,s=r.origin;if(o.endsWith(".twitch.tech")){var d=o.substr(0,o.length-".twitch.tech".length),l=d,c=d.indexOf("-");c>=0&&Object(a.b)(d.substr(0,c))&&(l=d.substr(c+1)),i="www"===n?"https://"+l+".twitch.tech":"https://"+n+"-"+l+".twitch.tech"}var u=new URL(e,i),m=u.origin,h=u.href;return m===s?h.substr(s.length):h}},TApp:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("ZtEv"),i=t("aF6k");function r(e){return{type:a.b.Info,id:Object(i.a)("info"),message:e}}},TDxE:function(e,n,t){"use strict";var a,i=t("mrSG"),r=t("q1tI"),o=t("/7QA"),s=t("DMoW"),d=t("UBeo"),l=t("sUnt"),c=t("Ws8v"),u=t("+80q"),m=t("X2PJ"),h=t("hnjF"),p=t("y0tB");!function(e){e.RadioScrollOnly="chat-pause-radio-scroll-only",e.RadioMouseover="chat-pause-radio-mouseover",e.RadioAltkey="chat-pause-radio-altkey",e.RadioMouseoverAltKey="chat-pause-message-mouseover-altkey",e.SettingMessage="chat-pause-setting-message"}(a||(a={}));var g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onChange=function(e){var t=e.currentTarget.value;n.props.setChatPauseSetting(t),n.props.onChatPauseSettingChange(t,n.props.chatPauseSetting)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(l.a,{padding:{x:.5}},r.createElement(c.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},r.createElement(l.a,{margin:{y:.5}},r.createElement(u.a,{color:m.c.Alt2,transform:u.d.Uppercase,bold:!0},Object(o.d)("Pause Chat","ChatPauseSettingsMenu"))),r.createElement(l.a,{justifyContent:h.h.Between},r.createElement(h.g,{padding:{bottom:.5}},r.createElement(u.a,{color:m.c.Alt2,"data-test-selector":a.SettingMessage},Object(o.d)("Manage your Pause Chat options. Chat will always pause when scrolling the Chat pane.","ChatPauseSettingsMenu"))))),r.createElement(l.a,null,r.createElement(l.a,{padding:{y:.5}},r.createElement(p.a,{name:"chat-pause-scroll-only",label:Object(o.d)("Scroll Only","ChatPauseSettingsMenu"),checked:this.props.chatPauseSetting===s.H.SCROLL_ONLY,onChange:this.onChange,value:s.H.SCROLL_ONLY,"data-a-target":"chat-pause-scroll","data-test-selector":a.RadioScrollOnly})),r.createElement(l.a,{padding:{y:.5}},r.createElement(p.a,{name:"chat-pause-mouseover","data-a-target":"chat-pause-mouseover",label:Object(o.d)("Mouseover","ChatPauseSettingsMenu"),checked:this.props.chatPauseSetting===s.H.MOUSEOVER,onChange:this.onChange,value:s.H.MOUSEOVER,"data-test-selector":a.RadioMouseover})),r.createElement(l.a,{padding:{y:.5}},r.createElement(p.a,{name:"chat-pause-altkey","data-a-target":"chat-pause-keypress",label:Object(o.d)("Hold Alt Key","ChatPauseSettingsMenu"),checked:this.props.chatPauseSetting===s.H.ALTKEY,onChange:this.onChange,value:s.H.ALTKEY,"data-test-selector":a.RadioAltkey})),r.createElement(l.a,{padding:{y:.5}},r.createElement(p.a,{name:"chat-pause-mouseover-altkey","data-a-target":"chat-pause-mouseover-keypress",label:Object(o.d)("Mouseover/Alt Key","ChatPauseSettingsMenu"),checked:this.props.chatPauseSetting===s.H.MOUSEOVER_ALTKEY,onChange:this.onChange,value:s.H.MOUSEOVER_ALTKEY,"data-test-selector":a.RadioMouseoverAltKey}))))},n}(r.PureComponent),f=Object(d.d)(d.c)(g);t.d(n,"a",(function(){return f}))},TwNI:function(e,n,t){},UBeo:function(e,n,t){"use strict";var a=t("mrSG"),i=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("fvjX"),d=t("/7QA"),l=t("yR8l"),c=t("4ilF"),u=t("geRD"),m=t("DMoW"),h=t("kRBY"),p=t("1rIY"),g=t("Ohqu"),f=t("pMvt"),v="chatPauseSetting",b=Object(p.a)("ChatPauseSettingContext",{setValue:function(){return null},value:void 0}),k=b.context,S=b.withContext,C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:n.constructor.localValue()},n.setValue=function(e){if(n.props.isLoggedIn){var t=Object(a.__assign)(Object(a.__assign)({},Object(u.a)({chatPauseSetting:e})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:e}},update:function(n){var t;try{t=n.readQuery({query:f})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var a=i(t,(function(e){return e.currentUser.chatUISettings.chatPauseSetting}),(function(){return e}));n.writeQuery({query:f,data:a})}}}),r=n.state.value;n.setState({value:e}),d.m.set(v,e),n.props.setChatPauseSetting(t).catch((function(){r&&(d.m.set(v,r),n.setState({value:r}))}))}},n}return Object(a.__extends)(n,e),n.localValue=function(){return d.m.get(v,void 0)},n.remoteValue=function(e){return e.data&&e.data.currentUser&&e.data.currentUser.chatUISettings&&e.data.currentUser.chatUISettings.chatPauseSetting},n.getDeferredStateFromProps=function(e){return{value:this.remoteValue(e)||this.localValue()}},n.prototype.render=function(){return r.createElement(k.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},n.prototype.componentDidUpdate=function(e){var n=this.props.data,t=e&&e.data&&e.data.currentUser,a=n&&!n.loading&&!n.error&&n.currentUser,i=this.constructor.localValue(),r=this.constructor.remoteValue(this.props);a&&!t&&i!==r&&(r?this.setValue(r):i&&this.setValue(i))},Object.defineProperty(n.prototype,"value",{get:function(){if(d.b.get("chat_pause",!1)){var e=this.props,n=e.channelID,t=e.userID,a=e.userModStatus;if(n&&n===t||a&&a.user&&a.user.isModerator)return d.m.get(v,void 0)||this.state.value||m.H.SCROLL_ONLY}},enumerable:!0,configurable:!0}),n}(r.Component);var E=Object(s.d)(Object(o.b)((function(e){var n=Object(h.e)(e);return{isLoggedIn:Object(h.f)(e),userID:n&&n.id}})),Object(c.a)(),Object(l.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)(g,{name:"setChatPauseSetting"}))(C);function y(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}t.d(n,"b",(function(){return k})),t.d(n,"d",(function(){return S})),t.d(n,"a",(function(){return E})),t.d(n,"c",(function(){return y}))},Uri2:function(e,n,t){"use strict";var a=t("q1tI"),i=t("/7QA"),r=t("DMoW"),o=t("4wKg"),s=t("C7sF"),d=function(e){var n=null;switch(e.chatPauseSetting){case r.H.SCROLL_ONLY:n=Object(i.d)("Scroll Only","ChatPauseItem");break;case r.H.MOUSEOVER:n=Object(i.d)("Mouseover","ChatPauseItem");break;case r.H.ALTKEY:n=Object(i.d)("Alt Key","ChatPauseItem");break;case r.H.MOUSEOVER_ALTKEY:n=Object(i.d)("Mouse/Alt","ChatPauseItem");break;default:return null}return a.createElement(o.a,{onClick:e.onClick,"data-a-target":"chat-pause-menu",label:Object(i.d)("Pause Chat","ChatPauseItem"),actionIcon:s.a.AngleRight,value:n})};t.d(n,"a",(function(){return d}))},X31c:function(e,n,t){"use strict";t.d(n,"a",(function(){return _}));var a,i=t("mrSG"),r=t("TSYQ"),o=t("q1tI"),s=t("/MKj"),d=t("fvjX"),l=t("/7QA"),c=t("8Ad5"),u=t("0Log"),m=t("DMoW"),h=t("uIkQ"),p=t("+pBb"),g=t("ZVTe"),f=t("6wGa"),v=t("cys1"),b=t("EE1E"),k=t("fezU"),S=t("ZtEv"),C=t("oK83"),E=t("Jsra"),y=t("hnjF"),D=t("+80q"),w=t("sUnt"),O=(t("uYvD"),"chat-deleted-message-placeholder"),M="chat-hidden-message-placeholder",N="chat-hidden-username-placeholder";!function(e){e.ChatLineMessage="chat-line-message",e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",e.ChatHiddenUserNameLink="chat-hidden-username-link",e.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution"}(a||(a={}));var I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderModerationIcons=function(){if(!(n.props.isCurrentUserModerator&&n.props.showModerationIcons&&n.props.message.user.userID&&n.props.channelID))return null;var e=!0;return void 0!==n.props.canDelete&&(e=n.props.canDelete),o.createElement(f.a,{targetUserID:n.props.message.user.userID,canDelete:e,confirmModerationAction:n.props.confirmModerationAction,channelID:n.props.channelID,isMessageDeleted:n.props.message.deleted,isMessageBanned:n.props.message.banned,senderLogin:n.props.message.user.userLogin,messageID:n.props.message.id})},n.renderMessageBody=function(){if(n.props.isHidden&&!n.state.alwaysShowMessage&&n.props.isCurrentUserModerator){var e=Object(l.d)("message hidden from blocked user","ChatLine");return o.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":M},o.createElement(E.a,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":a.ChatHiddenMessagePlaceholder},"<"+e+">"))}if(n.props.isDeleted)return n.renderDeletedMessage();var t={chatChannelID:n.props.channelID,chatChannelLogin:n.props.channelLogin,messageAuthorID:n.props.message.user.userID,messageSourceID:n.props.message.id,emoteSourceType:C.a.chat,isHighlighted:n.props.isHighlighted},i=Object(v.f)(n.props.message.messageParts,t);return n.props.isHighlighted?o.createElement("span",{className:"chat-line__message-body--highlighted"},i):i},n.renderDeletedMessage=function(){var e=n.props,t=e.isCurrentUserModerator,i=e.isCurrentUserStaff,r=e.deletedMessageDisplay;if(t||i){var s={chatChannelID:n.props.channelID,chatChannelLogin:n.props.channelLogin,messageAuthorID:n.props.message.user.userID,messageSourceID:n.props.message.id,emoteSourceType:C.a.chat,disableChatCard:!0};if(r===m.qb.DETAILED&&t){var d=n.props.message,c=d.modLogin,h=d.modActionType,p=d.duration,g=Object(l.d)("(Deleted)","ChatLine");return h&&h===u.ModerationActions.Ban&&c&&(g=Object(l.d)("(Banned by {modLogin})",{modLogin:c},"ChatLine")),h&&h===u.ModerationActions.Timeout&&(c&&p?g=Object(l.d)("({duration}s Timeout by {modLogin})",{duration:p,modLogin:c},"ChatLine"):c&&(g=Object(l.d)("(Timeout by {modLogin})",{modLogin:c},"ChatLine"))),h&&h===u.ModerationActions.Delete&&c&&(g=Object(l.d)("(Deleted by {modLogin})",{modLogin:c},"ChatLine")),o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":O,"data-test-selector":a.ChatDeletedMessagePlaceholder},o.createElement("span",{className:"chat-line__message--deleted-detailed"},Object(v.f)(n.props.message.messageParts,s)),o.createElement(y.g,{padding:{left:.5}},o.createElement(D.a,{type:D.e.Span,"data-test-selector":a.ChatDeletedMessageAttribution},g)))}return n.state.alwaysShowMessage?Object(v.f)(n.props.message.messageParts,s):o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":O},o.createElement(E.a,{linkTo:"",onClick:n.alwaysShowMessage,"data-test-selector":a.ChatDeletedMessagePlaceholder},"<"+Object(l.d)("message deleted","ChatLine")+">"))}return o.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":O,"data-test-selector":a.ChatDeletedMessagePlaceholder},""+Object(l.d)("message deleted by a moderator.","ChatLine"))},n.renderMessageAuthor=function(){var e=n.props,t=e.badgeSets,i=e.message,r=e.theme,s=e.useHighContrastColors;return n.props.isHidden&&!n.state.alwaysShowMessage&&n.props.isCurrentUserModerator?o.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":N,"data-test-selectors":a.ChatHiddenUsernamePlaceholder},o.createElement(E.a,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":a.ChatHiddenUserNameLink},Object(l.d)("User Hidden","ChatLine"))):o.createElement(o.Fragment,null,n.renderModerationIcons(),o.createElement(h.b,{badgeSets:t,badgesToRender:i.badges,dynamicData:i.badgeDynamicData,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip}),o.createElement("span",{className:"chat-line__username",onClick:n.openViewerCard,onKeyDown:n.openViewerCard,role:"button",tabIndex:0},o.createElement(g.a,{userData:i.user,highContrastUsernameColor:s,theme:r})))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n.hiddenMessageClickHandler=function(e){n.alwaysShowMessage(e),n.props.message.user.userID&&n.props.onHiddenMessageClick(n.props.message.user.userID)},n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==c.a.Space&&e.keyCode!==c.a.Enter||n.props.onUsernameClick(n.props.message.user.userLogin,C.b.chat_message,n.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.className,t=e.message,i=e.showTimestamps,s=e.theme,d=e.useHighContrastColors,c=e.isDeleted,u=e.isCurrentUserModerator,h=e.deletedMessageDisplay,p=e.deletedCount;if(c&&u&&h===m.qb.BRIEF)return p&&p>0?o.createElement(w.a,{className:"chat-line__status"},o.createElement(D.a,{type:D.e.Span,"data-a-target":O,"data-test-selector":a.ChatDeletedMessagePlaceholder},Object(l.d)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:p},"ChatLine"))):null;var g={},f=": ";if(t.messageType===S.c.Action){var k=t.user.color;d&&k&&(k="#"+Object(b.a)(k,s)),g={color:k},f=" "}var C=null;return i&&(C=Object(v.l)(t.timestamp)),o.createElement("div",{className:r(n,"chat-line__message"),style:g,"data-a-target":"chat-line-message","data-test-selector":a.ChatLineMessage},C,this.renderMessageAuthor(),o.createElement("span",{key:"separator","aria-hidden":"true"},f),this.renderMessageBody())},n.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},n}(o.Component);var _=Object(d.d)(Object(s.b)(void 0,(function(e){return Object(d.b)({onHiddenMessageClick:p.P},e)})),Object(k.b)((function(e){return{onUsernameClick:e.onShowViewerCard,onEmoteClick:e.onShowEmoteCard}})))(I)},XIZb:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t("mrSG"),i=t("q1tI"),r=t("4rCz"),o=t("1rIY");function s(e){var n=Object(o.a)(e,{setServiceAPI:function(){r.l.warn("The "+e+" chat service attempted to register its API without a provider.")}}),t=n.context,s=n.withContext;return{context:t,withChatServiceManager:function(e){return function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={},e.setServiceAPI=function(n){e.setState({serviceAPI:n})},e}return Object(a.__extends)(r,n),r.prototype.render=function(){return i.createElement(t.Provider,{value:{serviceAPI:this.state.serviceAPI,setServiceAPI:this.setServiceAPI}},i.createElement(e,Object(a.__assign)({},this.props)))},r}(i.Component)},withContext:s}}},a2UF:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t("mrSG"),i=t("yR8l"),r=t("Pub/"),o=t("HzXE"),s=t("1Rv/");function d(e){var n=this;return Object(i.a)(s,{props:function(t){return{unbanUserMutation:function(i){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:if(n=e(t.ownProps).channelID,!t.mutate||!n)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.mutate({variables:{input:{channelID:n,bannedUserLogin:i}},update:function(e,t){return function(e,n,t){if(n&&n.data&&n.data.unbanUserFromChatRoom&&n.data.unbanUserFromChatRoom.ban&&n.data.unbanUserFromChatRoom.ban.bannedUser&&n.data.unbanUserFromChatRoom.ban.bannedUser.id){var i=Object(r.a)(e,t,n.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!i)return;e.writeQuery({query:o,variables:{targetUserID:n.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:t},data:Object(a.__assign)(Object(a.__assign)({},i),{chatRoomBanStatus:null})})}}(e,t,n)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}}))}))}}}})}},a6LY:function(e,n,t){"use strict";var a,i,r;t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(a||(a={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.ModViewPage="mod_view_page"}(i||(i={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(r||(r={}))},aF6k:function(e,n,t){"use strict";function a(e){var n=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+n}t.d(n,"a",(function(){return a}))},esZd:function(e,n,t){"use strict";var a=t("mrSG"),i=t("q1tI"),r=t("2Ygb");function o(e){return function(n){return function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(o,t),o.prototype.render=function(){return i.createElement(n,Object(a.__assign)({},e(this.props)))},o.displayName=Object(r.a)(o.name,n),o}(i.Component)}}t.d(n,"a",(function(){return o}))},gO1k:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};t.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.Chat_DeleteChatMessage=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"Chat_DeleteChatMessage")},iFBW:function(e,n,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_CurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:236}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_CurrentUser($channelLogin: String!) {\ncurrentUser {\nid\nlogin\ndisplayName\nchatColor\n}\nuser(login: $channelLogin) {\nid\nself {\ndisplayBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=a,e.exports.ChatSettings_CurrentUser=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=r[n]||new Set,i=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(n){var a=o(e,n);a&&t.definitions.push(a)})),t}(a,"ChatSettings_CurrentUser")},iyGE:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t("mrSG"),i=t("yR8l"),r=t("Pub/"),o=t("HzXE"),s=t("4G6/"),d=t("4w0E");function l(e){var n=this;return Object(i.b)(d,{props:function(t){return{banUserMutation:function(i,d,l){return void 0===d&&(d=null),void 0===l&&(l=null),Object(a.__awaiter)(n,void 0,void 0,(function(){var n,c;return Object(a.__generator)(this,(function(u){switch(u.label){case 0:if(n=e(t.ownProps).channelID,!t.mutate||!n)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),c=null,"number"==typeof d?c=Object(s.a)(d):"string"==typeof d&&(c=d),[4,t.mutate({variables:{input:{channelID:n,bannedUserLogin:i,expiresIn:c,reason:l}},update:function(e,t){return function(e,n,t){if(n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.ban&&n.data.banUserFromChatRoom.ban.bannedUser&&n.data.banUserFromChatRoom.ban.bannedUser.id){var i=Object(r.a)(e,t,n.data.banUserFromChatRoom.ban.bannedUser.id);if(!i)return;e.writeQuery({query:o,variables:{targetUserID:n.data.banUserFromChatRoom.ban.bannedUser.id,channelID:t},data:Object(a.__assign)(Object(a.__assign)({},i),{chatRoomBanStatus:{isPermanent:n.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,t,n)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}}))}))}}}})}},kELf:function(e,n,t){},luey:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ModerationTools_UpdateSubsOnlyMode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateSubscriptionProductInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSubscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:165}};t.loc.source={body:"mutation ModerationTools_UpdateSubsOnlyMode(\n$input: UpdateSubscriptionProductInput!\n) {\nupdateSubscriptionProduct(input: $input) {\nproduct {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.ModerationTools_UpdateSubsOnlyMode=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"ModerationTools_UpdateSubsOnlyMode")},op4u:function(e,n,t){},pMvt:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};t.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"SyncedSettingsChatPauseSetting")},pQ8o:function(e,n,t){"use strict";var a,i=t("q1tI"),r=t("/7QA"),o=t("DMoW"),s=t("2Ev9"),d=t("XmgI"),l=t("FuI2"),c=t("X31c"),u=t("p52R"),m=t("ptRJ"),h=t("ZtEv"),p=t("sUnt"),g=t("Ws8v"),f=t("+80q"),v=t("X2PJ"),b=t("hnjF"),k=t("y0tB"),S={badges:null,badgeDynamicData:null,bits:0,color:"#FF4F46",displayName:"Kappa",id:"Kappa",userID:"Kappa",username:"kappa",userType:u.a.User,emotes:{}};!function(e){e.RadioBrief="deleted-message-display-radio-brief",e.RadioDetailed="deleted-message-display-radio-detailed",e.RadioLegacy="deleted-message-display-radio-legacy",e.MessagePreview="deleted-message-display-message-preview",e.SettingMessage="deleted-message-display-setting-message"}(a||(a={}));var C=function(e){var n=function(n){var t=n.currentTarget.value;e.onDeletedMessageDisplaySettingChange(t)};return i.createElement(p.a,{padding:{x:.5}},i.createElement(g.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},i.createElement(p.a,{margin:{y:.5}},i.createElement(f.a,{color:v.c.Alt2,transform:f.d.Uppercase,bold:!0},Object(r.d)("Deleted Messages","DeletedMessageDisplaySettingsMenu"))),i.createElement(p.a,{justifyContent:b.h.Between},i.createElement(b.g,{padding:{bottom:.5}},i.createElement(f.a,{color:v.c.Alt2,"data-test-selector":a.SettingMessage},Object(r.d)("Choose how you want to view deleted messages in Chat.","DeletedMessageDisplaySettingsMenu"),e.hasSetDeletedMessageDisplaySetting()?null:e.channelID&&e.currentUserID&&e.channelID===e.currentUserID?" "+Object(r.d)('As a streamer, we have defaulted your view to "Brief"',"DeletedMessageDisplaySettingsMenu"):" "+Object(r.d)('As a moderator, we have defaulted your view to "Detailed"',"DeletedMessageDisplaySettingsMenu"))),i.createElement(g.a,{display:b.d.Flex,border:!0,background:v.a.Alt,elevation:1,padding:{y:.5}},i.createElement(c.a,{key:Math.random(),badgeSets:s.a,channelID:null,channelLogin:"Kappa",isCurrentUserModerator:!0,isCurrentUserStaff:!0,message:Object(m.a)(h.c.Post,"#$%$@^&",S,d.a,null,!0),isDeleted:!0,isHidden:!1,showModerationIcons:!1,showTimestamps:!1,currentUserDisplayName:void 0,currentUserLogin:void 0,deletedCount:8,deletedMessageDisplay:e.deletedMessageDisplaySetting,"data-test-selector":a.MessagePreview})))),i.createElement(p.a,null,i.createElement(p.a,{padding:{y:.5}},i.createElement(k.a,{name:"deleted-messages-display-brief",label:Object(l.b)(o.qb.BRIEF),checked:e.deletedMessageDisplaySetting===o.qb.BRIEF,onChange:n,value:o.qb.BRIEF,"data-test-selector":a.RadioBrief}),i.createElement(f.a,{color:v.c.Alt2},Object(r.d)("Hide deleted messages from chat entirely. We'll show a minimal log message to keep you aware of what's going on.","DeletedMessageDisplaySettingsMenu"))),i.createElement(p.a,{padding:{y:.5}},i.createElement(k.a,{name:"deleted-messages-display-detailed",label:Object(l.b)(o.qb.DETAILED),checked:e.deletedMessageDisplaySetting===o.qb.DETAILED,onChange:n,value:o.qb.DETAILED,"data-test-selector":a.RadioDetailed}),i.createElement(f.a,{color:v.c.Alt2},Object(r.d)("Show the content of deleted messages and the action taken to delete them. Optimized for mods.","DeletedMessageDisplaySettingsMenu"))),i.createElement(p.a,{padding:{y:.5}},i.createElement(k.a,{name:"deleted-messages-display-legacy",label:Object(l.b)(o.qb.LEGACY),checked:e.deletedMessageDisplaySetting===o.qb.LEGACY,onChange:n,value:o.qb.LEGACY,"data-test-selector":a.RadioLegacy}),i.createElement(f.a,{color:v.c.Alt2},Object(r.d)("Click to reveal deleted message text.","DeletedMessageDisplaySettingsMenu")))))};t.d(n,"a",(function(){return C}))},ptRJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t("mrSG"),i=t("ZtEv"),r=t("a1OF"),o=t("aF6k");function s(e,n,t,s,d,l,c){return void 0===l&&(l=!1),void 0===c&&(c=!1),Object(a.__assign)(Object(a.__assign)({},Object(r.a)(n,t,s,d,l,c)),{type:i.b.Message,messageType:e,id:t.id||Object(o.a)(t.username)})}},qMs1:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelfModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:89}};t.loc.source={body:"query SelfModStatus($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.SelfModStatus=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"SelfModStatus")},"u/v7":function(e,n,t){},uYvD:function(e,n,t){},"vLL+":function(e,n,t){"use strict";var a=t("q1tI"),i=t("/7QA"),r=t("mrSG"),o=t("wUQP"),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(n,e),n.prototype.render=function(){return Object(o.a)(this.props.name)?this.props.children:null},n}(a.Component),d=t("C7sF"),l=t("hnjF"),c=t("b7S+"),u=t("X2PJ"),m=t("Ws8v"),h=t("7uM4");t("L6L7");t.d(n,"a",(function(){return p}));var p=function(e){var n=e.onBanUser,t=d.a.Ban,r=Object(i.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-ban-button",p=null,g=e.renderNewVersion?l.d.Flex:l.d.Inline,f=e.renderNewVersion?c.b.Center:c.b.Left,v=e.renderNewVersion?c.c.Bottom:c.c.Top,b=e.renderNewVersion?u.c.Link:u.c.Alt2,k=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(n=e.onUnbanUser,t=d.a.FollowCheck,r=Object(i.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(p=a.createElement(s,{name:"single_message_delete"},a.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},a.createElement(c.a,{align:f,direction:v,label:Object(i.d)("Delete message","ModerationIcons")},a.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},a.createElement(h.a,{width:16,height:16,type:h.b.Inherit,asset:d.a.Trash})))))),a.createElement(m.a,{color:b,display:g,margin:{right:.5}},a.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},a.createElement(c.a,{align:f,direction:v,label:r},a.createElement("button",{className:"mod-icon",onClick:n,"data-test-selector":o},a.createElement(h.a,{width:16,height:16,type:h.b.Inherit,asset:t})))),a.createElement(m.a,{display:l.d.InlineFlex,margin:k,verticalAlign:l.m.Bottom},a.createElement(c.a,{align:f,direction:v,label:Object(i.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},a.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},a.createElement(h.a,{width:16,height:16,type:h.b.Inherit,asset:d.a.Timeout})))),p)}},xQnr:function(e,n,t){"use strict";var a=t("8qOS");t.d(n,"a",(function(){return a.a}))},xf5M:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};t.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.ChatLoginModerationTracking=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(t,"ChatLoginModerationTracking")}}]);