(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"+IFb":function(e,t,n){e.exports=n.p+"assets/GiftBadge-Silver_72-f25a6dcdd8b2cf8e264a.png"},"+naV":function(e,t,n){e.exports=n.p+"assets/10-gifts-2x-cf78830dc8b3e0039af8.png"},"/Zlu":function(e,t,n){e.exports=n.p+"assets/1-gift-4x-b67143fa86d9788306fe.png"},"/d9a":function(e,t,n){e.exports=n.p+"assets/BitsBadge-Bronze_36-dd20e3851c5a5fff5a39.png"},"/iCH":function(e,t,n){e.exports=n.p+"assets/1-gift-2x-15e5628e525688ddff00.png"},"0aHH":function(e,t,n){e.exports=n.p+"assets/bg-ghost-purple_280x60-76b1a6b8b849dfe6fb7a.svg"},"0cf2":function(e,t,n){e.exports=n.p+"assets/subtember-subway-2x-702da66860671f7509b7.png"},"0iXB":function(e,t,n){},"1zL5":function(e,t,n){},"2rlx":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("o0o1"),o=n.n(a),s=n("yXPU"),l=n.n(s),c=n("lSNA"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),f=n("fNzW"),b=n("hnjF"),h=n("hCFK");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).refHandler=function(e){t.props.refDelegate&&t.props.refDelegate(e,t.props.id)},t.onExitComplete=function(){t.props.onExitComplete&&t.props.onExitComplete(t.props.id)},t.onTransformEnd=function(){t.props.onTransformEnd&&t.props.onTransformEnd(t.props.id)},t}return p()(t,e),t.prototype.render=function(){var e=this.props.transition.duration||h.b.Medium,t=!this.props.moveStyles&&!this.props.prepareForTransform,n={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?n.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?n=this.props.exitStyles:this.props.moveStyles&&(n=this.props.moveStyles),m.createElement(h.a,{key:this.props.id,show:!!this.props.transition.show,type:this.props.transition.type||h.c.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:e,onExitComplete:this.onExitComplete,injectChild:!0},m.createElement("div",{key:this.props.id,ref:this.refHandler,style:y({},n,{transitionProperty:t?"transform, opacity":"opacity",transitionTimingFunction:"ease"}),onTransitionEnd:this.onTransformEnd},this.props.child))},t}(m.Component);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}S.displayName="TransitionGroupItem",n.d(t,"a",(function(){return x}));var x=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},t.containerRef=void 0,t.childRefMap={},t.currentlyTransitioningKeys=[],t.setContainerRef=function(e){t.containerRef=e},t.setItemRef=function(e,n){e&&(t.childRefMap[n]=e)},t.onTransformEnd=function(e){t.currentlyTransitioningKeys=t.currentlyTransitioningKeys.filter((function(t){return t!==e}))},t.deleteChild=function(e){e in t.state.childMap&&(delete t.childRefMap[e],t.setState((function(t){var n=E({},t.childMap);return delete n[e],{childMap:n}})))},t.measureItems=function(e){var n={};return e.filter((function(e){return e in t.childRefMap})).forEach((function(e){e in n||(n[e]=t.childRefMap[e].getBoundingClientRect())})),n},t.setTransforms=function(){var e=l()(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState((function(e){var r=E({},e.childMap),i=n.moved,a=n.exited,o=n.container,s=i,l=t.measureItems(Object.keys(i));return Object.keys(s).forEach((function(e){var t=s[e].left-l[e].left,n=s[e].top-l[e].top;r[e].moveStyles={transform:"translate3d("+t+"px, "+n+"px,0)"},r[e].prepareForTransform=!1})),Object.keys(a).forEach((function(e){var t=a[e],n=t.left-(o?o.left:0),i=t.top-(o?o.top:0);r[e].exitStyles={top:i+"px",left:n+"px",position:"absolute",width:t.width+"px",height:t.height+"px"}})),{childMap:r}}),e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearMoveStyles=function(e){t.setState((function(t){var n=E({},t.childMap);return e.forEach((function(e){return n[e].moveStyles=void 0})),{childMap:n}}))},t.ensureLayoutReflow=function(){var e=t.childRefMap[Object.keys(t.childRefMap)[0]];e&&e.scrollTop},t}p()(t,e),t.getDerivedStateFromProps=function(e,t){var n,r,i=t.childMap,a=(n=e.children,r={},m.Children.map(n,(function(e){return e})).forEach((function(e){if(null!==e.key){var t={id:e.key,transition:{show:!0},child:e};r[e.key]=t}})),r);if(!t.initialRenderComplete)return{childMap:a,initialRenderComplete:!0};var o=function(e,t){var n=Object.keys(e).filter((function(t){return!0===e[t].transition.show}));return Object.keys(t).filter((function(t,r){return n[r]!==t&&t in e}))}(i,a),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(i,a);return Object.keys(s).forEach((function(e){var t=e in i,n=e in a,r=o.includes(e);t&&(s[e].moveStyles=i[e].moveStyles,s[e].exitStyles=i[e].exitStyles,s[e].transition=i[e].transition),s[e].prepareForTransform=r,n&&!t?(s[e].transition.show=!0,s[e].transition.transitionInitialMount=!0):!n&&t?s[e].transition.show=!1:n&&t&&!1===s[e].transition.show&&(s[e].transition.show=!0,s[e].exitStyles=void 0)})),{childMap:s}};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,t=Object.keys(e).filter((function(t){return!0===e[t].prepareForTransform})),n=Object.keys(e).filter((function(t){return!1===e[t].transition.show&&!e[t].exitStyles}));return 0===t.length&&0===n.length?null:{moved:this.measureItems([].concat(t,this.currentlyTransitioningKeys)),exited:this.measureItems(n),container:n.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},n.componentDidUpdate=function(e,t,n){var r=this;if(n&&0!==Object.keys(n).length){var i=Object.keys(n.moved);this.setTransforms(n).then((function(){i&&(r.ensureLayoutReflow(),r.clearMoveStyles(i),r.currentlyTransitioningKeys=i.filter((function(e){return!(e in n.exited)})))}))}},n.render=function(){var e=this;if(!this.state.childMap)return null;var t=Object.keys(this.state.childMap).map((function(t){var n=e.state.childMap[t];return m.createElement(S,i()({},n,{key:t,transition:E({},n.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}));return m.createElement(b.g,{position:b.j.Relative},m.createElement("div",{className:Object(f.a)(this.props.className,"tw-transition-group"),ref:this.setContainerRef},this.props.component?m.cloneElement(this.props.component,void 0,t):t))},t}(m.Component);x.displayName="TransitionGroup"},"2xp8":function(e,t,n){e.exports=n.p+"assets/50-gifts-1x-52ba645f6c5362c19ef4.png"},"33sU":function(e,t,n){},"3CMh":function(e,t,n){"use strict";var r,i=n("TSYQ"),a=n("q1tI"),o=n("fvjX"),s=n("/7QA"),l=n("bBAb"),c=n("XmgI"),u=n("4h+t"),d=n("x1M1"),p=n("hnjF");n("0iXB");!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(r||(r={}));var m=Object(o.d)(Object(l.b)((function(e){return{bitsConfig:e.bitsConfig}})))((function(e){var t=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];t||(t=Object(u.b)());var n=t.orderedTiers.find((function(t){return t.bits<=(e.amount||100)}));n||(n=t.orderedTiers[0]);var o=e.display===p.d.Inline||e.display===p.d.InlineFlex||e.display===p.d.InlineBlock,l=null,m=i("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!o},{"cheermote-for-amount__cheer-amount--medium":e.size===r.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===r.Small||e.size===r.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===r.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var f=e.formattedNumber?Object(s.f)(e.amount):e.amount;l=a.createElement(p.g,{padding:e.size===r.Small?0:void 0,textAlign:e.size===r.Small?p.l.Center:void 0},a.createElement("strong",{className:m,style:{color:n.color}},f))}var b=i("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!o},{"cheermote-for-amount__cheer--inline":o},{"cheermote-for-amount__cheer-image--small":e.size===r.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===r.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===r.ExtremelySmall}),h=a.createElement(d.a,{className:b,sources:Object(c.d)(n,e.size||r.Large,e.animated)});return e.showImage||(h=null),a.createElement(p.g,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display},a.createElement("span",null,h,l))}));n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return m}))},"3L6z":function(e,t,n){e.exports=n.p+"assets/GiftBadge-Gold_72-20bf457cab1a7e96d129.png"},"66/j":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("DMoW");function i(e){return{id:e.id,setID:e.setID,version:e.version,title:e.title,image1x:e.image1x,image2x:e.image2x,image4x:e.image4x,clickAction:r.k.SUBSCRIBE,clickURL:e.clickURL||""}}var a="324"},"6BMd":function(e,t,n){e.exports=n.p+"assets/bg-ghost-purple-47e963c18fbc4a4def29.svg"},"6DT+":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var r,i=n("q1tI"),a=n("fNzW"),o=n("IbuL"),s=n("hnjF"),l=n("Ws8v"),c=n("C7sF");n("t77T");!function(e){e.Up="expandable-indicator__wrapper--up",e.Right="expandable-indicator__wrapper--right",e.Down="expandable-indicator__wrapper--down",e.Left="expandable-indicator__wrapper--left"}(r||(r={}));var u=function(e){var t,n=e.open,u=e.openDirection,d=void 0===u?r.Down:u,p=e.closedDirection,m=void 0===p?r.Right:p,f=!n,b=Object(a.a)("expandable-indicator__wrapper",((t={})[r.Up]=n&&d===r.Up||f&&m===r.Up,t[r.Right]=n&&d===r.Right||f&&m===r.Right,t[r.Down]=n&&d===r.Down||f&&m===r.Down,t[r.Left]=n&&d===r.Left||f&&m===r.Left,t));return i.createElement(l.a,{className:b,display:s.d.InlineFlex,alignItems:s.b.Center},i.createElement(o.a,{asset:c.a.AngleRight}))};u.displayName="ExpandableIndicator",u.displayName="ExpandableIndicator"},"6H5f":function(e,t,n){},"6XlV":function(e,t,n){e.exports=n.p+"assets/BitsBadge-Gold_72-34819cb1acd46af9dc17.png"},"72SC":function(e,t,n){},"751L":function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("Uh2Q"),l=n("RiD7"),c=n("Ws8v"),u=n("X2PJ"),d=n("hnjF"),p=n("sUnt"),m=n("K+jS"),f=n("+80q"),b=n("dEDE"),h=(n("1zL5"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){Object(l.p)({user_id:t.props.currentUserID||"",source:t.props.isSubscriptionPage?l.e.SubManagement:l.e.SubModalMain})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!Object(s.f)(s.a))return null;var e=Object(o.d)("Happy HAHAHAlidays!","MegaCommerceModalBanner"),t=Object(o.d)("Subscribe or Gift a sub to the community to unlock exclusive holiday emotes!","MegaCommerceModalBanner");return i.createElement(c.a,{borderRadius:u.b.Large,className:"megacommerce-banner",display:d.d.Flex,flexDirection:d.e.Column},i.createElement(p.a,{textAlign:d.l.Left,justifyContent:d.h.Start,padding:{x:2,y:1}},i.createElement(m.a,{size:m.b.Small},e),i.createElement(f.a,{bold:!0,type:f.e.H5},t)),i.createElement(p.a,{padding:{bottom:2,right:2},justifyContent:d.h.End,display:d.d.Flex},i.createElement(b.a,{linkTo:Object(s.e)(s.a),targetBlank:!0,onClick:this.learnMoreClick},Object(o.d)("Learn More","MegaCommerceModalBanner"))))},t}(i.Component));var g=Object(a.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(h);n.d(t,"a",(function(){return g}))},"8FRz":function(e,t,n){},"90ET":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelLeaderboards_LeaderboardEntry"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};n.loc.source={body:"query ChannelLeaderboards_LeaderboardEntry($userID: ID!) {\nuser(id: $userID) {\nid\ndisplayName\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ChannelLeaderboards_LeaderboardEntry=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ChannelLeaderboards_LeaderboardEntry")},"9ABA":function(e,t,n){"use strict";var r=n("q1tI"),i=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("hnjF"),c=n("Z2sP"),u=n("X2PJ"),d=n("+80q"),p=n("SL++"),m=(n("Aea7"),3),f=function(e){var t=e.cumulativeTenure,n=e.expired,f=e.sortedSubBadges;if(0===f.length)return null;var h=f.findIndex((function(e){return parseInt(e.version,10)>t.months})),g=f[-1===h?f.length-1:h-1],y=f[h];if(!g)return null;var S=m;return y&&(S+=b(t,g.version,y.version)||0),y?r.createElement(s.a,{className:"sub-badge-progress",display:l.d.Flex,justifyContent:l.h.Center},r.createElement(p.a,{badge:g,className:"sub-badge-progress__current-badge"}),r.createElement(s.a,{className:"sub-badge-progress__progress-bar"+(n?"--expired":""),flexGrow:1,margin:{x:.5},padding:{top:2}},r.createElement(c.a,{borderRadius:u.b.Large,mask:!0,size:c.c.Small,value:S})),r.createElement(p.a,{badge:y,className:"sub-badge-progress__next-badge"})):r.createElement(r.Fragment,null,r.createElement(s.a,{className:"sub-badge-progress",display:l.d.Flex,flexWrap:l.f.Wrap,justifyContent:l.h.Center,padding:{x:2}},f.map((function(e){return r.createElement(s.a,{key:"sub-badge-progress-"+e.id,flexShrink:0,margin:.5},r.createElement(a.a,{badge:Object(o.b)(e),large:!0}))}))),r.createElement(u.f,{textAlign:l.l.Center},r.createElement(d.a,{className:"sub-badge-progress__all-badges--text",fontSize:u.d.Size7},Object(i.d)("Congrats! You've unlocked all Sub Badges.","SubBadgeProgress"))))};function b(e,t,n){var r=e.daysRemaining,i=e.months,a=(new Date).getTime(),o=new Date(a+24*r*60*60*1e3);o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0);var s=new Date(o.getTime());s.setMonth(o.getMonth()-1);var l=o.getTime(),c=s.getTime(),u=l-c,d=a-c;if(0===u)return null;var p=parseInt(t,10),f=0===p?1:p,b=parseInt(n,10)-f;if(b<=0)return null;var h=(i-f+d/u)/b;return Math.min(Math.max(h,0),1)*(100-m)}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}))},"9kXc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("/7QA"),i=n("yLwq"),a=n("kduP"),o=n("2xye"),s=n("sLmD");function l(e){var t,n,s,l,d=e.append,p=void 0!==d&&d,m=e.searchResults,f=e.currentGameResults,b=e.currentUserResults,h=e.currentVideoResults,g=e.currentLiveResults;if(m.games&&(t={totalHits:m.games.totalHits,results:p&&f?f.results:[]},p&&m.exhaustedHits&&f&&!m.games.totalHits&&(t.totalHits=f.totalHits),t.results=t.results.concat(m.games.hits.map((function(e,t){var n,i=r.p.intl.getLanguageCode();n=i&&void 0!==e.localizations&&i in e.localizations?e.localizations[i]:e.name;var s=u(e.tags);return{title:n,thumbnailAltText:e.name,linkTo:{pathname:Object(a.a)(e.name),state:{content:o.PageviewContent.Game,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,popularity:e.popularity,tags:s}})))),m.videos){var y=p&&h?h.results:[],S=m.videos.totalHits;p&&m.exhaustedHits&&h&&!m.videos.totalHits&&(S=h.totalHits),s=function(e,t,n){return{results:e.concat(t.hits.map(c)),totalHits:t.totalHits||n}}(y,m.videos,S)}return m.users&&(n={totalHits:p&&b?b.totalHits:m.users.totalHits,results:p&&b?b.results:[]},p&&m.exhaustedHits&&b&&!m.users.totalHits&&(n.totalHits=b.totalHits),n.results=n.results.concat(m.users.hits.map((function(e,t){return{login:e.login,name:e.name,thumbnail:e.profile_image||Object(i.c)(e.objectID,64),thumbnailAltText:e.name,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.User,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,followers:e.followers}})))),m.channels&&((l={totalHits:p&&g?g.totalHits:m.channels.totalHits,results:p&&g?g.results:[]}).results=l.results.concat(m.channels.hits.map((function(e,t){var n=u(e.graffiti);return{viewerCount:e.channel_count,login:e.login,name:e.name,thumbnailAltText:e.status,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.Live,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,status:e.status,tags:n}})))),{currentGameResults:t,currentUserResults:n,currentLiveResults:l,currentVideoResults:s,exhaustedHits:m.exhaustedHits}}function c(e,t){return{title:e.title,thumbnail:e.thumbnail,thumbnailAltText:e.title,linkTo:{pathname:"/videos/"+e.objectID,state:{content:o.PageviewContent.Video,content_index:t,medium:o.PageviewMedium.NavSearch}},login:e.broadcaster_login,name:e.broadcaster_name,createdAt:e.created_at,length:e.length,id:e.objectID}}function u(e){if(e)return e.map((function(e){var t,n=Object(s.a)();return t=n&&void 0!==e.localizations&&n in e.localizations?e.localizations[n]:e.name,{id:e.id,isLanguageTag:e.name.includes("auto___lang"),localizedName:t,tagName:e.name}}))}},AFv4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("vCsY"),s=n("hnjF"),l=n("sUnt"),c=function(e){return a.createElement(l.a,i()({className:"tw-card-body",overflow:e.overflow,position:s.j.Relative},Object(o.a)(e)),e.children)};c.displayName="CardBody",c.displayName="CardBody"},AXRb:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("mrSG"),i=n("w09P"),a=n("q1tI"),o=n("fvjX"),s=n("/7QA"),l=n("yR8l"),c=n("3Bft"),u=n("geRD"),d=n("DMoW"),p=n("2xye"),m=n("GnwI"),f=n("br9A"),b=n("z8lI"),h=n("Rjl4"),g=n("O4UZ"),y=n("dEDE"),S=n("C7sF"),v=n("vCsY"),E=n("X2PJ"),x=n("PL8s"),C=n("D/KL"),k=n("JRpg"),T="subscribe-button__prime-subscribe",P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubscribing:!1,primeSubFailure:!1,error:void 0},t.referralID=Object(h.e)(),t.handleStartPrimeTrialClick=function(){t.props.handleSubMenuAction({action:f.a.ClickSignupForPrime}),Object(h.w)({tp_refcode:t.referralID,content:p.PageviewContent.ChannelSubscribeButton,medium:p.PageviewMedium.Channel,tp_campaign:h.b.TrackingAlpha})},t.getErrorType=function(){return t.state.error||g.b.UNABLE_TO_SPEND},t.spendPrimeCredit=function(){t.setState({isSubscribing:!0});var e=t.props,n=e.data;if(t.isUserDataReady(e)&&n.currentUser&&n.currentUser.id&&n.user&&n.user.id){var a=n.user.id,o=n.currentUser.id,s=Object(u.a)({broadcasterID:a,userID:o});t.props.handleSubMenuAction({action:f.a.SubWithPrime}),t.props.spendPrimeSubscriptionCredit(s).then((function(e){var n=e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error;if(n){var a=g.b[n.code];t.setState({isSubscribing:!1,primeSubFailure:!0,error:a||g.b.UNABLE_TO_SPEND})}else t.setState({isSubscribing:!1,primeSubFailure:!1,error:void 0}),Object(u.i)(k,{login:t.props.channelLogin},(function(e){var t=e.user;return t&&t.self&&t.id?i(e,(function(e){return e.user.self}),(function(e){var n=e.subscriptionBenefit||{__typename:"SubscriptionBenefit",id:t.id,purchasedWithPrime:!0,tier:c.a.Prime,platform:d.Uc.WEB,gift:{__typename:"SubscriptionGift",isGift:!1,gifter:null},renewsAt:null,endsAt:null,paidUpgrade:null};return Object(r.__assign)(Object(r.__assign)({},e),{canPrimeSubscribe:!1,subscriptionBenefit:n})})):e}))})).catch((function(){t.setState({isSubscribing:!1,primeSubFailure:!0,error:g.b.UNABLE_TO_SPEND})}))}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(this.state.isSubscribing)return a.createElement(y.a,Object(r.__assign)({"data-test-selector":T,disabled:this.state.isSubscribing,icon:S.a.Crown,state:y.c.Loading},Object(v.a)(this.props)));if(this.state.primeSubFailure){var e=this.getErrorType();return a.createElement(b.a,{fontSize:E.d.Size6,testTarget:"prime-sub-error",errorType:e})}if(!this.isUserDataReady(this.props))return a.createElement(x.a,{width:82,height:30});var t=this.canPrimeSubscribe(this.props),n=this.canResub(this.props),i=this.willPrimeSubCreditRenew(),o=this.primeSubCreditRenewalDate();if(!this.props.data.currentUser||!this.props.data.currentUser.hasPrime){var l=Object(s.d)("Start Your Free Trial","PrimeSubscribe");return a.createElement(y.a,Object(r.__assign)({ariaLabel:l,"data-test-selector":T,icon:S.a.Crown,linkTo:Object(h.d)(s.a.tryPrimeURI,this.referralID),onClick:this.handleStartPrimeTrialClick},Object(v.a)(this.props),{targetBlank:!0}),l)}if(this.isSubscribed(this.props)&&!n){var c=Object(s.d)("Subscribed","PrimeSubscribe");return a.createElement(y.a,Object(r.__assign)({ariaLabel:c,"data-a-target":"subscribe-with-prime-button","data-test-selector":T,disabled:!0,icon:S.a.Crown},Object(v.a)(this.props)),c)}if(!t){var u=Object(s.d)("Prime Subscription unavailable","PrimeSubscribe");if(i&&o){var d=Object(s.c)(new Date(o),{month:"long",day:"numeric"});u=Object(s.d)("Prime Subscription available {availableDate}",{availableDate:d},"PrimeSubscribe")}return a.createElement(y.a,Object(r.__assign)({ariaLabel:u,"data-test-selector":T,disabled:!0,icon:S.a.Crown},Object(v.a)(this.props)),u)}var p=n?Object(s.d)("Resubscribe Free","PrimeSubscribe"):Object(s.d)("Subscribe Free","PrimeSubscribe");return a.createElement(y.a,Object(r.__assign)({ariaLabel:p,"data-test-selector":T,"data-a-target":"subscribe-with-prime-button",disabled:this.state.isSubscribing,icon:S.a.Crown,state:this.state.isSubscribing?y.c.Loading:y.c.Default,onClick:this.spendPrimeCredit},Object(v.a)(this.props)),p)},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.canPrimeSubscribe=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.canPrimeSubscribe},Object.defineProperty(t.prototype,"primeSubCreditBenefit",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.primeSubCreditBenefit},enumerable:!0,configurable:!0}),t.prototype.willPrimeSubCreditRenew=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.willRenew},t.prototype.primeSubCreditRenewalDate=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.renewalDate},t.prototype.canResub=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.subscriptionBenefit&&e.data.user.self.subscriptionBenefit.purchasedWithPrime&&this.canPrimeSubscribe(this.props)},t.prototype.isSubscribed=function(e){var t=e.data,n=t&&t.user,r=n&&n.self;return r&&r.subscriptionBenefit},t}(a.Component),O=Object(o.d)(Object(m.withLatencyTracking)("PrimeSubscribe"),Object(l.a)(k,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(l.a)(C,{name:"spendPrimeSubscriptionCredit"}))(P)},AaQW:function(e,t,n){},Aea7:function(e,t,n){},BSTw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Algolia_RequestInfo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:57}};n.loc.source={body:"query Algolia_RequestInfo {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.Algolia_RequestInfo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"Algolia_RequestInfo")},CCnc:function(e,t,n){e.exports=n.p+"assets/100-gifts-4x-03202bb488c686b56775.png"},CdEI:function(e,t,n){e.exports=n.p+"assets/random-viewer-4x-f63102da906995e27c24.png"},CkPG:function(e,t,n){},"D+xR":function(e,t,n){e.exports=n.p+"assets/100-gifts-2x-964c2934bb2454637abf.png"},"D/Iv":function(e,t,n){},"D/KL":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227}};n.loc.source={body:"mutation PrimeSubscribe_SpendPrimeSubscriptionCredit($input: SpendSubscriptionCreditInput!) {\nspendSubscriptionCredit(input: $input) {\nuserID\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nendsAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_SpendPrimeSubscriptionCredit=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PrimeSubscribe_SpendPrimeSubscriptionCredit")},DC4B:function(e,t,n){},DYuq:function(e,t,n){e.exports=n.p+"assets/random-viewer-wide-1x-32a29daa1adb5f996f32.png"},EBDZ:function(e,t,n){},EEuB:function(e,t,n){e.exports=n.p+"assets/1-gift-1x-5bc79cc635e889b58b5a.png"},EYib:function(e,t,n){},FLOH:function(e,t,n){"use strict";var r,i=n("q1tI"),a=n("/7QA"),o=n("3Bft"),s=n("OpME"),l=n("sUnt"),c=n("+80q"),u=n("hnjF"),d=n("YV9q");!function(e){e.BenefitMessage="BenefitMessage",e.ExtraEmoteMessage="ExtraEmoteMessage"}(r||(r={}));var p=function(e){var t=function(e,t){var n=t[1],r=t[2];if(!n||!r)return[];var i=[],a=n.emotes,l=r.emotes;e.tier===o.a.Tier2&&a&&i.push.apply(i,a);e.tier===o.a.Tier3&&a&&l&&(i.push.apply(i,a),i.push.apply(i,l));return Object(s.b)(i)}(e.selectedSubProduct,e.allSubProducts);return i.createElement(l.a,null,i.createElement(c.a,{"data-test-selector":r.BenefitMessage},function(e){var t=e.allSubProducts[0],n=0;t&&t.emotes&&(n=t.emotes.length);return Object(d.a)({emoteCount:n,hasAdFree:e.selectedSubProduct.hasAdFree})}(e)),t.length>0&&i.createElement(l.a,{alignItems:u.b.Center,display:u.d.Flex,margin:{top:1}},t.map((function(e){return i.createElement(l.a,{display:u.d.InlineFlex,key:e.id,margin:{right:.5}},i.createElement("img",{alt:e.displayName,srcSet:e.srcSet,title:e.displayName}))})),i.createElement(c.a,{bold:!0,"data-test-selector":r.ExtraEmoteMessage},Object(a.d)("{extraEmoteCount, plural,                 one {Plus {extraEmoteCount, number} extra channel emote}                 other {Plus {extraEmoteCount, number} extra channel emotes}}",{extraEmoteCount:t.length},"SubBenefitMessage"))))};n.d(t,"a",(function(){return p}))},FMOh:function(e,t,n){e.exports=n.p+"assets/specific-viewer-2x-aa0b9ac4ccd63c0f0ef5.png"},GJys:function(e,t,n){e.exports=n.p+"assets/20-gifts-2x-a82739f104cf891a55f7.png"},Gylv:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("q1tI"),o=n("QVaV"),s=n("YVOQ"),l=n("LDz7"),c=n("4rCz"),u=n("fQWD"),d=n("66/j"),p=n("sUnt"),m=n("+80q"),f=n("hnjF"),b=n("Z2sP"),h=n("Jsra"),g=n("X2PJ"),y=function(e){var t=e.badge;return a.createElement(p.a,{alignItems:f.b.Center,className:e.className,display:f.d.Flex,flexDirection:f.e.Column,flexShrink:0,margin:{top:1}},a.createElement(u.a,{badge:Object(d.b)(t),hideTooltip:!0,large:!0}),a.createElement(p.a,{margin:{top:.5}},a.createElement(m.a,{className:e.className+"--text",fontSize:g.d.Size7},t.title)))};n("qyVS");!function(e){e.ProgressMessage="subgifterprogressmessage",e.PrivacyWarning="privacysettingwarning"}(r||(r={}));var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(0===this.props.gifterBadges.length)return null;if(this.props.giftingAnonymously)return null;var e=this.filterBadges(),t=e.nextBadge&&parseInt(e.nextBadge.version,10)||0;return a.createElement(p.a,null,this.getProgressionMessage(t),this.getNextBadgeProgress(e,t),this.getPrivacySettingWarning(e.baseBadge))},t.prototype.getProgressionMessage=function(e){if(this.props.compact)return null;var t=null;return t=0===this.props.giftsSentCount?Object(c.d)("Instantly unlock your first gifter badge by gifting at least 1 Sub!","SubGifterBadgeProgress"):0!==e&&1e3!==e?Object(c.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,remainingCount:e-this.props.giftsSentCount,"x:bold":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"SubGifterBadgeProgress"):Object(c.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,"x:bold":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(p.a,{padding:{x:2,top:2},textAlign:f.l.Center},a.createElement(m.a,{"data-test-selector":r.ProgressMessage},t))},t.prototype.getCompactProgressionMessage=function(e){if(!this.props.compact||0===e||1e3===e)return null;var t=e-this.props.giftsSentCount,n=null;return n=0===this.props.giftsSentCount?Object(c.d)("<x:bold>1 Gift</x:bold> to First Badge",{"x:bold":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"SubGifterBadgeProgress"):Object(c.d)("{giftsRemaining, plural, one {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge} other {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge}}",{giftsRemaining:t,"x:bold":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(f.g,{margin:{top:5}},a.createElement(m.a,null,n))},t.prototype.getNextBadgeProgress=function(e,t){var n=null;if(null!==e.currentBadge&&null!==e.nextBadge){var r=parseInt(e.currentBadge.version,10);1===r&&(r=0);var i=100*(this.props.giftsSentCount-r)/(t-r);n=a.createElement(p.a,{className:"gifter-badge-progress__to-next"},a.createElement(p.a,{display:f.d.Flex,fullWidth:!0,justifyContent:f.h.Between},this.badgeLayout(e.currentBadge),this.getCompactProgressionMessage(t),this.badgeLayout(e.nextBadge)),a.createElement(p.a,{className:"gifter-badge-progress__bar",position:f.j.Relative,margin:{left:2,right:4}},a.createElement(b.a,{size:b.c.Small,mask:!0,value:i||0})))}else null===e.currentBadge&&null!==e.nextBadge?n=a.createElement(p.a,{className:"gifter-badge-progress__only-next"},a.createElement(p.a,{display:f.d.Flex,fullWidth:!0,justifyContent:f.h.Between},this.badgeLayout(e.nextBadge))):null!==e.currentBadge&&null===e.nextBadge&&(n=a.createElement(p.a,{className:"gifter-badge-progress__only-current"},a.createElement(p.a,{display:f.d.Flex,fullWidth:!0,justifyContent:f.h.Between},this.badgeLayout(e.currentBadge))));return null===n?null:a.createElement(p.a,{display:f.d.Flex,padding:{x:2},justifyContent:f.h.Center},n)},t.prototype.badgeLayout=function(e){return a.createElement(f.g,{zIndex:f.o.Above,key:e.setID+e.version},a.createElement(y,{badge:e}))},t.prototype.filterBadges=function(){var e={currentBadge:null,nextBadge:null},t=this.props.gifterBadges,n=this.props.giftsSentCount;0===n&&(n=1);for(var r=0,i=t;r<i.length;r++){var a=i[r],o=Number(a.version);if(1===o&&(e.baseBadge=a),!(o<=n))return e.nextBadge=a,e;e.currentBadge=a}return e},t.prototype.getPrivacySettingWarning=function(e){if(this.props.hidesGiftCount){var t=Object(c.d)("Your <x:link>privacy settings</x:link> have hidden your gifts given count. The default badge will be displayed.",{"x:link":function(e){return a.createElement(h.a,{to:"/settings/security"},e)}},"SubGifterBadgeProgress");return a.createElement(p.a,{margin:{top:1},display:f.d.Flex,flexDirection:f.e.Row,alignItems:f.b.Center,justifyContent:f.h.Center},a.createElement(f.g,{padding:{x:1}},a.createElement(u.a,{badge:Object(d.b)(e),hideTooltip:!0})),a.createElement(f.g,{padding:{x:1}},a.createElement(m.a,{"data-test-selector":r.PrivacyWarning},t)))}return null},t}(a.Component);var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return Object(l.a)("untouch_cam_mig",this.props.channel.login)?null:a.createElement(S,{formattedDisplayName:Object(o.a)(this.props.channel.login,this.props.channel.displayName),gifterBadges:this.props.gifterBadges,giftingAnonymously:this.props.giftingAnonymously,giftsSentCount:this.props.giftCount,hidesGiftCount:this.props.hidesGiftCount,compact:this.props.compact||!1})},t}(a.Component),E=Object(s.c)((function(e){return{channel:e.channel,gifterBadges:e.gifterBadges,giftingAnonymously:e.giftingAnonymously,giftCount:e.subscriptionGiftCount,hidesGiftCount:e.hidesGiftCount}}))(v);n.d(t,"a",(function(){return E}))},HKxW:function(e,t,n){e.exports=n.p+"assets/BitsBadge-Silver_72-35d76d3a7b77a6bd9bf9.png"},HdJw:function(e,t,n){e.exports=n.p+"assets/specific-viewer-1x-14cdd082b3033dafa054.png"},JETd:function(e,t,n){e.exports=n.p+"assets/specific-viewer-wide-2x-d686d437729d9b4a362d.png"},JMwM:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("dEDE"),c=n("k91D"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){return t.props.onClick&&t.props.onClick()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=!!(this.props.data&&this.props.data.user&&this.props.data.user.self)&&this.props.data.user.self.canGift;return this.props.checkoutURL?(e=Object(a.d)("Gift a Subscription","GiftSubscribeButton"),t="checkout-gift-subscribe-button"):(e=Object(a.d)("Gift a Sub","GiftSubscribeButton"),t="gift-subscribe-button"),i.createElement(l.a,{targetBlank:!0,disabled:!n,onClick:this.handleClick,"data-test-selector":t,purchase:this.props.purchase},this.props.buttonMessage||e)},t=Object(r.__decorate)([Object(s.withLatencyTracking)("GiftSubscribeButton",{autoReportInteractive:!0}),Object(o.a)(c,{options:function(e){return{variables:{recipientLogin:e.giftRecipient,subProductId:e.subProductId}}},skip:function(e){return!e.giftRecipient||!e.subProductId}})],t)}(i.Component);n.d(t,"a",(function(){return u}))},JRpg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PrimeSubscribe_UserPrimeData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"willRenew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidUpgrade"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:362}};n.loc.source={body:"query PrimeSubscribe_UserPrimeData($login: String!) {\nuser(login: $login) {\nid\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nwillRenew\nrenewalDate\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nrenewsAt\nendsAt\npaidUpgrade {\nprice\nstartsAt\n}\ngift {\nisGift\ngifter {\nid\ndisplayName\n}\n}\n}\n}\n}\ncurrentUser {\nid\nhasPrime\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_UserPrimeData=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PrimeSubscribe_UserPrimeData")},JyHs:function(e,t,n){},"K+jS":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r,i=n("pVnL"),a=n.n(i),o=n("q1tI"),s=n("+80q"),l=n("X2PJ");!function(e){e[e.ExtraLarge=0]="ExtraLarge",e[e.Large=1]="Large",e[e.Default=2]="Default",e[e.Small=3]="Small",e[e.ExtraSmall=4]="ExtraSmall"}(r||(r={}));var c=function(e){var t={fontSize:l.d.Size3,fontWeight:l.e.SemiBold};return e.size===r.ExtraLarge&&(t={fontSize:l.d.Size1,fontWeight:l.e.Bold}),e.size===r.Large&&(t={fontSize:l.d.Size2,fontWeight:l.e.Bold}),e.size===r.Small&&(t={fontSize:l.d.Size4,fontWeight:l.e.SemiBold}),e.size===r.ExtraSmall&&(t={fontSize:l.d.Size5,fontWeight:l.e.SemiBold}),o.createElement(s.a,a()({type:e.type,ellipsis:e.ellipsis,lineHeight:e.lineHeight},t),e.children)};c.displayName="Title",c.defaultProps={size:r.Default,lineHeight:s.b.Heading},c.displayName="Title"},LDz7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("/7QA");function i(e,t){if(!t)return!1;var n=null;try{var i=r.b.get(e,"");if(n=JSON.parse(i)){var a=n[t.toLowerCase()],o=Date.now();if(a&&o>=a.start&&o<=a.end)return!0}return!1}catch(e){return!1}}},Li6Q:function(e,t,n){},NX3i:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n("hnjF"),a=n("X2PJ"),o=n("Ws8v"),s=function(e){return r.createElement(o.a,{padding:2,background:a.a.Base,elevation:1,display:e.isOpen?i.d.Block:i.d.Hide,borderRadius:e.borderRadius},e.children)};s.displayName="AccordionBody",s.displayName="AccordionBody"},NZDK:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("hnrd"),o=n("4An/"),s=n("/7QA"),l=n("D7An");!function(e){e.Games="games",e.Videos="videos",e.Users="users",e.Channels="channels",e.StreamTags="streamTags",e.Tags="tags"}(r||(r={}));var c,u,d=n("H/lO");!function(e){e[e.AllVideos=0]="AllVideos",e[e.PastBroadcasts=1]="PastBroadcasts",e[e.Uploads=2]="Uploads",e[e.Highlights=3]="Highlights"}(c||(c={})),function(e){e[e.AnyLength=0]="AnyLength",e[e.Short=1]="Short",e[e.Long=2]="Long"}(u||(u={}));var p,m=n("BSTw"),f=n("Z9JJ");n.d(t,"a",(function(){return h}));var b=((p={})[r.Games]={indexName:d.a.Games,hitsPerPage:2,topNumericFilters:["popularity>1"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[r.Videos]={indexName:d.a.Videos,hitsPerPage:6,get topNumericFilters(){return["created_at>"+v(S())]},singleTypeNumericFilters:[],optionalFacetFilters:""},p[r.Users]={indexName:d.a.Users,hitsPerPage:2,topNumericFilters:["followers>50"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[r.Channels]={indexName:d.a.Channels,hitsPerPage:6,get topNumericFilters(){return["channel_count>10","updated_on>"+v(y())]},get singleTypeNumericFilters(){return["updated_on>"+v(y())]},optionalFacetFilters:""},p[r.StreamTags]={indexName:d.a.StreamTags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p[r.Tags]={indexName:d.a.Tags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p),h=function(){function e(e){this.apolloClient=e.apolloClient,this.client=a(e.appId,e.apiKey),this.stats=e.stats,this.logger=e.logger.withCategory("search-client"),this.sendSearchRequestToForage="variant"===s.p.experiments.getAndTrackAssignment(l.c.NewSearchBackend),this.getCountryCode()}return e.prototype.queryTopResults=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,a,s,l,c,u=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=g(t),a=[],o.a.values(r).forEach((function(t){a.push(u.getTopResult(b[t],e)),a.push(u.getTotalResult(b[t],e))})),[4,this.query(a)];case 1:return(s=i.sent())&&s.results?((c={})[d.a.Users]=r.Users,c[d.a.Games]=r.Games,c[d.a.Channels]=r.Channels,c[d.a.Videos]=r.Videos,c[d.a.StreamTags]=r.StreamTags,c[d.a.Tags]=r.Tags,l=c,s.results.forEach((function(e){var t=o.a.convertValueFromExternal(d.a,e.index);if(t){var r=l[t];n[r]?(n[r].totalHits=Math.max(e.nbHits,n[r].totalHits),n[r].hits=e.hits.length>n[r].hits.length?e.hits:n[r].hits):n[r]={hits:e.hits,totalHits:e.nbHits}}})),[2,n]):[2,n]}}))}))},e.prototype.queryForType=function(e,t,n,r){var a=void 0===r?{}:r,o=a.page,s=void 0===o?0:o,l=a.hitsPerPage,c=void 0===l?50:l,u=a.facetFilters,p=void 0===u?"":u,m=a.numericFilters,f=a.restrictSearchableAttributes,h=void 0===f?[]:f;return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,a,o,l,u,f,y,S,v=this;return Object(i.__generator)(this,(function(E){switch(E.label){case 0:switch((r=g(n)).currentPage=s,a=function(e){return Object(i.__awaiter)(v,void 0,void 0,(function(){var n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n={indexName:e.indexName,query:t,params:{page:s,hitsPerPage:c,numericFilters:m||e.singleTypeNumericFilters,facets:"*",facetFilters:p,restrictSearchableAttributes:h}},[4,this.query([n])];case 1:return(a=i.sent())?(r.exhaustedHits=!a.results[0].nbHits||a.results[0].hits.length<c,[2,{totalHits:a.results[0].nbHits,hits:a.results[0].hits}]):(r.exhaustedHits=!0,[2,{totalHits:0,hits:[]}])}}))}))},e){case d.a.Games:return[3,1];case d.a.Users:return[3,3];case d.a.Channels:return[3,5];case d.a.Videos:return[3,7];case d.a.StreamTags:return[3,9];case d.a.Tags:return[3,11]}return[3,13];case 1:return o=r,[4,a(b.games)];case 2:return o.games=E.sent(),[3,14];case 3:return l=r,[4,a(b.users)];case 4:return l.users=E.sent(),[3,14];case 5:return u=r,[4,a(b.channels)];case 6:return u.channels=E.sent(),[3,14];case 7:return f=r,[4,a(b.videos)];case 8:return f.videos=E.sent(),[3,14];case 9:return y=r,[4,a(b.streamTags)];case 10:return y.streamTags=E.sent(),[3,14];case 11:return S=r,[4,a(b.tags)];case 12:return S.tags=E.sent(),[3,14];case 13:return[2,null];case 14:return[2,r]}}))}))},e.prototype.queryVideos=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,a,o,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:switch(r=d.a.Videos,a=[],n.length){case u.Short:a.push("length<=900");break;case u.Long:a.push("length>900")}switch(o={indexName:r,query:e,params:{page:0,hitsPerPage:50,numericFilters:a,facets:"*",facetFilters:""}},n.type){case c.PastBroadcasts:o.params.facetFilters="broadcast_type:archive";break;case c.Uploads:o.params.facetFilters="broadcast_type:upload";break;case c.Highlights:o.params.facetFilters="broadcast_type:highlight"}return[4,this.query([o])];case 1:return(s=i.sent())?[2,{id:t,totalHits:s.results[0].nbHits,hits:s.results[0].hits}]:[2,{id:t,totalHits:0,hits:[]}]}}))}))},e.prototype.getCountryCode=function(){var e=this;this.apolloClient.query({query:m}).then((function(t){e.countryCode=t.data.requestInfo.countryCode})).catch((function(t){e.logger.warn(t,"Failed to get country code")}))},e.prototype.getSearchResults=function(e){var t=this,n={query:e,platform:"web"};return this.apolloClient.query({query:f,variables:n,fetchPolicy:"network-only"}).then((function(e){if(e.data.search&&e.data.search.result)return{results:JSON.parse(e.data.search.result)}})).catch((function(e){return t.logger.warn(e,"Failed to get search results"),e}))},e.prototype.getTopResult=function(e,t){return{indexName:e.indexName,query:t,params:{page:0,hitsPerPage:e.hitsPerPage,numericFilters:e.topNumericFilters}}},e.prototype.getTotalResult=function(e,t){return{indexName:e.indexName,query:t,params:{hitsPerPage:0,numericFilters:e.singleTypeNumericFilters}}},e.prototype.query=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n=Date.now(),a=!1,i.label=1;case 1:return i.trys.push([1,6,,7]),this.sendSearchRequestToForage&&e.length>7?(o=e[0].query,[4,this.getSearchResults(o)]):[3,3];case 2:return t=i.sent(),[3,5];case 3:return[4,this.client.search(e)];case 4:t=i.sent(),i.label=5;case 5:return[3,7];case 6:return i.sent(),a=!0,t=null,[3,7];case 7:return r=Date.now(),this.countryCode&&(a?this.stats.recordSearchError(this.countryCode,r-n):this.stats.recordSearchSuccess(this.countryCode,r-n)),[2,t]}}))}))},e}();function g(e){var t;return(t={id:e})[r.Games]={totalHits:0,hits:[]},t[r.Videos]={totalHits:0,hits:[]},t[r.Users]={totalHits:0,hits:[]},t[r.Channels]={totalHits:0,hits:[]},t[r.StreamTags]={totalHits:0,hits:[]},t[r.Tags]={totalHits:0,hits:[]},t}function y(){return Math.floor(((new Date).getTime()-6e5)/1e3)}function S(){var e=new Date;return e.setMonth(e.getMonth()-1),Math.floor(e.getTime()/1e3)}function v(e){return e<=100?e:100*Math.round(e/100)}},OCZ4:function(e,t,n){},OEiS:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("8Ad5"),s=n("f00E"),l=n("GnwI"),c=n("H/lO"),u=n("NZDK"),d=n("9kXc"),p=n("8/mp"),m=n("QVaV"),f=n("8EUQ"),b=n("fvjX"),h=n("yR8l"),g=n("k91D"),y=n("sUnt"),S=n("+80q"),v=n("X2PJ"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return e&&!e.loading&&this.props.recipientLogin&&e.user&&e.user.self&&!e.user.self.canGift?i.createElement(y.a,{margin:{top:1}},i.createElement(S.a,{italic:!0,color:v.c.Alt2,"data-test-selector":"gift-eligibility-message-selector"},Object(a.d)("Sorry, a gift subscription to this channel is not available for this user.","GiftRecipientIneligibleMessage"))):null},t}(i.Component),x=Object(b.d)(Object(l.withLatencyTracking)("GiftRecipientIneligibleMessage"),Object(h.a)(g,{options:function(e){return{variables:{recipientLogin:e.recipientLogin,subProductId:e.subProductId}}},skip:function(e){return!e.recipientLogin||!e.subProductId}}))(E),C=n("JMwM"),k=n("br9A"),T=n("XQbB"),P=n("Ws8v"),O=n("hnjF"),_=n("PL8s"),w=n("i4Ys"),I=n("uXHW"),j=n("L/cU"),N=n("fPaz"),A=n("AFv4"),G=(n("d/7K"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedUser:null},t.handleGiftCheckoutAction=function(){var e=t.state.selectedUser;e&&e.login&&(a.n.set(f.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.selectedProduct.name),a.n.set(f.a.SUB_CHECKOUT__RECIPIENT_KEY,e.login),a.n.set(f.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously||!1)),t.props.handleSubMenuAction({action:k.a.BuyGiftSub,checkoutButtonTier:t.props.selectedProduct.tier,giftRecipient:t.state.selectedUser?t.state.selectedUser.login:null,isAnonymous:t.props.giftingAnonymously})},t.onUserClick=function(e){for(var n=e.target;n.parentElement&&!n.dataset.user_id;)n=n.parentElement;n.dataset.user_id&&n.dataset.user_login?t.setState({selectedUser:{id:n.dataset.userId||"",login:n.dataset.user_login||"",name:n.dataset.user_name||n.dataset.user_login||""}}):t.setState({selectedUser:null})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return(e.isWaiting||e.isErrored||!e.hasInput)&&t.selectedUser?{selectedUser:null}:null},t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;return e=this.props.isWaiting?i.createElement(y.a,{fullHeight:!0},i.createElement(T.a,{fillContent:!0})):this.props.hasInput?this.props.isErrored?this.getErrorMessage():this.props.userResults&&this.props.userResults.totalHits>0?this.getUserResultContent():this.getNoResultsMessage():i.createElement(y.a,{margin:1},i.createElement(S.a,{color:v.c.Alt2},Object(a.d)("Start typing to see a list of suggestions here.","GiftRecipientSearchResult"))),i.createElement("div",{onKeyDown:this.props.onKeyDown},i.createElement(P.a,{className:"gift-recipient-search-result-view",background:v.a.Alt,position:O.j.Relative,overflow:O.i.Hidden,display:O.d.Block,margin:{bottom:2},borderRadius:v.b.Medium},i.createElement(O.g,{overflow:O.i.Hidden,position:O.j.Relative},i.createElement(p.b,{suppressScrollX:!0},i.createElement(y.a,null,e,i.createElement(p.a,{enabled:!this.props.isWaiting&&this.props.hasInput,loadMore:this.props.loadMore}))))),i.createElement(y.a,null,i.createElement(y.a,{display:O.d.Flex,alignItems:O.b.Center,justifyContent:O.h.End,fullWidth:!0},i.createElement(O.g,{margin:{x:1}},i.createElement(S.a,{"data-test-selector":"gift-recipient-display-name-selector",bold:!0,type:S.e.Span},this.getFormattedDisplayName())),this.getBuyGiftButton()),i.createElement(x,{subProductId:this.props.selectedProduct.id,recipientLogin:this.state.selectedUser?this.state.selectedUser.login:null})))},t.prototype.getBuyGiftButton=function(){return i.createElement(C.a,{checkoutURL:this.props.selectedProduct.url,giftingAnonymously:this.props.giftingAnonymously,giftRecipient:this.state.selectedUser?this.state.selectedUser.login:null,onClick:this.handleGiftCheckoutAction,productName:this.props.selectedProduct.name,subProductId:this.props.selectedProduct.id})},t.prototype.getFormattedDisplayName=function(){return this.state.selectedUser?Object(m.a)(this.state.selectedUser.login,this.state.selectedUser.name):""},t.prototype.getErrorMessage=function(){return i.createElement(y.a,{fullWidth:!0,textAlign:O.l.Center,justifyContent:O.h.Center},i.createElement(S.a,null,Object(a.d)("Something went wrong","GiftRecipientSearchResult")))},t.prototype.getUserResultContent=function(){var e=this;return this.props.userResults?this.props.userResults.results.map((function(t){var n=Object(m.a)(t.login||"",t.name||"");return i.createElement(w.a,{tabIndex:-1,"data-ts_selectable":!0,"data-tt_content":!0,key:"git-recipient-result__"+t.id,"data-user_id":t.id,"data-user_login":t.login,"data-user_name":t.name,onClick:e.onUserClick,"data-test-selector":"subscribe-button__gift_search_result",blurAfterClick:!0,selected:!!e.state.selectedUser&&(""!==e.state.selectedUser.login&&e.state.selectedUser.login===t.login)},i.createElement(y.a,{padding:.5},i.createElement(I.a,{row:!0},i.createElement(j.a,{alt:t.thumbnailAltText,src:t.thumbnail?t.thumbnail:"",size:j.b.Size4,aspect:N.c.Aspect1x1,borderRadius:v.b.Rounded}),i.createElement(A.a,{overflow:O.i.Hidden},i.createElement(O.g,{padding:{x:1}},i.createElement(S.a,{type:S.e.H5,ellipsis:!0},n))))))})):i.createElement(_.a,null)},t.prototype.getNoResultsMessage=function(){return i.createElement(y.a,{margin:1},i.createElement(S.a,{color:v.c.Alt2},Object(a.d)("No Results","GiftRecipientSearchResult")))},t}(i.Component)),B=Object(l.withLatencyTracking)("GiftRecipientSearchResultPanel")(G),M=n("FLOH"),D=n("dBR3"),L=n("dEDE"),F=n("C7sF"),R=n("kqSx"),U=n("3Law"),H=(n("D/Iv"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedSubProduct:t.props.subscriptionProducts[0]},t.onTierSelect=function(e){t.setState({selectedSubProduct:e})},t.handleChange=function(e){t.props.onChange(e.target.value)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!this.state.selectedSubProduct)return i.createElement(_.a,null);var e=null;if(this.state.selectedSubProduct&&this.state.selectedSubProduct.giftPromotion){var t=this.state.selectedSubProduct&&this.state.selectedSubProduct.giftPromotion?this.state.selectedSubProduct.giftPromotion:null;e=i.createElement(S.a,{bold:!0,className:"subscription-gift-recipient-search__discount-message"},Object(a.d)("{price} (Save {percent})",{percent:Object(a.f)(t?parseInt(t.discountValue,10)/100:0,"percent"),price:t?t.newPrice:""},"GiftRecipientSearch"))}var n=Object(a.d)("Gift Anonymously","GiftRecipientSearch");return i.createElement(p.b,{className:"subscription-gift-recipient-search"},i.createElement(y.a,{padding:2},i.createElement(y.a,{display:O.d.Flex,justifyContent:O.h.Between,margin:{bottom:1}},i.createElement(y.a,{className:"community-gift-bundle-selection__back-button"},i.createElement(L.a,{"data-a-target":"subscribe-back-button","data-test-selector":"gift-recipient-search-back-button",icon:F.a.AngleLeft,onClick:this.props.onBack,type:L.d.Text},i.createElement(y.a,{alignItems:O.b.Center,display:O.d.InlineFlex},i.createElement(S.a,null,Object(a.d)("Back","GiftRecipientSearch"))))),i.createElement(y.a,{alignSelf:O.c.Center},i.createElement(R.a,{checked:this.props.giftingAnonymously,label:n,onChange:this.props.onAnonymousGiftingSelect}))),i.createElement(y.a,{margin:{y:1}},i.createElement(y.a,{flexGrow:1,padding:{left:.5}},i.createElement(S.a,{bold:!0,fontSize:v.d.Size4},Object(a.d)("Choose a Gift Recipient","GiftRecipientSearch")))),i.createElement(D.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.onTierSelect,subscriptionProducts:this.props.subscriptionProducts},i.createElement(i.Fragment,null,i.createElement(y.a,{padding:{y:1}},i.createElement(M.a,{allSubProducts:this.props.subscriptionProducts,"data-test-selector":"gift-recipient-search-subheading-selector",selectedSubProduct:this.state.selectedSubProduct})),e,i.createElement(y.a,{display:O.d.Flex,fullWidth:!0,justifyContent:O.h.Center,padding:{top:1}},i.createElement(y.a,{fullWidth:!0},i.createElement(y.a,{padding:{bottom:1}},i.createElement(U.a,{"data-test-selector":"gift-recipient-search-input-selector",id:"gift-recipient-search",onChange:this.handleChange,onKeyDown:this.props.onKeyDown,placeholder:Object(a.d)("Search for a Twitch ID","GiftRecipientSearch")})),i.createElement(B,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,hasInput:this.props.hasInput,isErrored:this.props.isErrored,isWaiting:this.props.isWaiting,loadMore:this.props.loadMore,onKeyDown:this.props.onKeyDown,selectedProduct:this.state.selectedSubProduct,userResults:this.props.userResults})))))))},t}(i.Component));n.d(t,"a",(function(){return W}));var z=50,W=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.inputTimer&&(clearTimeout(n.inputTimer),n.inputTimer=0),e?(n.setState({isWaiting:!0}),n.inputTimer=setTimeout((function(){return n.doSearch(e)}),z)):n.setState(n.getEmptyState())},n.loadMore=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(this.state.queryID||!0===this.state.exhaustedHits)return[2];e=this.state.currentPage+1,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.searchClient.queryForType(c.a.Users,this.state.term,"",{page:e})];case 2:return t=i.sent(),[3,4];case 3:return i.sent(),this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2];case 4:return t?(n=Object(d.a)({searchResults:t,append:e>0,currentUserResults:this.state.currentUserResults}),this.setState({currentUserResults:n.currentUserResults,term:this.state.term,hasInput:!0,isWaiting:!1,currentPage:e,exhaustedHits:n.exhaustedHits}),[2]):(this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2])}}))}))},n.onKeyDown=function(e){n.state.term&&(e.keyCode===o.a.Esc?n.setState({hasInput:!1}):e.keyCode===o.a.Up?n.focusNext(-1):e.keyCode===o.a.Down&&n.focusNext(1))},n.state=n.getEmptyState(),n.searchClient=new u.a({appId:a.a.algoliaApplicationID,apiKey:a.a.algoliaAPIKey,apolloClient:a.p.apollo.client,logger:a.k,config:a.a,stats:a.p.stats}),n}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(H,{giftingAnonymously:this.props.giftingAnonymously,hasInput:this.state.hasInput,isErrored:this.state.isErrored,isWaiting:this.state.isWaiting,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onChange:this.onChange,onKeyDown:this.onKeyDown,loadMore:this.loadMore,subscriptionProducts:this.props.subscriptionProducts,userResults:this.state.currentUserResults})},t.prototype.getEmptyState=function(){return{currentUserResults:{totalHits:0,results:[]},term:"",hasInput:!1,isErrored:!1,queryID:"",isWaiting:!1,currentPage:-1,focusSelectable:!1,exhaustedHits:!1}},t.prototype.doSearch=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:this.inputTimer=0,t=-1,n=s.b(),i=document.activeElement&&"INPUT"===document.activeElement.tagName,this.setState({queryID:n,focusSelectable:!i&&!!this.state.currentFocus}),l.label=1;case 1:return l.trys.push([1,3,,4]),t=0,[4,this.searchClient.queryForType(c.a.Users,e,n)];case 2:return a=l.sent(),[3,4];case 3:return l.sent(),this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2];case 4:return a?this.state.queryID!==a.id?[2]:(o=Object(d.a)({searchResults:a,append:!1}),this.setState((function(n){return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},n),o),{queryID:"",term:e,hasInput:!0,isWaiting:!1,currentPage:t})})),[2]):(this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2])}}))}))},t.prototype.focusNext=function(e){var t,n=document.querySelectorAll("[data-ts_selectable=true]"),r=document.activeElement,i=Array.prototype.indexOf.call(n,r);if((t=i<0?e>0?0:n.length-1:i+e)<0&&(t=0),!(t>=n.length)){var a=n.item(t);a.focus(),a.tabIndex=0,this.setState((function(e){var t=e.currentFocus;return t&&(t.tabIndex=-1),{currentFocus:a}}))}},t=Object(r.__decorate)([Object(l.withLatencyTracking)("GiftRecipientSearch")],t)}(i.Component)},OdUb:function(e,t,n){e.exports=n.p+"assets/5-gifts-1x-de5a1142e70dbf5d7e40.png"},Oha3:function(e,t,n){e.exports=n.p+"assets/BitsBadge-Gold_36-e5df272f17fd541e5acd.png"},"Os9/":function(e,t,n){var r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelLeaderboard"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLeaderboard"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelLeaderboardItem"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"myPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelLeaderboardItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"secondsRemaining"},arguments:[],directives:[]}]}}],loc:{start:0,end:257}};r.loc.source={body:'#import "twilight/features/channel-leaderboard/models/channel-leaderboard-item.gql"\nfragment channelLeaderboard on UserLeaderboard {\nid\nitems {\nedges {\ncursor\nnode {\n...channelLeaderboardItem\n}\n}\n}\nmyPosition {\n...channelLeaderboardItem\n}\nsecondsRemaining\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};r.definitions=r.definitions.concat(n("heI/").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))),e.exports=r},P3k8:function(e,t,n){e.exports=n.p+"assets/prime-free-sub-offer-2x-ae08d883cad00d1a3c0c.png"},P4De:function(e,t,n){e.exports=n.p+"assets/subtember-subway-4x-02569b966aa9f0159f1b.png"},P8sX:function(e,t,n){"use strict";var r=n("AXRb");n.d(t,"a",(function(){return r.a}))},PPeR:function(e,t,n){e.exports=n.p+"assets/prime-free-sub-offer-4x-24053a1f83a914ca1c84.png"},QzCu:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n("VbXa"),a=n.n(i),o=n("q1tI"),s=n("fPaz"),l=n("uG/k"),c=n("+80q"),u=n("6DT+"),d=n("i4Ys"),p=n("hnjF"),m=n("X2PJ"),f=n("sUnt"),b=n("Ws8v");n("lv5a");!function(e){e.Default="default",e.Narrow="narrow"}(r||(r={}));var h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).getYPadding=function(){return g(t.props)?2:t.props.description?2:3},t.renderCaret=function(){return o.createElement(f.a,{flexGrow:0,flexShrink:0,display:p.d.Flex,alignItems:p.b.Center,justifyContent:p.h.Center,padding:{y:t.getYPadding(),left:2,right:1}},o.createElement(u.a,{open:t.props.isOpen}))},t.renderTitles=function(){return o.createElement(f.a,{flexGrow:1,flexShrink:1,display:p.d.Flex,flexDirection:p.e.Column,alignItems:p.b.Start,justifyContent:p.h.Center,overflow:p.i.Hidden,padding:{y:t.getYPadding(),right:2}},o.createElement(f.a,{fullWidth:!0},o.createElement(c.a,{type:c.e.H3,fontSize:m.d.Size4,bold:!0,ellipsis:!0},t.props.title),!g(t.props)&&t.props.description&&o.createElement(c.a,{color:m.c.Alt2,ellipsis:!0},t.props.description)))},t.renderBackgroundImage=function(){if(!g(t.props)&&t.props.backgroundImageProps)return o.createElement(m.f,{className:"accordion-header__background-image",position:p.j.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,borderRadius:t.props.borderRadius},o.createElement(l.a,t.props.backgroundImageProps))},t.renderLabel=function(){if(!g(t.props)&&t.props.label)return o.createElement(f.a,{padding:{right:2},flexGrow:1,flexShrink:0,display:p.d.Flex,alignItems:p.b.Center,justifyContent:p.h.End},o.createElement(c.a,null,t.props.label))},t.renderImageAndLabel=function(){if(!g(t.props)&&(t.props.imageProps||t.props.imageLabelOverlay))return o.createElement(b.a,{className:"accordion-header__image-container",flexGrow:0,flexShrink:0,background:m.a.Alt2,position:p.j.Relative},t.props.imageLabelOverlay&&o.createElement(b.a,{position:p.j.Relative,fullHeight:!0,zIndex:p.o.Above,display:p.d.Flex,alignItems:p.b.Center,justifyContent:p.h.Center,padding:1,color:t.props.imageProps?m.c.Overlay:m.c.Inherit,background:t.props.imageProps?m.a.Overlay:void 0},o.createElement(c.a,{fontSize:m.d.Size3,bold:!0},t.props.imageLabelOverlay)),t.props.imageProps&&o.createElement(f.a,{position:p.j.Absolute,fullWidth:!0,fullHeight:!0,attachTop:!0,attachLeft:!0,overflow:p.i.Hidden},o.createElement(s.b,{ratio:s.c.Aspect1x1,align:s.a.Center},o.createElement(l.a,t.props.imageProps))))},t.onClick=function(e){void 0!==t.props.onClick&&t.props.onClick(e,t.props.index)},t}return a()(t,e),t.prototype.render=function(){return o.createElement(b.a,{className:"accordion-header",background:m.a.Base,elevation:1,position:p.j.Relative,borderRadius:this.props.borderRadius},this.renderBackgroundImage(),o.createElement(d.a,{onClick:this.onClick,type:d.b.Alpha,blurAfterClick:!0,"aria-expanded":this.props.isOpen,borderRadius:this.props.borderRadius},o.createElement(b.a,{className:this.props.size===r.Default||void 0===this.props.size?"accordion-header__contents":"accordion-header__contents--narrow",display:p.d.Flex,position:p.j.Relative,borderRadius:this.props.borderRadius,overflow:p.i.Hidden},this.renderCaret(),this.renderTitles(),this.renderLabel(),this.renderImageAndLabel())))},t}(o.Component);function g(e){return e.size===r.Narrow}h.displayName="AccordionHeader"},R9CH:function(e,t,n){e.exports=n.p+"assets/5-gifts-4x-af7088c1de2d9829c6c8.png"},S2z6:function(e,t,n){},"SL++":function(e,t,n){"use strict";var r=n("q1tI"),i=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("hnjF"),c=n("+80q"),u=n("X2PJ"),d=function(e){var t=e.badge,n=parseInt(t.version,10);return r.createElement(s.a,{alignItems:l.b.Center,className:e.className,display:l.d.Flex,flexDirection:l.e.Column,flexShrink:0},r.createElement(a.a,{badge:Object(o.b)(t),hideTooltip:!0,large:!0}),r.createElement(s.a,{margin:{top:.5}},r.createElement(c.a,{className:e.className+"--text",fontSize:u.d.Size7},n>=12?Object(i.d)("{years}-Year Badge",{years:n/12},"SubBadge"):Object(i.d)("{months}-Month Badge",{months:0===n?1:n},"SubBadge"))))};n.d(t,"a",(function(){return d}))},SPHB:function(e,t,n){e.exports=n.p+"assets/20-gifts-4x-5618312098f1e4ff3c87.png"},TybJ:function(e,t,n){e.exports=n.p+"assets/10-gifts-4x-13dfbe312ba8d6e9e7c5.png"},UMXY:function(e,t,n){e.exports=n.p+"assets/GiftBadge-Bronze_72-090279cdea9d63e99d4e.png"},V3kL:function(e,t,n){},"W+18":function(e,t,n){e.exports=n.p+"assets/random-viewer-2x-49d419f2c634247ddcad.png"},Wd44:function(e,t,n){},WpN7:function(e,t,n){"use strict";var r=n("q1tI"),i=n("/7QA"),a=n("Y1pI"),o=n.n(a),s=n("0cf2"),l=n.n(s),c=n("P4De"),u=n.n(c),d=n("4rCz"),p=n("sUnt"),m=n("hnjF"),f=n("+80q"),b=n("uG/k"),h=(n("X6se"),"subtember_2019_start_date"),g="subtember_2019_end_date",y=new Date(Date.now()-31536e6).toString(),S="subtember_2019_blacklist";var v=function(e){if(e.byDate&&(t=i.b.get(h,y),n=i.b.get(g,y),a=new Date(t),s=new Date(n),c=new Date(Date.now()),!(a<=c&&c<=s)))return null;var t,n,a,s,c;if(!e.byDate&&!e.promotion)return null;var v,E=i.b.get("subtember_updated_callout",!1)?Object(d.d)("During SUBtember, get 50% off the first month of new Tier 1 Subscriptions and Continued Subs from Gifts/Prime!","Subtember2019"):Object(d.d)("During SUBtember, get 50% off the first month of a Tier 1 Subscription!","Subtember2019"),x=null;return e.excludeSubway||(v=e.channelId)&&i.b.get(S,[]).includes(v)||(x=r.createElement(p.a,{display:m.d.Flex,flexDirection:m.e.Row,flexShrink:0,alignItems:m.b.Center,margin:{left:2}},r.createElement(f.a,{className:"subtember-modal-banner__text"},Object(d.d)("brought to you by","Subtember2019")),r.createElement(p.a,{margin:{left:.5}},r.createElement(b.a,{alt:Object(d.d)("Subway","Subtember2019"),src:o.a,srcSet:{"1x":o.a,"2x":l.a,"4x":u.a}})))),r.createElement(p.a,{className:"subtember-modal-banner__background",display:e.excludeSubway?void 0:m.d.Flex,flexDirection:e.excludeSubway?void 0:m.e.Row,textAlign:e.excludeSubway?m.l.Center:void 0,padding:{x:2,y:1}},r.createElement(f.a,{type:f.e.H5,className:"subtember-modal-banner__text"},E),x)};n.d(t,"a",(function(){return v}))},X6se:function(e,t,n){},XX8v:function(e,t,n){},XlIw:function(e,t,n){},Y1pI:function(e,t,n){e.exports=n.p+"assets/subtember-subway-1x-e15534d5c7384e578937.png"},Y5u1:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("8/mp"),l=n("D7An"),c=n("Uh2Q"),u=n("RiD7"),d=n("eL87"),p=n("Gylv"),m=n("FLOH"),f=n("dBR3"),b=n("br9A"),h=n("sUnt"),g=n("hnjF"),y=n("+80q"),S=n("dEDE"),v=n("Ws8v"),E=n("2rlx"),x=n("hCFK"),C=n("C7sF"),k=n("kqSx"),T=n("X2PJ"),P=n("8EUQ"),O=1,_=100,w={AAP:[1,2,5,25,65],1e3:[1,5,10,20,50,100],2e3:[1,5,10,20,50,100],3e3:[1,5,10,20,40]},I={AAP:65,1e3:100,2e3:100,3e3:40},j={control:[1,5,10,20,50,100],A:[1,5,10],B:[5,10,20],C:[10,20,50],D:[20,50,100]},N=n("a5fV");function A(e,t){return Object(N.a)(Object(N.d)(t.priceInfo.price*e,t.priceInfo.exponent),t.priceInfo.currency)}var G=n("3aAs"),B=(n("XlIw"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=t.getInitialState(),t.handleChange=function(e){if(""!==e.target.value){var n=parseInt(e.target.value,10);if(!isNaN(n)){var r=t.props.limit||_;n<O?n=O:n>r&&(n=r),t.setState({giftCount:n,inputString:n.toString()})}}else t.setState({giftCount:1,inputString:e.target.value})},t.onCheckoutClick=function(){o.n.set(P.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),o.n.set(P.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,t.state.giftCount),o.n.set(P.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:b.a.BuyCustomMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.state.giftCount,isAnonymous:t.props.giftingAnonymously})},t.renderMegaCommerceUpsell=function(){if(!Object(c.f)(c.a))return null;var e=Object(c.d)(t.state.giftCount,t.props.subscriptionProduct.tier),n=Object(c.c)(t.state.giftCount,t.props.subscriptionProduct.tier),r=Object(o.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote, give {giftAmount} to the community!} other {Get {benefactorAmount} emotes, give {giftAmount} to the community!}}",{benefactorAmount:e,giftAmount:n},"CustomMysteryGiftBundle"),a=Object(o.d)("{giftAmount, plural, one {Give {giftAmount} emote to the community!} other {Give {giftAmount} emotes to the community!}}",{giftAmount:n},"CustomMysteryGiftBundle");return i.createElement(h.a,{alignItems:g.b.Center,display:g.d.Flex,margin:{left:1}},i.createElement(y.a,{color:T.c.Alt2},t.props.giftingAnonymously?a:r))},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.limit&&e.limit<t.giftCount?{giftCount:e.limit,inputString:e.limit.toString()}:null},t.prototype.render=function(){return i.createElement(h.a,{fullWidth:!0},i.createElement(y.a,{bold:!0,fontSize:T.d.Size5},Object(o.d)("Custom Quantity","CustomMysteryGiftBundle")),i.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Start,margin:{top:1}},i.createElement(h.a,{alignItems:g.b.Center,display:g.d.Flex,margin:{right:2}},i.createElement(h.a,{margin:{right:1}},i.createElement(G.a,{max:this.props.limit||_,min:O,onChange:this.handleChange,type:G.c.Number,value:this.state.inputString})),i.createElement(y.a,{className:"custom-community-gift-bundle__max-text"},Object(o.d)("(Max {limit, number})",{limit:this.props.limit||_},"CustomMysteryGiftBundle"))),i.createElement(h.a,{className:"custom-community-gift-bundle__purchase-button"},i.createElement(S.a,{fullWidth:!0,onClick:this.onCheckoutClick,purchase:A(this.state.giftCount,this.props.subscriptionProduct),targetBlank:!0},Object(o.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.state.giftCount},"CustomMysteryGiftBundle"))),this.renderMegaCommerceUpsell()))},t.prototype.getInitialState=function(){return"treatment"===o.p.experiments.getAndTrackAssignment(l.c.CommunityGiftingCustomOfferPresentment)?{giftCount:10,inputString:10..toString()}:{giftCount:O,inputString:O.toString()}},t}(i.Component)),M=n("6BMd"),D=n.n(M),L=n("zene"),F=n("K+jS"),R=n("uG/k"),U=(n("EYib"),n("EEuB")),H=n.n(U),z=n("/iCH"),W=n.n(z),V=n("/Zlu"),q=n.n(V),Y=n("wK7Q"),K=n.n(Y),Q=n("+naV"),X=n.n(Q),J=n("TybJ"),Z=n.n(J),$=n("rhZM"),ee=n.n($),te=n("D+xR"),ne=n.n(te),re=n("CCnc"),ie=n.n(re),ae=n("u3Ph"),oe=n.n(ae),se=n("GJys"),le=n.n(se),ce=n("SPHB"),ue=n.n(ce),de=n("OdUb"),pe=n.n(de),me=n("nhit"),fe=n.n(me),be=n("R9CH"),he=n.n(be),ge=n("2xp8"),ye=n.n(ge),Se=n("kHse"),ve=n.n(Se),Ee=n("wM1o"),xe=n.n(Ee),Ce=n("5zXJ");function ke(e,t){return t?function(e){return e>=100?{"1x":Ce.h+"/mega-commerce/subscriptions/100-gifts-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/100-gifts-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":Ce.h+"/mega-commerce/subscriptions/50-gifts-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/50-gifts-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":Ce.h+"/mega-commerce/subscriptions/20-gifts-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/20-gifts-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":Ce.h+"/mega-commerce/subscriptions/10-gifts-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/10-gifts-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":Ce.h+"/mega-commerce/subscriptions/5-gifts-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/5-gifts-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":Ce.h+"/mega-commerce/subscriptions/1-gift-1x.png","2x":Ce.h+"/mega-commerce/subscriptions/1-gift-2x.png","4x":Ce.h+"/mega-commerce/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}(e):e>=100?{"1x":ee.a,"2x":ne.a,"4x":ie.a}:e>=50?{"1x":ye.a,"2x":ve.a,"4x":xe.a}:e>=20?{"1x":oe.a,"2x":le.a,"4x":ue.a}:e>=10?{"1x":K.a,"2x":X.a,"4x":Z.a}:e>=5?{"1x":pe.a,"2x":fe.a,"4x":he.a}:e>=1?{"1x":H.a,"2x":W.a,"4x":q.a}:{"1x":"","2x":"","4x":""}}var Te,Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1},t.handleClick=function(){o.n.set(P.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),o.n.set(P.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,String(t.props.mysteryGiftCount)),o.n.set(P.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:b.a.BuyMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.props.mysteryGiftCount,isAnonymous:t.props.giftingAnonymously,wasShownMoreBundles:t.props.wasShownMoreBundles})},t.handleHoverStart=function(){t.setState({hovered:!0})},t.handleHoverEnd=function(){t.setState({hovered:!1})},t.renderMegaCommerceOverlay=function(){if(!Object(c.f)(c.a))return null;var e=Object(c.d)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),n=Object(c.c)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),r=Object(o.d)("Give {giftAmount} to the community",{giftAmount:n},"MysteryGiftBundle"),a=Object(o.d)("Give {giftAmount} emotes to the community",{giftAmount:n},"MysteryGiftBundle");return i.createElement(h.a,{position:g.j.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:g.o.Above,padding:{x:1,y:1},className:"mystery-gift-bundle__overlay"},!t.props.giftingAnonymously&&i.createElement(F.a,{size:F.b.Small},Object(o.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote} other {Get {benefactorAmount} emotes}}",{benefactorAmount:e},"MysteryGiftBundle")),i.createElement(F.a,{size:F.b.Small},t.props.giftingAnonymously?a:r))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=ke(this.props.mysteryGiftCount,Object(c.f)(c.a));return i.createElement(h.a,{className:"mystery-gift-bundle",margin:{bottom:2,x:1}},i.createElement("div",{onMouseEnter:this.handleHoverStart,onMouseLeave:this.handleHoverEnd},i.createElement(h.a,{position:g.j.Relative},this.state.hovered&&this.renderMegaCommerceOverlay(),i.createElement(L.a,{content:i.createElement(R.a,{alt:Object(o.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub at random.} other {Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:e["1x"],srcSet:e}),toggle:this.props.giftingAnonymously,toggledContent:i.createElement(T.f,{borderRadius:T.b.Medium},i.createElement(R.a,{alt:Object(o.d)("{mysteryGiftCount, plural, one {Anonymously Gift {mysteryGiftCount} Sub at random.} other {Anonymously Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:D.a}))})),i.createElement(h.a,{display:g.d.Flex,margin:{top:.5}},i.createElement(S.a,{fullWidth:!0,onClick:this.handleClick,purchase:A(this.props.mysteryGiftCount,this.props.subscriptionProduct),targetBlank:!0},Object(o.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle")))))},t}(i.Component);n("uOOi");n.d(t,"a",(function(){return _e})),function(e){e.ShowMoreButton="show-more-button"}(Te||(Te={}));var Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeProduct:t.props.subscriptionProducts[0],isExpanded:!1},t.bundleSizeExperimentAssignment=o.p.experiments.getAndTrackAssignment(l.c.CommunityGifting3Bundle)||"control",t.onClickShowMoreThanThree=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:b.a.ClickShowMoreGiftBundles})}))},t.onClickShowMoreThanOne=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:b.a.ClickShowMoreGiftBundlesFromBannerCTA})}))},t.setActiveTab=function(e){t.setState({activeProduct:e})},t.getBundlesForTreatment=function(){var e=t.state.activeProduct.tier||"1000",n=w[e];return t.props.defaultBundleSize&&!t.state.isExpanded?[t.props.defaultBundleSize]:"1000"!==e||t.state.isExpanded?n:j[t.bundleSizeExperimentAssignment]},t.renderMegaCommerceCallout=function(){return Object(c.f)(c.a)?i.createElement(h.a,{justifyContent:g.h.Center,display:g.d.Flex,flexDirection:g.e.Column,className:"community-gift-bundle-selection__mega-callout",margin:{top:1},padding:{x:2,y:1}},i.createElement(y.a,null,Object(o.d)("For a limited time, gift to the community and get exclusive HAHAHAliday emotes!","MysteryGiftBundleSelection")),i.createElement(h.a,{padding:{bottom:.5,right:.5},justifyContent:g.h.End,display:g.d.Flex},i.createElement(S.a,{linkTo:Object(c.e)(c.a),targetBlank:!0,onClick:t.learnMoreClick},Object(o.d)("Learn More","MysteryGiftBundleSelection")))):null},t.learnMoreClick=function(){Object(u.p)({user_id:t.props.currentUserID||"",source:u.e.SubModalGifting})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=Object(o.d)("Gift Anonymously","MysteryGiftBundleSelection"),r=t.activeProduct.tier||"1000",a=I[r]||_,l=!this.props.giftingAnonymously&&i.createElement(v.a,{borderTop:!0,margin:{top:2,x:1}},i.createElement(p.a,{compact:!0})),c=this.getBundlesForTreatment(),u=j[this.bundleSizeExperimentAssignment],b=i.createElement(h.a,{padding:{top:0,bottom:2,x:1}},i.createElement(h.a,{padding:{top:1,x:1}},i.createElement(m.a,{allSubProducts:e.subscriptionProducts,selectedSubProduct:t.activeProduct}),this.renderMegaCommerceCallout()),i.createElement(h.a,{justifyContent:g.h.Center},i.createElement(h.a,{display:g.d.Flex,flexWrap:g.f.Wrap,justifyContent:g.h.Start,padding:{top:2}},"1000"===this.state.activeProduct.tier?i.createElement(i.Fragment,null,i.createElement(g.g,{display:g.d.Flex,flexWrap:g.f.Wrap},i.createElement(E.a,{transitionType:x.c.TranslateTop,duration:x.b.Long},c.map((function(n){return i.createElement(Pe,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct,wasShownMoreBundles:-1===u.indexOf(n)})})))),!this.state.isExpanded&&("control"!==this.bundleSizeExperimentAssignment||this.props.defaultBundleSize)&&i.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Center,fullWidth:!0},i.createElement(d.a,{onClick:this.props.defaultBundleSize?this.onClickShowMoreThanOne:this.onClickShowMoreThanThree,buttonText:Object(o.d)("Show more","MysteryGiftBundleSelection"),"data-test-selector":Te.ShowMoreButton}))):c.map((function(n){return i.createElement(Pe,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct})})),i.createElement(h.a,{fullWidth:!0,margin:{x:1}},i.createElement(B,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:a,subscriptionProduct:t.activeProduct})))),l),P="control"===this.bundleSizeExperimentAssignment?"community-gift-bundle-selection community-gift-bundle-selection__tall":"community-gift-bundle-selection community-gift-bundle-selection__short";return i.createElement(h.a,{className:P},i.createElement(s.b,{suppressScrollX:!0},i.createElement(i.Fragment,null,i.createElement(h.a,{padding:{top:2,x:2}},i.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Between},i.createElement(h.a,{className:"community-gift-bundle-selection__back-button"},i.createElement(S.a,{"data-a-target":"subscribe-back-button",icon:C.a.AngleLeft,onClick:e.onBack,type:S.d.Text},i.createElement(y.a,null,Object(o.d)("Back","MysteryGiftBundleSelection")))),i.createElement(h.a,{alignSelf:g.c.Center},i.createElement(k.a,{checked:e.giftingAnonymously,label:n,onChange:e.onAnonymousGiftingSelect}))),i.createElement(h.a,{margin:{y:1}},i.createElement(y.a,{bold:!0,fontSize:T.d.Size4},Object(o.d)("Gift to the Community","MysteryGiftBundleSelection")))),i.createElement(f.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.setActiveTab,subscriptionProducts:e.subscriptionProducts},i.createElement(g.g,{fullHeight:!0,overflow:g.i.Hidden,position:g.j.Relative},this.props.disableScroll?b:i.createElement(s.b,{suppressScrollX:!0},b))))))},t}(i.Component);var _e=Object(a.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(Oe)},YV9q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("/7QA");function i(e){return e.hasAdFree?e.emoteCount>0?Object(r.d)("{emoteCount, plural,           one {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(r.d)("Includes Ad-Free viewing, chatting during Sub-Only Mode, and subscription tenure badges.","SubBenefitMessage"):e.emoteCount>0?Object(r.d)("{emoteCount, plural,           one {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(r.d)("Includes chatting during Sub-Only Mode and subscription tenure badges.","SubBenefitMessage")}},YVOQ:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("q1tI"),o=n("f00E"),s=n("4rCz"),l=n("1rIY"),c=n("8EUQ"),u=n("KriR"),d=n("br9A");!function(e){e[e.Accordion=0]="Accordion",e[e.Scroll=1]="Scroll",e[e.Balloon=2]="Balloon",e[e.ScrollPrime70=3]="ScrollPrime70",e[e.ScrollPrime30=4]="ScrollPrime30"}(r||(r={}));var p={channel:{login:"",id:"",displayName:null},handleSubMenuAction:function(){},modalSessionId:"",subBadges:[],gifterBadges:[],canGiftInChannel:!0,channelId:null,giftingAnonymously:!1,hasPrime:!1,hidesGiftCount:!1,isNonStandardSub:!1,modalLayoutVariant:r.Scroll,onAnonymousGiftingSelect:function(){return null},primeOffers:[],primeSubRenewalDate:null,sessionUser:void 0,subscriptionProducts:[],subscriptionBenefit:null,subscriptionGiftCount:0,tenure:null,streakTenure:null},m=Object(l.a)("SubModalContext",p),f=m.context,b=m.withContext,h=function(e){function t(n){var r=e.call(this,n)||this;return r.state=p,r.onAnonymousGiftingSelect=function(e){r.setState({giftingAnonymously:e.target.checked}),r.handleSubMenuAction({action:d.a.ClickAnonymousGiftCheckbox})},r.handleSubMenuAction=function(e){new Set([d.a.ClickCheckout,d.a.BuyGiftSub,d.a.BuyMysteryGift,d.a.BuyCustomMysteryGift,d.a.BuyGiftToPaidUpgrade,d.a.BuyPaidUpgrade,d.a.BuyContinueSub,d.a.BuyPrimeToPaid,d.a.BuyQuickSub]).has(e.action)&&r.checkAndDisplaySubscriptionCheckout(e.wasShownMoreBundles);var t=!!r.props.subscriptionBenefit;Object(d.c)({action:e.action||"",buttonCTA:r.props.subButtonCTA,channelLogin:r.props.channel.login,channelID:r.props.channel.id,checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:r.state.tenure?r.state.tenure.months:null,hasSubCredit:r.props.canPrimeSubscribe,hostChannelID:r.props.hostChannel?r.props.hostChannel.id:void 0,hostChannelLogin:r.props.hostChannel?r.props.hostChannel.id:void 0,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==d.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:r.props.subLocation,modal:!t,modalLevel:t?"":"top_page",modalSessionId:r.state.modalSessionId,showPrimeContent:r.props.inPrimeRegion,giftRecipient:e.giftRecipient||null})},r.state={channel:{id:r.props.channel.id,login:r.props.channel.login,displayName:r.props.channel.displayName},countryCode:r.props.countryCode,subBadges:t.filterBadges(r.props.subBadges||[],r.props.globalBadges||[]),gifterBadges:t.filterGifterBadges(r.props.globalBadges||[]),subscriptionProducts:t.filterProducts(r.props.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(r.props.subscriptionProducts||[]),channelId:r.props.channel.id,giftingAnonymously:!1,hasPrime:r.props.hasPrime,hidesGiftCount:r.props.hidesGiftCount,isNonStandardSub:t.isNonStandardSub(r.props.subscriptionProducts||[]),modalLayoutVariant:r.props.modalLayoutVariant,primeOffers:t.getTopThreePrimeOffers(r.props.primeOffers),primeSubRenewalDate:r.props.primeSubRenewalDate,onAnonymousGiftingSelect:r.onAnonymousGiftingSelect,sessionUser:r.props.sessionUser,subscriptionGiftCount:r.props.subscriptionGiftCount,subscriptionBenefit:r.props.subscriptionBenefit,tenure:r.props.tenure,handleSubMenuAction:r.handleSubMenuAction,modalSessionId:r.props.modalSessionId||Object(o.c)(),streakTenure:r.props.streakTenure},r}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,n){var r=n.modalSessionId;return r!==e.modalSessionId&&(r=e.modalSessionId?e.modalSessionId:Object(o.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},countryCode:e.countryCode,subBadges:t.filterBadges(e.subBadges||[],e.globalBadges||[]),gifterBadges:t.filterGifterBadges(e.globalBadges||[]),subscriptionProducts:t.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,isNonStandardSub:t.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:r,primeOffers:t.getTopThreePrimeOffers(e.primeOffers),primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},t.filterProducts=function(e){return e.filter((function(e){return null!==e}))},t.filterBadges=function(e,t){var n=e.filter((function(e){return null!==e&&"subscriber"===e.setID})).sort((function(e,t){return e&&t?Number(e.version)-Number(t.version):0}));if(n.length>0&&"0"!==n[0].version&&t){var r=t.find((function(e){return!!e&&"subscriber"===e.setID&&"0"===e.version}));r&&n.unshift(r)}return n},t.filterGifterBadges=function(e){return e.filter((function(e){return null!==e&&"sub-gifter"===e.setID})).sort((function(e,t){return e&&t?Number(e.version)-Number(t.version):0}))},t.isNonStandardSub=function(e){return 1===e.length},t.canSendGift=function(e){if(e.length>0&&e[0]){var t=e[0];if(t&&null!==t.self)return t.self.canGiftInChannel}return!1},t.getTopThreePrimeOffers=function(e){if(e)return e.slice().sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0})).slice(0,3)},t.prototype.componentDidMount=function(){this.handleSubMenuAction({action:d.a.SubMenuReady})},t.prototype.render=function(){return a.createElement(f.Provider,{value:this.state},this.props.children)},t.prototype.checkAndDisplaySubscriptionCheckout=function(e){var t=s.o.get(c.a.SUB_CHECKOUT__PRODUCT_KEY,"");t&&(this.state.subscriptionProducts.map((function(e){return e.name})).includes(t)||this.props.extraSubProductNames&&this.props.extraSubProductNames.includes(t)?this.props.sessionUser?this.props.showSubscriptionCheckout({isAnonymous:s.o.get(c.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:s.o.get(c.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(s.o.get(c.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:t,recipientLogin:s.o.get(c.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:u.c.ChannelSubscribeButton,tenantTracking:{sub_session_id:this.state.modalSessionId,from_show_more_bundles:e}}}):this.props.showLoginModal():c.a.clearSubscriptionCheckoutKeys())},t}(a.Component);n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return h}))},YkqF:function(e,t,n){e.exports=n.p+"assets/GiftBadge-Bronze_36-cb90a834abc7154e39f8.png"},Z9JJ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NavSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userQuery"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112}};n.loc.source={body:"query NavSearch($query: String! $platform: String!) {\nsearch(userQuery: $query platform: $platform) {\nresult\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.NavSearch=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"NavSearch")},a8Jd:function(e,t,n){e.exports=n.p+"assets/specific-viewer-wide-4x-16810d5fd1b8bea8e5d5.png"},b9gC:function(e,t,n){e.exports=n.p+"assets/GiftBadge-Gold_36-95a1d905aec717abc9b3.png"},bPEi:function(e,t,n){e.exports=n.p+"assets/BitsBadge-Silver_36-94263c8fe35b34920793.png"},"d/7K":function(e,t,n){},dBR3:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("br9A"),l=n("sUnt"),c=n("uBOI"),u=n("hnjF");!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000"}(r||(r={}));var d={prime:0,1e3:0,2e3:1,3e3:2},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTab:r.Tier1,activeIndex:0},t.toggleActiveTab=function(e,n){t.setState({activeIndex:n},(function(){var e=t.props.subscriptionProducts[t.state.activeIndex];t.props.handleSubMenuAction({action:s.a.ChangeTier,checkoutButtonTier:e.price}),t.props.onTierSelect(e)}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;if(1===this.props.subscriptionProducts.length)return this.props.children;var t=this.props.subscriptionProducts.filter((function(e){return e.tier})).map((function(t){var n=t.tier;return{label:Object(o.d)("Tier {tierNumber}",{tierNumber:d[n]+1},"TierTabsWrapper"),onClick:e.toggleActiveTab}}));return a.createElement(l.a,{className:"tier-tabs-wrapper"},a.createElement(l.a,{margin:{bottom:1}},a.createElement(c.b,{activeTabIndex:this.state.activeIndex,tabs:t,size:c.a.Default,justifyContent:u.h.Start})),a.createElement(l.a,null,this.props.children))},t}(a.Component);n.d(t,"a",(function(){return p}))},eL87:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("N0BP"),o=n("sUnt"),s=n("hnjF"),l=n("Ws8v"),c=n("dEDE"),u=n("+80q"),d=n("7uM4"),p=n("C7sF"),m=(n("zdTm"),function(e){var t=i.createElement(o.a,{flexGrow:1,position:s.j.Relative},i.createElement(l.a,{borderTop:!0,className:"show-more__line",fullWidth:!0,position:s.j.Absolute,zIndex:s.o.Below}));return e.hideButton?i.createElement(o.a,{className:e.doNotMoveUp?void 0:"show-more__move-up"},i.createElement(o.a,Object(r.__assign)({},Object(a.a)(e),{className:"show-more__hidden"}),t)):i.createElement(o.a,Object(r.__assign)({className:e.doNotMoveUp?void 0:"show-more__move-up",display:s.d.Flex,textAlign:s.l.Center},Object(a.a)(e),{padding:{top:1}}),t,i.createElement(o.a,{flexGrow:0,padding:{x:1}},i.createElement(c.a,{blurAfterClick:!0,onClick:e.onClick,type:c.d.Text},i.createElement(o.a,{display:s.d.Flex},i.createElement(o.a,{alignSelf:s.c.Center,margin:{right:.5}},i.createElement(u.a,null,e.buttonText)),i.createElement(d.a,{asset:p.a.AngleDown})))),t)});n.d(t,"a",(function(){return m}))},eP7G:function(e,t,n){},eVBn:function(e,t,n){e.exports=n.p+"assets/random-viewer-1x-a8838e45efbc7b3c7ef1.png"},fIIl:function(e,t,n){e.exports=n.p+"assets/specific-viewer-4x-01e3327376e17ea6f48e.png"},g4qJ:function(e,t,n){},gzT4:function(e,t,n){e.exports=n.p+"assets/bg-ghost-portrait-1f3051b296ccc174260a.svg"},hCFK:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var r,i,a,o=n("pVnL"),s=n.n(o),l=n("lSNA"),c=n.n(l),u=n("VbXa"),d=n.n(u),p=n("q1tI"),m=n("fNzW"),f=n("vCsY");n("AaQW");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.Fade="fade",e.TranslateRight="translate-right",e.TranslateLeft="translate-left",e.TranslateTop="translate-top",e.TranslateBottom="translate-bottom",e.ScaleOver="scale-over",e.SlideOverRight="slide-over-right",e.SlideOverLeft="slide-over-left",e.SlideOverTop="slide-over-top",e.SlideOverBottom="slide-over-bottom"}(i||(i={})),function(e){e.Short="duration-short",e.Medium="duration-medium",e.Long="duration-long"}(a||(a={}));var h,g=((r={})[a.Short]=100,r[a.Medium]=250,r[a.Long]=300,r);!function(e){e.enter="enter-prep",e.entering="enter-active",e.entered="enter-done",e.exit="exit-prep",e.exiting="exit-active",e.exited="exit-done"}(h||(h={}));var y=function(e){function t(t){var n;return(n=e.call(this,t)||this).getDuration=function(){return n.props.duration||a.Medium},n.onEnterComplete=function(){n.setState({status:h.entered}),n.props.onEnterComplete&&n.props.onEnterComplete()},n.onExitComplete=function(){n.setState({status:h.exited}),n.props.onExitComplete&&n.props.onExitComplete()},n.refHanlder=function(e){if(n.containerRef=e,n.props.injectChild){var t=p.Children.only(n.props.children).ref;"function"==typeof t&&t(e)}},n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.state={status:t.show&&!t.transitionInitialMount?h.entered:h.exited},n}d()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,r=t.status,i=h;return n&&r===i.exited?{status:i.enter}:n&&r===i.exiting?{status:i.entering}:n||r!==i.entered?n||r!==i.entering?null:{status:i.exiting}:{status:i.exit}};var n=t.prototype;return n.componentDidMount=function(){this.props.transitionInitialMount&&this.props.show&&this.setState({status:h.enter})},n.componentWillUnmount=function(){clearTimeout(this.transitionTimer)},n.componentDidUpdate=function(e,t){var n=h;this.state.status===n.enter?(this.ensureLayoutReflow(),this.setState({status:n.entering})):this.state.status===n.exit?(this.ensureLayoutReflow(),this.setState({status:n.exiting})):this.state.status===n.entering&&t.status!==n.entering?(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onEnterComplete,g[this.getDuration()])):this.state.status===n.exiting&&t.status!==n.exiting&&(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onExitComplete,g[this.getDuration()]))},n.render=function(){var e=this.state.status;if(this.state.status===h.exited&&!this.props.alwaysRenderChild)return null;var t,n=[h.enter,h.entering,h.entered].includes(e),r=["tw-transition","tw-transition__"+(t=Array.isArray(this.props.type)?n?this.props.type[0]:this.props.type[1]:this.props.type),"tw-transition__"+t+"--"+e,"tw-transition--"+e,"tw-transition--"+this.getDuration()];if(this.props.injectChild&&p.isValidElement(this.props.children)){var i=p.Children.only(this.props.children);return p.cloneElement(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i.props,{},Object(f.a)(this.props),{ref:this.refHanlder,className:Object(m.a)(this.props.className,i.props.className,r)}))}return p.createElement("div",s()({ref:this.refHanlder,className:Object(m.a)(this.props.className,r)},Object(f.a)(this.props)),this.props.children)},t}(p.Component);y.displayName="Transition"},hKya:function(e,t,n){},hWJn:function(e,t,n){},"heI/":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelLeaderboardItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLeaderboardItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rank"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:84}};n.loc.source={body:"fragment channelLeaderboardItem on UserLeaderboardItem {\nid\nscore\nrank\nuser {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},i70y:function(e,t,n){"use strict";var r,i,a=n("mrSG"),o=n("q1tI"),s=n("/7QA"),l=n("eVBn"),c=n.n(l),u=n("W+18"),d=n.n(u),p=n("CdEI"),m=n.n(p),f=n("DYuq"),b=n.n(f),h=n("ibGi"),g=n.n(h),y=n("xLam"),S=n.n(y),v=n("HdJw"),E=n.n(v),x=n("FMOh"),C=n.n(x),k=n("fIIl"),T=n.n(k),P=n("w49N"),O=n.n(P),_=n("JETd"),w=n.n(_),I=n("a8Jd"),j=n.n(I),N=n("LDz7"),A=n("sUnt"),G=n("hnjF"),B=n("dEDE"),M=n("C7sF"),D=n("+80q"),L=n("X2PJ"),F=n("kqSx"),R=n("Ws8v"),U=n("gzT4"),H=n.n(U),z=n("0aHH"),W=n.n(z),V=n("zene"),q=n("uG/k"),Y=(n("mEVa"),function(e){var t={backgroundImage:"url("+W.a+")",width:"100%",height:"100%"},n={backgroundImage:"url("+H.a+")",width:"100%",height:"100%"};return e.wide?o.createElement(R.a,{className:"gift-option__wide "+e.className,border:!0,borderRadius:L.b.Medium},o.createElement(V.a,{content:o.createElement(q.a,{alt:Object(s.d)("Give a gift to the community","GiftOptions"),src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:o.createElement(L.f,{borderRadius:L.b.Medium},o.createElement("div",{style:t}))}),o.createElement(A.a,{margin:2,display:G.d.Flex,flexDirection:G.e.Column,flexGrow:1},o.createElement(A.a,{display:G.d.InlineBlock,margin:{bottom:1},flexGrow:0},o.createElement(D.a,{bold:!0,fontSize:L.d.Size5},e.title)),o.createElement(A.a,{display:G.d.Flex,flexDirection:G.e.Column,justifyContent:G.h.Between,flexGrow:1},o.createElement(A.a,{margin:{bottom:1}},o.createElement(D.a,{"data-test-selector":r.GiftDescription},e.description)),o.createElement(A.a,{textAlign:G.l.Right},o.createElement(B.a,{"data-test-selector":r.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA))))):o.createElement(R.a,{className:"gift-option__narrow "+e.className,flexDirection:G.e.Row},o.createElement(V.a,{content:o.createElement(q.a,{alt:e.title,src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:o.createElement(L.f,{borderRadius:L.b.Medium},o.createElement("div",{style:n}))}),o.createElement(A.a,{margin:{left:1},padding:{left:.5},display:G.d.Flex,flexDirection:G.e.Column,fullHeight:!0},o.createElement(A.a,{display:G.d.InlineBlock,margin:{bottom:1},flexGrow:0},o.createElement(D.a,{bold:!0,fontSize:L.d.Size5},e.title)),o.createElement(A.a,{display:G.d.Flex,flexDirection:G.e.Column,justifyContent:G.h.Between,flexGrow:1},o.createElement(A.a,{margin:{bottom:1}},o.createElement(D.a,{"data-test-selector":r.GiftDescription},e.description)),o.createElement(A.a,{textAlign:G.l.Left},o.createElement(B.a,{"data-test-selector":r.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA)))))});n("EBDZ");n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return K})),function(e){e.IneligibleToGiftMessage="IneligibleToGiftMessage",e.MysteryGiftOption="MysteryGiftOption",e.SingleGiftOption="SingleGiftOption",e.GiftButton="GiftButton",e.GiftDescription="GiftDescription"}(r||(r={})),function(e){e[e.ForceWide=0]="ForceWide",e[e.ForceNarrow=1]="ForceNarrow"}(i||(i={}));var K=function(e){if(Object(N.a)("untouch_cam_mig",e.channelLoginName))return null;var t=Object(s.d)("Gift Anonymously","GiftOptions"),n=Object(s.d)("Search for someone you'd like to give a gift subscription to.","GiftOptions"),l=Object(s.d)("Gift a Subscription","GiftOptions"),u=Object(s.d)("Give a Gift Subscription","GiftOptions"),p=Object(s.d)("Gift up to 100 gifts to followers & viewers of {channelDisplayName} that Twitch picks for you!",{channelDisplayName:e.channelDisplayName},"GiftOptions"),f=Object(s.d)("Gift to a Specific Viewer","GiftOptions"),h=Object(s.d)("Gift to the Community","GiftOptions"),y=Object(s.d)("Give Gift Subscriptions","GiftOptions");return o.createElement(A.a,{className:"subscription-gift-options",margin:{x:2,top:2}},o.createElement(A.a,{display:G.d.Flex,justifyContent:G.h.Between,flexDirection:e.wrapAnonymousGiftingSelect?G.e.Column:G.e.Row},o.createElement(A.a,null,e.onBack&&o.createElement(A.a,{className:"subscription-gift-options__back-button",margin:{bottom:1}},o.createElement(B.a,{type:B.d.Text,"data-a-target":"subscribe-back-button",icon:M.a.AngleLeft,onClick:e.onBack},o.createElement(A.a,{alignItems:G.b.Center,display:G.d.InlineFlex},o.createElement(D.a,null,Object(s.d)("Back","GiftOptions"))))),o.createElement(A.a,{display:G.d.Flex},o.createElement(A.a,{flexGrow:1},o.createElement(D.a,{bold:!0,fontSize:L.d.Size4},l)))),o.createElement(A.a,{alignSelf:e.onBack||e.displayOverride===i.ForceNarrow?G.c.Start:G.c.Center,margin:{top:.5}},o.createElement(F.a,{checked:e.giftingAnonymously,label:t,onChange:e.onAnonymousGiftingSelect}))),o.createElement(A.a,{margin:{top:1}},e.currentUserCanGift?null:o.createElement(R.a,{borderBottom:!0,borderRight:!0,borderTop:!0,className:"subscription-gift-options__ineligible-message","data-test-selector":r.IneligibleToGiftMessage,margin:{y:1},padding:1},o.createElement(D.a,null,Object(s.d)("Sorry, you cannot give gifts in this channel.","GiftOptions")))),o.createElement(A.a,{display:G.d.Flex,flexDirection:e.displayOverride===i.ForceWide?G.e.Row:G.e.Column,justifyContent:G.h.Around,alignItems:G.b.Start,breakpointMedium:void 0===e.displayOverride?{flexDirection:G.e.Row,alignItems:G.b.Stretch}:{}},!e.isNonStandardSub&&o.createElement(o.Fragment,null,o.createElement(G.g,Object(a.__assign)({margin:{bottom:2}},v(!1)),o.createElement(Y,{buttonType:e.buttonType,CTA:y,currentUserCanGift:e.currentUserCanGift,"data-test-selector":r.MysteryGiftOption,description:p,giftingAnonymously:e.giftingAnonymously,image1x:c.a,image2x:d.a,image4x:m.a,onClick:e.onMysteryGiftSelect,title:h,wide:!1})),o.createElement(G.g,Object(a.__assign)({margin:{right:2}},v(!0)),o.createElement(Y,{buttonType:e.buttonType,CTA:y,currentUserCanGift:e.currentUserCanGift,"data-test-selector":r.MysteryGiftOption,description:p,giftingAnonymously:e.giftingAnonymously,image1x:b.a,image2x:g.a,image4x:S.a,onClick:e.onMysteryGiftSelect,title:h,wide:!0}))),o.createElement(o.Fragment,null,o.createElement(G.g,Object(a.__assign)({margin:e.layoutVariant?{}:{bottom:2}},v(!1)),o.createElement(Y,{buttonType:e.buttonType,CTA:u,currentUserCanGift:e.currentUserCanGift,"data-test-selector":r.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:E.a,image2x:C.a,image4x:T.a,onClick:e.onGiftSelect,title:f,wide:!1})),o.createElement(G.g,Object(a.__assign)({},v(!0)),o.createElement(Y,{buttonType:e.buttonType,CTA:u,currentUserCanGift:e.currentUserCanGift,"data-test-selector":r.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:O.a,image2x:w.a,image4x:j.a,onClick:e.onGiftSelect,title:f,wide:!0})))));function v(t){return void 0===e.displayOverride?t?{display:G.d.Hide,breakpointMedium:{display:G.d.Flex}}:{display:G.d.Flex,breakpointMedium:{display:G.d.Hide}}:e.displayOverride===i.ForceNarrow?t?{display:G.d.Hide}:{display:G.d.Flex}:t?{display:G.d.Flex}:{display:G.d.Hide}}}},ibGi:function(e,t,n){e.exports=n.p+"assets/random-viewer-wide-2x-84bcef0c48ec4d83fad9.png"},j7J2:function(e,t,n){},k91D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftSubscribeButton_Gift_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subProductId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGift"},arguments:[{kind:"Argument",name:{kind:"Name",value:"product"},value:{kind:"Variable",name:{kind:"Name",value:"subProductId"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:171}};n.loc.source={body:"query GiftSubscribeButton_Gift_Eligibility($recipientLogin: String $subProductId: String!) {\nuser(login: $recipientLogin) {\nid\nself {\ncanGift(product: $subProductId)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.GiftSubscribeButton_Gift_Eligibility=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GiftSubscribeButton_Gift_Eligibility")},kHse:function(e,t,n){e.exports=n.p+"assets/50-gifts-2x-ed3b0c433b91fe9a8617.png"},kduP:function(e,t,n){"use strict";var r=n("cr+I"),i={"*":"%2A","!":"%21",")":"%29","(":"%28","'":"%27"};function a(e){return"/directory/game/"+encodeURIComponent(e)}function o(e,t){var n="?term="+encodeURIComponent(e).split("").map((function(e){return i[e]||e})).join("");return t&&(n=n+"&type="+t),{pathname:"/search",search:n}}function s(e){return"/signup?"+r.stringify({next:""+e})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},l8vk:function(e,t,n){},lv5a:function(e,t,n){},mEVa:function(e,t,n){},nhit:function(e,t,n){e.exports=n.p+"assets/5-gifts-2x-31c0ca11e3a878c9e296.png"},pBxH:function(e,t,n){e.exports=n.p+"assets/BitsBadge-Bronze_72-1dc025261cb55cd3bd81.png"},qFtv:function(e,t,n){"use strict";n.r(t);var r,i=n("mrSG"),a=n("w09P"),o=n("q1tI"),s=n("fvjX"),l=n("yR8l"),c=n("eDVu"),u=n("0Log"),d=n("/aPz"),p=n("D7An"),m=n("DMoW"),f=n("4rCz"),b=n("RiD7"),h=n("sUnt"),g=n("hnjF"),y=n("Ws8v"),S=n("1rIY"),v=n("/7QA"),E=n("2xye"),x={LeaderboardExpand:"leaderboard_expand",LeaderboardCollapse:"leaderboard_collapse",LeaderboardSwitch:"leaderboard_switch",LeaderboardUserSelect:"leaderboard_user_select"};function C(e){var t={channel_id:e.channelId,product_type:e.productType===r.Cheer?"bits":"gift_subs",leaderboard_mode:k(e.leaderboardMode),user_present_in_leaderboard:e.userInLeaderboard,action:e.action,action_detail:e.actionDetail||"",leaderboard_size:e.leaderboardSize};v.o.track(E.SpadeEventType.CommerceLeaderboardInteraction,t)}function k(e){switch(e){case m.Nb.WEEK:return"week";case m.Nb.MONTH:return"month";case m.Nb.ALLTIME:default:return"alltime"}}!function(e){e.Cheer="cheer",e.SubGift="subgift"}(r||(r={}));var T={gifterBadges:[],leaderboardType:r.Cheer,toggleLeaderboardType:function(){},topCheerItems:[],topSubGiftItems:[],cheerPlaceItem:null,subGiftPlaceItem:null,currentTopItems:[],currentPlaceItem:null,channelLogin:null,trackLeaderboardUserSelect:function(e){}},P=Object(S.a)("ChannelLeaderboardContext",T),O=P.context,_=P.withContext,w=function(e){function t(t){var n=e.call(this,t)||this;return n.state=T,n.toggleLeaderboardType=function(){n.setState((function(e){return e.leaderboardType===r.Cheer?{leaderboardType:r.SubGift,currentPlaceItem:e.subGiftPlaceItem,currentTopItems:e.topSubGiftItems}:{leaderboardType:r.Cheer,currentPlaceItem:e.cheerPlaceItem,currentTopItems:e.topCheerItems}}),n.trackLeaderboardTypeChange)},n.trackLeaderboardUserSelect=function(e){var t=n.getTrackingOptions(x.LeaderboardUserSelect);t.actionDetail=e,C(t)},n.state={gifterBadges:t.gifterBadges,leaderboardType:t.defaultLeaderboardType,toggleLeaderboardType:n.toggleLeaderboardType,topCheerItems:t.topCheerItems,topSubGiftItems:t.topSubGiftItems,cheerPlaceItem:t.cheerPlaceItem,subGiftPlaceItem:t.subGiftPlaceItem,currentPlaceItem:t.defaultLeaderboardType===r.Cheer?t.cheerPlaceItem:t.subGiftPlaceItem,currentTopItems:t.defaultLeaderboardType===r.Cheer?t.topCheerItems:t.topSubGiftItems,channelLogin:t.channelLogin,trackLeaderboardUserSelect:n.trackLeaderboardUserSelect},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return{gifterBadges:t.gifterBadges,leaderboardType:t.leaderboardType,toggleLeaderboardType:t.toggleLeaderboardType,topCheerItems:e.topCheerItems,topSubGiftItems:e.topSubGiftItems,cheerPlaceItem:e.cheerPlaceItem,subGiftPlaceItem:e.subGiftPlaceItem,currentPlaceItem:t.leaderboardType===r.Cheer?e.cheerPlaceItem:e.subGiftPlaceItem,currentTopItems:t.leaderboardType===r.Cheer?e.topCheerItems:e.topSubGiftItems,channelLogin:e.channelLogin,trackLeaderboardUserSelect:t.trackLeaderboardUserSelect}},t.prototype.render=function(){return o.createElement(O.Provider,{value:this.state},this.props.children)},t.prototype.trackLeaderboardExpandCollapse=function(e){var t=e?x.LeaderboardCollapse:x.LeaderboardExpand,n=this.getTrackingOptions(t);n.actionDetail=this.state.leaderboardType===r.Cheer?"bits":"gift_subs",C(n)},t.prototype.getTrackingOptions=function(e){var t=this.state,n=t.cheerPlaceItem,i=t.subGiftPlaceItem,a=t.topCheerItems,o=t.topSubGiftItems,s=n&&n.rank<=10||i&&i.rank<=10||!1,l=this.state.leaderboardType===r.Cheer?a.length:o.length;return{action:e,productType:this.state.leaderboardType,leaderboardMode:this.props.leaderboardMode||m.Nb.ALLTIME,userInLeaderboard:s,leaderboardSize:l,channelId:this.props.channelId}},t.prototype.trackLeaderboardTypeChange=function(){var e=this.getTrackingOptions(x.LeaderboardSwitch);e.actionDetail=this.state.leaderboardType===r.Cheer?"bits":"gift_subs",C(e)},t}(o.Component),I=n("8/mp"),j=n("/MKj"),N=n("ZS2+"),A=n("XDCx"),G=n("w4HT"),B=n("7uM4"),M=n("C7sF"),D=n("+80q"),L=n("dEDE"),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openSubModal=function(){t.props.showSubModal({channelLogin:t.props.channelLogin||"",subLocation:"gifter_leaderboard",defaultPage:G.a.GiftOptions,subButtonCTA:"Gift a Subscription"})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(h.a,{padding:{bottom:1}},o.createElement(y.a,{borderTop:this.props.showBorder},this.props.leaderboardType===r.Cheer?o.createElement(h.a,{display:g.d.Flex,flexDirection:g.e.Column,alignItems:g.b.Center,margin:{top:1}},o.createElement(B.a,{asset:M.a.Bits,type:B.b.Brand}),o.createElement(D.a,{type:D.e.Span,bold:!0},Object(f.d)("Cheer your way to the top!","Bits--PinnedCheersV2"))):o.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Center,margin:{top:1},padding:{y:.5}},o.createElement(L.a,{icon:M.a.Gift,onClick:this.openSubModal},Object(f.d)("Gift a Subscription","Bits--PinnedCheerV2")))))},t}(o.Component),R=N.a.wrap((function(){return Promise.all([n.e(0),n.e(100)]).then(n.bind(null,"hfwl"))}),"SubModal");var U=Object(s.d)(Object(j.b)(null,(function(e){return Object(s.b)({showSubModal:function(e){var t=Object(i.__rest)(e,[]);return Object(A.e)(R,t)}},e)})),_((function(e){return{leaderboardType:e.leaderboardType,channelLogin:e.channelLogin}})))((function(e){return o.createElement(F,{showBorder:e.showBorder,leaderboardType:e.leaderboardType,showSubModal:e.showSubModal,channelLogin:e.channelLogin})})),H=n("90ET"),z=n("3CMh"),W=n("X2PJ"),V=(n("j7J2"),o.memo((function(e){if(!e.count)return null;var t=null;if(e.gifterBadges)for(var n=0,r=e.gifterBadges;n<r.length;n++){var i=r[n];if(i)if(null===t)t=i;else Number(i.version)<=e.count&&(t=i)}return o.createElement(h.a,{className:"sub-gift-count",display:g.d.Flex},t&&o.createElement(h.a,{margin:{right:.5}},o.createElement("img",{src:t.image2x,className:"sub-gift-count__icon",alt:Object(f.d)("Sub Gift Icon","LeaderboardSubGiftCount")})),o.createElement(D.a,{color:W.c.Alt2,bold:!0},e.count))})));var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(V,{gifterBadges:this.props.gifterBadges,count:this.props.count})},t}(o.Component),Y=_((function(e){return{gifterBadges:e.gifterBadges}}))(q),K=n("8SX2"),Q=n("oK83"),X=n("PL8s"),J=n("wp5a"),Z=(n("xlh+"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry",display:g.d.Block,alignItems:g.b.Center},o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center,justifyContent:g.h.Between},o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry__rank"},o.createElement(X.a,{width:8,height:2})),o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry__avatar"},o.createElement(X.a,{height:15})),o.createElement(h.a,{ellipsis:!0,className:"bits-leaderboard-expanded-leaderboard-entry__username",margin:{x:1}},o.createElement(X.a,{width:100,height:2})),o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry__score",margin:{left:"auto"}},o.createElement(X.a,{width:75,height:2}))));var e=null,t="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){t=this.props.data.user.displayName||this.props.data.user.login;var n=o.createElement(D.a,{ellipsis:!0},t);this.props.selfId&&this.props.selfId===this.props.id&&(n=o.createElement(D.a,{ellipsis:!0,color:W.c.Link,bold:!0},t)),e=o.createElement(h.a,{ellipsis:!0,className:"bits-leaderboard-expanded-leaderboard-entry__username",margin:{x:1},display:g.d.InlineBlock},o.createElement(K.a,{contentID:"",login:this.props.data.user.login,sourceType:Q.b.bits_leaderboard},n))}var i,a=null;return a=this.props.selfId&&this.props.selfId===this.props.value?o.createElement(J.a,{label:this.props.rank.toString(),type:J.b.Brand}):o.createElement(g.g,{padding:this.props.rank<10?{left:.5}:void 0},o.createElement(D.a,null,this.props.rank)),i=o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center,justifyContent:g.h.Between},o.createElement(h.a,{display:g.d.InlineFlex},o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry__rank",textAlign:g.l.Center},a),e),o.createElement(h.a,{flexShrink:0,verticalAlign:g.m.Top,display:g.d.InlineBlock},this.props.leaderboardType===r.Cheer?o.createElement(z.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:z.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center}):o.createElement(Y,{count:this.props.score}))),o.createElement(h.a,{className:"bits-leaderboard-expanded-leaderboard-entry",display:g.d.Block,alignItems:g.b.Center},i)},t}(o.Component));var $,ee,te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(Z,{id:this.props.id,value:this.props.value,score:this.props.score,selfId:this.props.selfId,rank:this.props.rank,data:this.props.data,leaderboardType:this.props.leaderboardType})},t}(o.Component),ne=Object(s.d)(Object(l.a)(H,{name:"data",skip:function(e){return!e.value},options:function(e){return{variables:{userID:e.value}}}}),_((function(e){return{leaderboardType:e.leaderboardType}})))(te),re=n("/d9a"),ie=n.n(re),ae=n("pBxH"),oe=n.n(ae),se=n("Oha3"),le=n.n(se),ce=n("6XlV"),ue=n.n(ce),de=n("bPEi"),pe=n.n(de),me=n("HKxW"),fe=n.n(me),be=n("YkqF"),he=n.n(be),ge=n("UMXY"),ye=n.n(ge),Se=n("b9gC"),ve=n.n(Se),Ee=n("3L6z"),xe=n.n(Ee),Ce=n("uipG"),ke=n.n(Ce),Te=n("+IFb"),Pe=n.n(Te);n("JyHs");!function(e){e.Gold="gold",e.Silver="silver",e.Bronze="bronze",e.Default="default"}($||($={})),function(e){e[e.Big=0]="Big",e[e.Small=1]="Small"}(ee||(ee={}));var Oe={subgift:{bronze:[he.a,ye.a],silver:[ke.a,Pe.a],gold:[ve.a,xe.a],default:[ve.a,xe.a]},cheer:{bronze:[ie.a,oe.a],silver:[pe.a,fe.a],gold:[le.a,ue.a],default:[le.a,ue.a]}},_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.leaderboardType,r=e.medal,i=t===ee.Big?"bits-leaderboard-medal__big":"bits-leaderboard-medal__small",a=Oe[n][r];return(!a||a.length<1)&&(a=Oe[n][$.Default]),o.createElement(h.a,{className:"bits-leaderboard-medal",display:g.d.Flex,position:g.j.Relative},o.createElement(g.g,{className:i},o.createElement("img",{alt:this.getMedalAltText(r),src:t===ee.Big?a[1]:a[0]})))},t.prototype.getMedalAltText=function(e){var t="";switch(e){case $.Gold:t=Object(v.d)("Gold Medal","LeaderboardMedalsComponent");break;case $.Silver:t=Object(v.d)("Silver Medal","LeaderboardMedalsComponent");break;case $.Bronze:t=Object(v.d)("Bronze Medal","LeaderboardMedalsComponent");break;default:t=Object(v.d)("Default Medal","LeaderboardMedalsComponent")}return t},t}(o.Component),we=function(e){return o.createElement(y.a,{padding:{x:.5},background:W.a.Accent,color:W.c.OverlayAlt,borderRadius:W.b.Rounded,fontSize:e.size||W.d.Size6,display:g.d.Flex,alignContent:g.a.Center,fontWeight:W.e.Bold,flexGrow:0,ellipsis:!0},e.children)},Ie=(n("DC4B"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(h.a,{display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1});var e,t=null,n="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){n=this.props.data.user.displayName||this.props.data.user.login;var i=o.createElement(D.a,{ellipsis:!0,bold:!0},n);this.props.selfId&&this.props.selfId===this.props.value&&(i=o.createElement(we,null,n)),t=o.createElement(h.a,{ellipsis:!0,className:"bits-leaderboard-expanded-top-three-entry__username",margin:{x:.5},display:g.d.InlineBlock},o.createElement(K.a,{contentID:"",login:this.props.data.user.login,sourceType:Q.b.bits_leaderboard},i))}return e=o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.InlineFlex,flexGrow:1,fullWidth:!0,alignItems:g.b.Center,justifyContent:g.h.Between},o.createElement(h.a,{display:g.d.InlineFlex},o.createElement(_e,{size:ee.Small,medal:this.props.medal,leaderboardType:this.props.leaderboardType}),t),o.createElement(h.a,{flexShrink:0,margin:{left:"auto"},display:g.d.InlineBlock,verticalAlign:g.m.Top},this.props.leaderboardType===r.Cheer?o.createElement(z.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:z.b.ExtremelySmall,display:g.d.InlineFlex,amount:this.props.score,formattedNumber:!0,alignItems:g.b.Center}):o.createElement(Y,{count:this.props.score}))),o.createElement(h.a,{className:"bits-leaderboard-expanded-top-three-entry",display:g.d.Block},e)},t}(o.Component));var je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(Ie,{id:this.props.id,value:this.props.value,score:this.props.score,selfId:this.props.selfId,medal:this.props.medal,rank:this.props.rank,leaderboardType:this.props.leaderboardType,data:this.props.data})},t}(o.Component),Ne=Object(s.d)(Object(l.a)(H,{name:"data",skip:function(e){return!e.value},options:function(e){return{variables:{userID:e.value}}}}),_((function(e){return{leaderboardType:e.leaderboardType}})))(je);function Ae(e){var t=Math.floor(e/86400);return t<1?Object(f.d)("Resets in less than a day","Bits--PinnedCheerV2"):Object(f.d)("{time, plural, one {Resets in {time} day} other {Resets in {time} days}}",{time:t},"Bits--PinnedCheerV2")}var Ge,Be=n("i4Ys"),Me=n("7d/q");n("6H5f");!function(e){e.UserPlaceEntry="user-place-entry",e.ResetMessage="leaderboard-reset-message",e.RotateArrow="rotate-arrow"}(Ge||(Ge={}));var De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.shouldRenderBottomContent(),t=this.renderTopThreeEntries(),n=this.renderTopTenEntries(),r=this.renderTopSection(),i=null;return e&&(i=this.renderUserPlaceEntry()),o.createElement(y.a,{background:W.a.Base,padding:{top:1},position:g.j.Relative},r,o.createElement(I.b,{className:"bits-leaderboard-expanded__scrollable",suppressScrollX:!0},o.createElement(h.a,null,o.createElement(h.a,{margin:{bottom:1}},t,n,i),!i&&o.createElement(U,{showBorder:!!this.props.topItems&&this.props.topItems.length>0}))),o.createElement(h.a,null,o.createElement(Be.a,{type:Be.b.Alpha,onClick:this.props.toggleExpand},o.createElement(h.a,{fullWidth:!0,display:g.d.Flex,justifyContent:g.h.Center,padding:1},o.createElement(y.a,{background:W.a.Alt2,className:"bits-leaderboard-expanded__expand-grabber",borderRadius:W.b.Large})))))},t.prototype.renderTopThreeEntries=function(){var e=this.props.topItems,t=[];return t.push(this.renderTopThreeEntry(e[0],$.Gold)),t.push(this.renderTopThreeEntry(e[1],$.Silver)),t.push(this.renderTopThreeEntry(e[2],$.Bronze)),t},t.prototype.renderTopSection=function(){var e=function(e,t){if(e===r.Cheer)switch(t){case m.Nb.ALLTIME:return Object(f.d)("All-time Top Cheerers","Bits--PinnedCheerV2");case m.Nb.MONTH:return Object(f.d)("Monthly Top Cheerers","Bits--PinnedCheerV2");case m.Nb.WEEK:default:return Object(f.d)("Weekly Top Cheerers","Bits--PinnedCheerV2")}else switch(t){case m.Nb.ALLTIME:return Object(f.d)("All-time Top Gifters","Bits--PinnedCheerV2");case m.Nb.MONTH:return Object(f.d)("Monthly Top Gifters","Bits--PinnedCheerV2");case m.Nb.WEEK:default:return Object(f.d)("Weekly Top Gifters","Bits--PinnedCheerV2")}}(this.props.leaderboardType,this.props.leaderboardMode),t=this.props.secondsRemaining?this.props.secondsRemaining:0,n=o.createElement(D.a,{type:D.e.Span,"data-test-selector":Ge.ResetMessage},Ae(t));return o.createElement(y.a,{display:g.d.Flex,alignItems:g.b.Center,margin:{bottom:1},padding:{bottom:1},borderBottom:!0,justifyContent:g.h.Between,className:"bits-leaderboard-expanded__header"},o.createElement(Me.a,{icon:M.a.AngleLeft,onClick:this.props.toggleLeaderboardType,blurAfterClick:!0,"data-test-selector":Ge.RotateArrow}),o.createElement(h.a,{fullHeight:!0,display:g.d.Flex,fullWidth:!0},o.createElement(Be.a,{type:Be.b.Alpha,onClick:this.props.toggleExpand},o.createElement(h.a,{display:g.d.Flex,flexDirection:g.e.Column},o.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Center},o.createElement(D.a,{type:D.e.H5,bold:!0},e)),this.props.leaderboardMode!==m.Nb.ALLTIME&&o.createElement(h.a,{textAlign:g.l.Center},n)))),o.createElement(Me.a,{icon:M.a.AngleRight,onClick:this.props.toggleLeaderboardType,blurAfterClick:!0,"data-test-selector":Ge.RotateArrow}))},t.prototype.renderTopThreeEntry=function(e,t){return e?o.createElement(h.a,{key:e.id,padding:{x:1,top:.5}},o.createElement(Ne,{id:e.id,value:e.user&&e.user.id||void 0,score:e.score,medal:t,selfId:this.props.selfId,rank:e.rank})):null},t.prototype.renderTopTenEntries=function(){var e=this;return this.props.topItems?this.props.topItems.slice(3,10).reduce((function(t,n){return n&&t.push(e.renderTopTenEntry(n)),t}),[]):null},t.prototype.renderTopTenEntry=function(e){return o.createElement(h.a,{key:e.id,padding:{x:1,top:.5}},o.createElement(ne,{id:e.id,value:e.user&&e.user.id||void 0,score:e.score,selfId:this.props.selfId,rank:e.rank}))},t.prototype.shouldRenderBottomContent=function(){var e=this;if(!this.props.topItems)return!1;var t=!0;return this.props.topItems.forEach((function(n){n.user&&n.user.id===e.props.selfId&&(t=!1)})),t},t.prototype.renderUserPlaceEntry=function(){if(!this.props.userPlaceItem)return null;var e=this.renderTopTenEntry(this.props.userPlaceItem);return o.createElement(h.a,{padding:{top:.5},"data-test-selector":Ge.UserPlaceEntry},o.createElement(y.a,{borderTop:!0},o.createElement(h.a,{padding:{y:.5}},e)))},t}(o.Component);var Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(De,{topItems:this.props.topItems,toggleExpand:this.props.toggleExpand,selfId:this.props.selfId,toggleLeaderboardType:this.props.toggleLeaderboardType,userPlaceItem:this.props.userPlaceItem,leaderboardMode:this.props.leaderboardMode,secondsRemaining:this.props.secondsRemaining,leaderboardType:this.props.leaderboardType})},t}(o.Component),Fe=_((function(e){return{toggleLeaderboardType:e.toggleLeaderboardType,userPlaceItem:e.currentPlaceItem,topItems:e.currentTopItems,leaderboardType:e.leaderboardType}}))(Le),Re=n("QVaV");function Ue(e,t){if(t===r.Cheer)switch(e){case 1:return Object(v.d)("Cheer now to be #1!","Bits--PinnedCheerV2");case 2:return Object(v.d)("Cheer to take #2!","Bits--PinnedCheerV2");case 3:return Object(v.d)("Cheer to take #3!","Bits--PinnedCheerV2");default:return Object(v.d)("...","Bits--PinnedCheerV2")}else switch(e){case 1:return Object(v.d)("Gift a Sub now to be #1!","ChannelLeaderboard--SubGift");case 2:return Object(v.d)("Gift to take #2!","ChannelLeaderboard--SubGift");case 3:return Object(v.d)("Gift to take #3!","ChannelLeaderboard--SubGift");default:return Object(v.d)("...","ChannelLeaderboard--SubGift")}}var He=n("b7S+"),ze=(n("8FRz"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(h.a,{className:"channel-leaderboard-header-runner-up-entry",display:g.d.Flex,alignItems:g.b.Center},o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(h.a,{flexShrink:0},o.createElement(h.a,{className:"bits-leaderboard-medal__profile-image--small"},o.createElement(X.a,{width:10,height:10}))),o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-runner-up-entry__username",flexShrink:1,margin:{x:.5}},o.createElement(X.a,{width:80,height:2})),o.createElement(h.a,{display:g.d.Flex,margin:{left:"auto",y:.5},flexShrink:0},o.createElement(X.a,{width:40,height:2}))));var e,t=this.props,n=t.isEmpty,i=t.item,a=null,s="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){s=Object(Re.a)(this.props.data.user.login,this.props.data.user.displayName,!0);var l=o.createElement(D.a,{ellipsis:!0,bold:!0},s);this.props.selfId&&this.props.selfId===this.props.data.user.id&&(l=o.createElement(we,null,s)),a=o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-runner-up-entry__username",flexShrink:1,margin:{x:.5}},o.createElement(D.a,{bold:!0,color:W.c.Base,type:D.e.Span},l))}if(n||!i||this.props.data&&!this.props.data.user){var c=Ue(this.props.rank?this.props.rank:0,this.props.leaderboardType);e=o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(h.a,{flexShrink:0},o.createElement(_e,{size:ee.Small,medal:this.props.medal,leaderboardType:this.props.leaderboardType})),o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-runner-up-entry__username-empty",flexShrink:1,margin:{x:.5}},o.createElement(D.a,{color:W.c.Link,bold:!0},c)))}else e=o.createElement(h.a,{overflow:g.i.Hidden,display:g.d.Flex,alignItems:g.b.Center,flexGrow:0,fullWidth:!0},o.createElement(h.a,{flexShrink:0},o.createElement(_e,{size:ee.Small,medal:this.props.medal,leaderboardType:this.props.leaderboardType})),a,o.createElement(h.a,{flexShrink:0,className:"channel-leaderboard-header-runner-up-entry__score",margin:{left:"auto"},display:g.d.Flex},this.props.leaderboardType===r.Cheer?o.createElement(z.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:z.b.ExtremelySmall,display:g.d.InlineFlex,amount:i.score,formattedNumber:!0,alignItems:g.b.Center}):o.createElement(Y,{count:i.score})));return this.props.isEmpty||(e=o.createElement(He.a,{label:s,direction:He.c.Bottom},e)),o.createElement(h.a,{className:"channel-leaderboard-header-runner-up-entry",display:g.d.Flex,alignItems:g.b.Center},e)},t}(o.Component));var We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(ze,{medal:this.props.medal,item:this.props.item,isEmpty:this.props.isEmpty,selfId:this.props.selfId,leaderboardType:this.props.leaderboardType,data:this.props.data,rank:this.props.rank})},t}(o.Component),Ve=Object(s.d)(Object(l.a)(H,{name:"data",skip:function(e){return!e.item||!e.item.user},options:function(e){return{variables:{userID:e.item&&e.item.user&&e.item.user.id||""}}}}),_((function(e){return{leaderboardType:e.leaderboardType}})))(We),qe=n("TSYQ"),Ye=(n("wCby"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.data&&(this.props.data.loading||this.props.data.error))return o.createElement(h.a,{className:"channel-leaderboard-header-first-entry",flexShrink:0},o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(h.a,{className:"bits-leaderboard-medal__profile-image--big"},o.createElement(X.a,{width:22,height:22})),o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-first-entry__text",margin:{left:.5}},o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-first-entry__username"},o.createElement(X.a,{width:50,height:2})),o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__score",padding:{y:.5}},o.createElement(X.a,{width:30,height:2})))));var e,t=this.props,n=t.isEmpty,i=t.leaderboardType,a=t.item,s=null,l="";if(this.props.data&&this.props.data.user&&this.props.data.user.login){var c=this.props.data.user;l=Object(Re.a)(c.login,c.displayName,!0);var u=o.createElement(D.a,{ellipsis:!0,bold:!0},l);this.props.selfId&&this.props.selfId===this.props.data.user.id&&(u=o.createElement(we,null,l)),s=o.createElement(h.a,{ellipsis:!0,className:"channel-leaderboard-header-first-entry__username"},o.createElement(D.a,{bold:!0,color:W.c.Base,type:D.e.Span},u))}if(n||this.props.data&&!this.props.data.user||!a){var d=Ue(1,this.props.leaderboardType);e=o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(h.a,{flexShrink:0},o.createElement(_e,{size:ee.Big,medal:$.Default,leaderboardType:i})),o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__text",margin:{left:.5}},o.createElement(D.a,{color:W.c.Link,bold:!0},d)))}else e=o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__container",overflow:g.i.Hidden,display:g.d.InlineFlex,alignItems:g.b.Center,flexGrow:1},o.createElement(h.a,{flexShrink:0},o.createElement(_e,{size:ee.Big,medal:$.Gold,leaderboardType:i})),o.createElement(h.a,null,o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__text",margin:{left:.5},display:g.d.Flex},s),o.createElement(h.a,{className:"channel-leaderboard-header-first-entry__score",margin:{left:.5}},i===r.Cheer?o.createElement(z.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:z.b.ExtremelySmall,display:g.d.InlineFlex,amount:a.score,formattedNumber:!0,alignItems:g.b.Center}):o.createElement(Y,{count:a.score}))));n||(e=o.createElement(He.a,{label:l,direction:He.c.Bottom},e));var p={"channel-leaderboard-header-first-entry":!0,"channel-leaderboard-header-first-entry__empty":n};return o.createElement(h.a,{className:qe(p),flexShrink:0},e)},t}(o.Component));var Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(Ye,{item:this.props.item,isEmpty:this.props.isEmpty,selfId:this.props.selfId,leaderboardType:this.props.leaderboardTypeOverride||this.props.leaderboardType,data:this.props.data})},t}(o.Component),Qe=Object(s.d)(Object(l.a)(H,{name:"data",skip:function(e){return!e.item||!e.item.user},options:function(e){return{variables:{userID:e.item&&e.item.user&&e.item.user.id||""}}}}),_((function(e){return{leaderboardType:e.leaderboardType}})))(Ke),Xe=n("IbuL"),Je=(n("g4qJ"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(Be.a,{type:Be.b.Alpha,onClick:this.props.toggleExpand},o.createElement(y.a,{className:"leaderboard-header-tabbed-layout",display:g.d.Flex,padding:{x:1},justifyContent:g.h.Between,alignItems:g.b.Center,background:W.a.Base},(this.props.topGifter||this.props.topCheerer)&&o.createElement(o.Fragment,null,o.createElement(Qe,{item:this.props.topGifter,selfId:this.props.selfId,leaderboardTypeOverride:r.SubGift,isEmpty:!this.props.topGifter}),o.createElement(Qe,{item:this.props.topCheerer,selfId:this.props.selfId,leaderboardTypeOverride:r.Cheer,isEmpty:!this.props.topCheerer})),!this.props.topGifter&&!this.props.topCheerer&&o.createElement(h.a,{fullWidth:!0,textAlign:g.l.Center},o.createElement(D.a,{bold:!0,color:W.c.Link},Object(v.d)("Cheer or Gift a Sub now to be #1!","ChannelLeaderboard--SubGift"))),o.createElement(Xe.a,{asset:this.props.expanded?M.a.AngleUp:M.a.AngleDown})))},t}(o.Component));var Ze,$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(Je,{topGifter:this.props.topGifter,topCheerer:this.props.topCheerer,toggleExpand:this.props.toggleExpand,selfId:this.props.selfId,expanded:this.props.expanded})},t}(o.Component),et=_((function(e){return{topGifter:e.topSubGiftItems[0],topCheerer:e.topCheerItems[0]}}))($e),tt=n("uBOI");!function(e){e.ResetMessage="leaderboard-reset-message"}(Ze||(Ze={}));var nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e,n){(t.props.leaderboardType===r.SubGift&&1===n||t.props.leaderboardType===r.Cheer&&0===n)&&t.props.toggleLeaderboardType()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=[{label:Object(f.d)("Top Gifters","ChannelLeaderboard-Expanded-Tabs"),onClick:this.onClick},{label:Object(f.d)("Top Cheerers","ChannelLeaderboard-Expanded-Tabs"),onClick:this.onClick}];return o.createElement(y.a,{className:"tabbed-expanded-layout",background:W.a.Base,position:g.j.Relative},o.createElement(et,{expanded:!0,toggleExpand:this.props.toggleExpand,selfId:this.props.selfId}),o.createElement(tt.b,{tabs:t,activeTabIndex:this.props.leaderboardType===r.SubGift?0:1}),o.createElement(h.a,{display:g.d.Flex,margin:1},o.createElement(g.g,{margin:{right:1}},o.createElement(D.a,{type:D.e.Span,color:W.c.Link,bold:!0},function(e){switch(e){case m.Nb.ALLTIME:return Object(f.d)("Top All-time","Bits--PinnedCheerV2");case m.Nb.MONTH:return Object(f.d)("Top Monthly","Bits--PinnedCheerV2");case m.Nb.WEEK:default:return Object(f.d)("Top Weekly","Bits--PinnedCheerV2")}}(this.props.leaderboardMode))),this.props.leaderboardMode!==m.Nb.ALLTIME&&o.createElement(D.a,{type:D.e.Span,"data-test-selector":Ze.ResetMessage},Ae(this.props.secondsRemaining||0))),o.createElement(h.a,{padding:{left:1,right:1,bottom:1}},this.props.topItems.slice(1,3).map((function(t,n){return o.createElement(h.a,{key:t.id,padding:{x:1,top:.5}},o.createElement(Ne,{id:t.id,value:t.user&&t.user.id||void 0,score:t.score,medal:0===n?$.Silver:$.Bronze,selfId:e.props.selfId,rank:t.rank}))})),this.props.topItems.slice(3).map((function(t){return o.createElement(h.a,{key:t.id,padding:{x:1,top:.5}},o.createElement(ne,{id:t.id,value:t.user&&t.user.id||void 0,score:t.score,selfId:e.props.selfId,rank:t.rank}))})),1===this.props.topItems.length&&o.createElement(Ve,{isEmpty:!0,medal:$.Silver,rank:2})),this.props.userPlaceItem&&this.props.userPlaceItem.rank>10&&o.createElement(h.a,{padding:{x:2}},o.createElement(y.a,{borderTop:!0},o.createElement(h.a,{padding:{y:1}},o.createElement(ne,{id:this.props.userPlaceItem.id,value:this.props.userPlaceItem.user&&this.props.userPlaceItem.user.id||void 0,score:this.props.userPlaceItem.score,selfId:this.props.selfId,rank:this.props.userPlaceItem.rank})))),o.createElement(U,{showBorder:!!this.props.topItems&&this.props.topItems.length>0}))},t}(o.Component);var rt,it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(nt,{topItems:this.props.topItems,toggleExpand:this.props.toggleExpand,selfId:this.props.selfId,toggleLeaderboardType:this.props.toggleLeaderboardType,userPlaceItem:this.props.userPlaceItem,leaderboardMode:this.props.leaderboardMode,secondsRemaining:this.props.secondsRemaining,leaderboardType:this.props.leaderboardType})},t}(o.Component),at=_((function(e){return{toggleLeaderboardType:e.toggleLeaderboardType,userPlaceItem:e.currentPlaceItem,topItems:e.currentTopItems,leaderboardType:e.leaderboardType}}))(it);n("33sU");!function(e){e.ExpandGrabber="expand-grabber",e.RotateArrow="rotate-arrow"}(rt||(rt={}));var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFirstPlaceEntry=function(){var e,n=null;return t.props.topItems.length>0&&(n=t.props.topItems[0]),e=n?o.createElement(Qe,{selfId:t.props.selfId,item:n}):o.createElement(Qe,{isEmpty:!0}),o.createElement(g.g,{key:1},e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.renderFirstPlaceEntry(),t=null,n=null;if(this.props.topItems[0]){t=this.renderRunnerUpEntry(2,$.Silver);var r=this.props.topItems[1]?3:0;n=this.renderRunnerUpEntry(r,$.Bronze)}return o.createElement(y.a,{className:"channel-leaderboard-header-rotating",background:W.a.Base,position:g.j.Relative,display:g.d.Block},o.createElement(h.a,{display:g.d.Flex,alignItems:g.b.Center,fullHeight:!0},o.createElement(Me.a,{icon:M.a.AngleLeft,onClick:this.props.toggleLeaderboardType,blurAfterClick:!0,"data-test-selector":rt.RotateArrow}),o.createElement(Be.a,{type:Be.b.Alpha,onClick:this.props.toggleExpand,"data-test-selector":rt.ExpandGrabber},o.createElement(h.a,{className:"channel-leaderboard-header-rotating__users",display:g.d.InlineFlex,flexWrap:g.f.NoWrap,justifyContent:g.h.Between,fullHeight:!0,fullWidth:!0},e&&t&&o.createElement(o.Fragment,null,o.createElement(h.a,{className:"channel-leaderboard-header-rotating__first-place"},e),o.createElement(h.a,{className:"channel-leaderboard-header-rotating__runner-up-entries",display:g.d.Flex,flexShrink:1,flexWrap:g.f.NoWrap,justifyContent:g.h.Between,flexDirection:g.e.Column,margin:{y:.5},verticalAlign:g.m.Top},t,n)),e&&!t&&o.createElement(h.a,{display:g.d.Flex,justifyContent:g.h.Center,fullWidth:!0},e)),o.createElement(h.a,null,o.createElement(h.a,{fullWidth:!0,display:g.d.Flex,justifyContent:g.h.Center,padding:.5},o.createElement(y.a,{background:W.a.Alt2,className:"channel-leaderboard-header-rotating__expand-grabber",borderRadius:W.b.Large})))),o.createElement(Me.a,{icon:M.a.AngleRight,onClick:this.props.toggleLeaderboardType,blurAfterClick:!0,"data-test-selector":rt.RotateArrow})))},t.prototype.renderRunnerUpEntry=function(e,t){var n,r=null;return e>0&&this.props.topItems.length>=e-1&&(r=this.props.topItems[e-1]),n=r?o.createElement(Ve,{selfId:this.props.selfId,item:r,medal:t}):o.createElement(Ve,{isEmpty:!0,medal:t,rank:e}),o.createElement(g.g,{key:e},n)},t}(o.Component);var st,lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(ot,{topItems:this.props.topItems,toggleExpand:this.props.toggleExpand,selfId:this.props.selfId,leaderboardType:this.props.leaderboardType,gifterBadges:this.props.gifterBadges,toggleLeaderboardType:this.props.toggleLeaderboardType})},t}(o.Component),ct=_((function(e){return{leaderboardType:e.leaderboardType,gifterBadges:e.gifterBadges,toggleLeaderboardType:e.toggleLeaderboardType,topItems:e.currentTopItems}}))(lt),ut=n("sekq");n("l8vk");!function(e){e[e.Rotation=0]="Rotation",e[e.Tabbed=1]="Tabbed"}(st||(st={}));var dt,pt=n("0Lz3");function mt(e){return Object(d.f)(e.id.substring(0,e.id.lastIndexOf("-")))}function ft(e,t,n,i,o){return{topic:i&&i.id?mt(i):"",type:u.PubsubMessageType.BitsLeaderboardEvent,mutator:function(e,t){if(!t||!i)return t;var s=e.top.map((function(e){return Object(pt.b)(e,i.id)})),l=t;if(t.user&&t.user.channel&&t.user.channel.leaderboardSet)if(n===r.Cheer&&t.user.channel.leaderboardSet.bits){if(l=a(t,(function(e){return e.user.channel.leaderboardSet.bits.items.edges}),(function(){return s.map((function(e){return{__typename:"UserLeaderboardItemEdge",cursor:""+e.rank,node:e}}))})),o&&e.entry_context&&e.entry_context.entry&&e.entry_context.entry.entry_key===o&&t.user.channel.leaderboardSet.bits.myPosition){var c=Object(pt.b)(e.entry_context.entry,i.id);l=a(t,(function(e){return e.user.channel.leaderboardSet.bits.myPosition}),(function(){return c}))}}else if(n===r.SubGift&&t.user.channel.leaderboardSet.subGift&&(l=a(t,(function(e){return e.user.channel.leaderboardSet.subGift.items.edges}),(function(){return s.map((function(e){return{__typename:"UserLeaderboardItemEdge",cursor:""+e.rank,node:e}}))})),o&&e.entry_context&&e.entry_context.entry&&e.entry_context.entry.entry_key===o&&t.user.channel.leaderboardSet.subGift.myPosition)){var u=Object(pt.b)(e.entry_context.entry,i.id);l=a(t,(function(e){return e.user.channel.leaderboardSet.subGift.myPosition}),(function(){return u}))}return l},skip:!i,query:e,variables:{channelID:t}}}!function(e){e.Container="channel-leaderboard-container"}(dt||(dt={}));var bt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isExpanded:!1},n.experimentAssignment=null,n.toggleIsExpanded=function(){n.setState((function(e){return{isExpanded:!e.isExpanded}}),(function(){n.state.isExpanded?n.onExpandCollapseClick():n.onExpandCollapseClick(!0)}))},n.contextRefHandler=function(e){n.contextRef=e},n.onExpandCollapseClick=function(e){var t=n.props,r=t.channelID,i=t.userID,a=t.data.user;if(a&&a.cheer&&a.channel&&a.channel.leaderboardSet&&(a.channel.leaderboardSet.bits||a.channel.leaderboardSet.subGift)&&a.cheer.settings&&a.cheer.settings.leaderboard&&a.cheer.settings.leaderboard.isEnabled){var o=a.channel.leaderboardTimePeriod,s=a.channel.leaderboardSet,l=s.bits,c=s.subGift,u=l&&l.items.edges&&l.items.edges.slice(0,10),d=l&&l.myPosition,p=c&&c.myPosition,f=d&&d.rank<=10||p&&p.rank<=10||!1;Object(b.o)({leaderboardSize:u?u.length:0,leaderboardMode:o||m.Nb.ALLTIME,userPresentInLeaderboard:f,userID:i,channelID:r}),n.contextRef&&n.contextRef.trackLeaderboardExpandCollapse(e||!1)}},n.experimentAssignment=f.q.experiments.getAndTrackAssignment(p.c.ChannelLeaderboard),n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;return e=this.renderLeaderboard(),o.createElement(h.a,{zIndex:g.o.Default},e)},t.prototype.renderLeaderboard=function(){if(this.props.data.error||!(this.props.data.user&&this.props.data.user.cheer&&this.props.data.user.channel&&this.props.data.user.channel.leaderboardSet&&this.props.data.user.channel.leaderboardSet.bits&&this.props.data.user.channel.leaderboardSet.subGift))return null;if(!this.props.data.user.cheer.settings||!this.props.data.user.cheer.settings.leaderboard||!this.props.data.user.cheer.settings.leaderboard.isEnabled)return null;var e,t=this.props.data.user.channel.leaderboardSet,n=t.bits,i=t.subGift,a=this.props.data.user.channel.leaderboardTimePeriod||m.Nb.ALLTIME,s=ht(n),l=ht(i),c=n.myPosition,u=i.myPosition,d=function(e){if(!e)return[];return e.filter((function(e){return null!==e&&"sub-gifter"===e.setID})).sort((function(e,t){return e&&t?Number(e.version)-Number(t.version):0}))}(this.props.data.badges),p="subs-tabbed"===(e=this.experimentAssignment)||"subs-rotation"===e?r.SubGift:r.Cheer,f=function(e){return"bits-tabbed"===e||"subs-tabbed"===e?st.Tabbed:st.Rotation}(this.experimentAssignment),b=null;this.state.isExpanded&&(b=f===st.Rotation?o.createElement(Fe,{toggleExpand:this.toggleIsExpanded,selfId:this.props.userID,leaderboardMode:a,secondsRemaining:this.props.data.user.channel.leaderboardSet.bits.secondsRemaining}):o.createElement(at,{toggleExpand:this.toggleIsExpanded,selfId:this.props.userID,leaderboardMode:a,secondsRemaining:this.props.data.user.channel.leaderboardSet.bits.secondsRemaining}));var S=null;this.state.isExpanded||(S=f===st.Rotation?o.createElement(ct,{toggleExpand:this.toggleIsExpanded,selfId:this.props.userID}):o.createElement(et,{toggleExpand:this.toggleIsExpanded,selfId:this.props.userID}));var v="channel-leaderboard";return f===st.Rotation?v+=" channel-leaderboard__rotation":f===st.Tabbed&&(v+=" channel-leaderboard__tabbed"),o.createElement(h.a,{className:v,"data-test-selector":dt.Container,zIndex:g.o.Default},o.createElement(w,{ref:this.contextRefHandler,defaultLeaderboardType:p,gifterBadges:d,topCheerItems:s,topSubGiftItems:l,cheerPlaceItem:c,subGiftPlaceItem:u,channelLogin:this.props.data.user.login,channelId:this.props.channelID,leaderboardMode:this.props.data&&this.props.data.user&&this.props.data.user.channel&&this.props.data.user.channel.leaderboardTimePeriod||m.Nb.ALLTIME},o.createElement(y.a,{borderBottom:!0},S,b)))},t}(o.Component);function ht(e){return e.items.edges&&e.items.edges.slice(0,10).reduce((function(e,t){return t&&t.node&&e.push(t.node),e}),[])}var gt=Object(s.d)(Object(l.a)(ut,{name:"data",options:function(e){return{variables:{channelID:e.channelID}}}}),Object(c.a)((function(e){return{query:ut,variables:{channelID:e.channelID},topic:Object(d.g)(e.channelID),type:u.PubsubMessageType.BitsChannelSettingsEvent,mutator:function(e,t){return t&&t.user&&null!==t.user.cheer&&t.user.channel&&t.user.channel.leaderboardSet&&null!==t.user.channel.leaderboardSet.subGift&&null!==t.user.channel.leaderboardSet.bits&&null!==t.user.cheer.settings.leaderboard&&void 0!==e.updates.leaderboard_enabled&&(t=a(t,(function(e){return e.user.cheer.settings.leaderboard.isEnabled}),(function(){return e.updates.leaderboard_enabled}))),t}}})),Object(c.a)((function(e){return ft(ut,e.channelID,r.SubGift,e.data.user&&e.data.user.channel&&e.data.user.channel.leaderboardSet&&e.data.user.channel.leaderboardSet.subGift,e.userID)})),Object(c.a)((function(e){return ft(ut,e.channelID,r.Cheer,e.data.user&&e.data.user.channel&&e.data.user.channel.leaderboardSet&&e.data.user.channel.leaderboardSet.bits,e.userID)})))(bt);n.d(t,"TestSelectors",(function(){return dt})),n.d(t,"ChannelLeaderboardPresentation",(function(){return bt})),n.d(t,"ChannelLeaderboard",(function(){return gt}))},qyVS:function(e,t,n){},rhZM:function(e,t,n){e.exports=n.p+"assets/100-gifts-1x-270f0ea21595daea8c60.png"},sLmD:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r=n("/7QA"),i="en-us",a={bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:i,"en-gb":i,es:"es-es","es-mx":"es-mx",fi:"fi-fi",fr:"fr-fr",hu:"hu-hu",it:"it-it",ja:"ja-jp",ko:"ko-kr",nl:"nl-nl",no:"no-no",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sv:"sv-se",th:"th-th",tr:"tr-tr",vi:"vi-vn","zh-cn":"zh-cn","zh-tw":"zh-tw"},o=function(e,t){var n,r=l();return n=t?{id:s(e)?e.tag_id:e.objectID,tagName:e.tag_name,isAutomated:e.automated||!1,localizedDescription:s(e)?"":e.description_localizations&&e.description_localizations[r]||"",localizedName:""}:{id:s(e)?e.tag_id:e.objectID,isLanguageTag:e.tag_name.includes("auto___lang"),localizedName:"",tagName:e.tag_name},e.localizations&&e.localizations[r]?n.localizedName=e.localizations[r]:e.localizations&&e.localizations[i]?n.localizedName=e.localizations[i]:n.localizedName=n.tagName,n};function s(e){return void 0!==e.tag_id}function l(){return a[r.p.intl.getLanguageCode()||""]||i}},sekq:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelLeaderboards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaderboardTimePeriod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaderboardSet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelLeaderboard"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subGift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelLeaderboard"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaderboard"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timePeriodType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}],loc:{start:0,end:448}};r.loc.source={body:'#import "twilight/features/channel-leaderboard/models/channel-leaderboard.gql"\n#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChannelLeaderboards($channelID: ID!) {\nuser(id: $channelID) {\nid\nlogin\nchannel {\nid\nleaderboardTimePeriod\nleaderboardSet {\nbits{\n...channelLeaderboard\n}\nsubGift{\n...channelLeaderboard\n}\n}\n}\ncheer {\nid\nsettings {\nid\nleaderboard {\nisEnabled\ntimePeriodType\n}\n}\n}\n}\ncurrentUser {\nid\n}\nbadges {\n...badge\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))}r.definitions=r.definitions.concat(a(n("Os9/").definitions)),r.definitions=r.definitions.concat(a(n("IKE4").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=r,e.exports.ChannelLeaderboards=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,i=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return i.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(r,"ChannelLeaderboards")},t5HY:function(e,t,n){"use strict";function r(e){if(!e)return e;var t=e.split(".");return t[t.length-1]}n.d(t,"a",(function(){return r}))},t77T:function(e,t,n){},u3Ph:function(e,t,n){e.exports=n.p+"assets/20-gifts-1x-8beac3bea0eadc26d5c8.png"},uBOI:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=n("yXPU"),o=n.n(a),s=n("lSNA"),l=n.n(s),c=n("pVnL"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),f=n("A5Hy"),b=n("fNzW"),h=n("vCsY"),g=n("Jsra"),y=n("IbuL"),S=n("hnjF"),v=n("X2PJ"),E=n("sUnt"),x=n("Ws8v"),C=n("C7sF"),k=n("tlKs"),T=n("+80q"),P=n("2Ob2"),O=(n("72SC"),function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleTabOnClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e,t="string"==typeof this.props.label?this.props.label:this.props.label[0],n="string"!=typeof this.props.label&&this.props.label[1]||void 0;return e=this.props.justifyContent!==S.h.End&&this.props.justifyContent!==S.h.Start?{x:1}:{left:this.props.justifyContent!==S.h.Start?2:void 0,right:this.props.justifyContent!==S.h.End?2:void 0},m.createElement(v.f,u()({},Object(h.a)(this.props),{display:S.d.Block,padding:e,fullHeight:!0,fullWidth:!0,color:this.props.overlay?v.c.Overlay:v.c.Inherit}),m.createElement(k.a,{className:"tw-tab-item",onClick:this.handleTabOnClick,linkTo:this.props.linkTo,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,blurAfterClick:this.props.blurAfterClick,title:this.props.title},m.createElement(E.a,{fullHeight:!0,textAlign:this.props.textAlign,display:S.d.Flex,flexDirection:S.e.Column},m.createElement(E.a,{flexGrow:0},m.createElement(x.a,{fontSize:this.props.size===B.Large?v.d.Size4:v.d.Size5,fontWeight:this.props.size===B.Large||n?v.e.SemiBold:v.e.Regular},t),n&&m.createElement(T.a,{fontSize:v.d.Size5},n)),m.createElement(E.a,{flexGrow:1}),m.createElement(E.a,{flexGrow:0},this.props.activeIndicator))))},t}(m.Component));O.displayName="TabItemComponent";var _=Object(P.c)(O),w=n("ygYM"),I=n("i4Ys"),j=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e="string"==typeof this.props.label?this.props.label:this.props.label[0],t="string"!=typeof this.props.label&&this.props.label[1]||void 0;return m.createElement(I.a,{type:I.b.Inverted,linkTo:this.props.linkTo,onClick:this.handleClick,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,borderRadius:v.b.Medium},m.createElement(E.a,{padding:{x:1,y:.5}},m.createElement(T.a,{bold:!!t},e),t&&m.createElement(T.a,null,t)))},t}(m.Component);j.displayName="TabMenuItem";var N=function(e){function t(){return e.apply(this,arguments)||this}return p()(t,e),t.prototype.render=function(){return m.createElement(w.a,{direction:w.b.BottomRight,show:!0},m.createElement(E.a,{padding:1},this.props.tabs.map((function(e,t){return m.createElement(j,u()({},e,{key:t}))}))))},t}(m.Component);N.displayName="TabMenu";n("CkPG");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return D}));var G,B,M=32;!function(e){e.ActiveTabIndicator="ACTIVE_TAB_INDICATOR"}(G||(G={})),function(e){e[e.Default=1]="Default",e[e.Large=2]="Large"}(B||(B={}));var D=function(e){function t(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.indicatorRef=null,n.tabRefs=[],n.renderTab=function(e){var t=void 0!==n.props.justifyContent||n.state.showAllTabsForMeasuring?0:1;return m.createElement(v.f,{key:e.originalIndex,flexGrow:t,color:n.props.activeTabIndex===e.originalIndex?v.c.Link:v.c.Base,alignItems:S.b.Center,justifyContent:S.h.Center,fullHeight:!0},m.createElement("li",{className:"tw-tabs__tab",role:f.c.Presentation,ref:n.setTabRef,"data-index":e.originalIndex},m.createElement(_,u()({},e,{size:n.props.size,justifyContent:n.props.justifyContent,textAlign:[S.h.Center,void 0].includes(n.props.justifyContent)?S.l.Center:S.l.Left,activeIndicator:n.props.activeTabIndex===e.originalIndex&&m.createElement("div",{ref:n.setIndicatorRef,className:"tw-tabs__active-indicator",style:{transform:n.state.activeIndicatorTransform},"data-test-selector":G.ActiveTabIndicator})||void 0}))))},n.setTabProps=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{originalIndex:t})},n.toggleMoreItemsMenu=function(){n.setState((function(e){return{showMoreItemsMenu:!e.showMoreItemsMenu}}))},n.setContainerRef=function(e){n.containerRef=e},n.setIndicatorRef=function(e){n.indicatorRef=e},n.setTabRef=function(e){if(n.tabRefs.length>n.props.tabs.length&&n.tabRefs.splice(n.props.tabs.length),e){var t=e.getAttribute("data-index");if(null!==t){var r=parseInt(t,void 0);n.tabRefs[r]=e}}},n.updateVisibleTabs=function(){var e=o()(i.a.mark((function e(t){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),n.tabRefs&&n.containerRef){e.next=3;break}return e.abrupt("return","");case 3:if(!0!==t&&n.state.tabWidths.length===n.tabRefs.length){e.next=6;break}return e.next=6,n.measureTabWidths();case 6:return r=n.props.activeTabIndex||0,a=[],o=n.containerRef.clientWidth,n.hasHiddenItems()||(o-=M),n.props.tabs[r]&&(a.push(r),o-=n.state.tabWidths[r]),n.state.tabWidths.some((function(e,t){return t!==r&&(o-e<=0||(o-=e,t<r?a.splice(t,0,t):a.push(t),!1))})),JSON.stringify(a)!==JSON.stringify(n.state.visibleTabIndexList)&&n.setState({visibleTabIndexList:a}),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.measureTabWidths=o()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAllTabsForMeasuring){e.next=3;break}return e.next=3,n.setState({showAllTabsForMeasuring:!0});case 3:n.ensureLayoutReflow(),n.setState({tabWidths:n.tabRefs.map((function(e){return e.clientWidth})),showAllTabsForMeasuring:!1},t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.setupResizeHandler=function(){window.addEventListener("resize",n.onResize),setTimeout((function(){n.updateVisibleTabs(!0)}),500)},n.removeResizeHandler=function(){window.removeEventListener("resize",n.onResize)},n.onResize=function(e){n.updateVisibleTabs()},n.hasItemWithTwoLineText=function(){return-1<n.props.tabs.findIndex((function(e){return"string"!=typeof e.label&&e.label.length>1}))},n.state={visibleTabIndexList:t.tabs.map((function(e,t){return t})),activeIndicatorTransform:"",tabWidths:[]},n}p()(t,e);var n=t.prototype;return n.getSnapshotBeforeUpdate=function(e,t){return this.props.activeTabIndex!==e.activeTabIndex?this.getIndicatorTransform(this.props.activeTabIndex):null},n.componentDidUpdate=function(e,t,n){var r=this;JSON.stringify(e.tabs)!==JSON.stringify(this.props.tabs)&&this.updateVisibleTabs(!0),n&&this.setState({activeIndicatorTransform:n,showMoreItemsMenu:!1},(function(){r.updateVisibleTabs(),r.ensureLayoutReflow(),r.setState({activeIndicatorTransform:""})}))},n.componentDidMount=function(){this.props.setupResizeHandler?this.props.setupResizeHandler(this.updateVisibleTabs):this.setupResizeHandler()},n.componentWillUnmount=function(){this.props.removeResizeHandler?this.props.removeResizeHandler(this.updateVisibleTabs):this.removeResizeHandler()},n.render=function(){var e={"tw-tabs":!0,"tw-tabs--large":this.props.size===B.Large,"tw-tabs--two-line-text":this.hasItemWithTwoLineText()},t=this.state.showAllTabsForMeasuring?this.props.tabs.map(this.setTabProps):this.getVisibleTabs();return m.createElement(x.a,{className:Object(b.a)(e),position:S.j.Relative,display:S.d.Flex,fullWidth:!0,borderBottom:void 0===this.props.borderBottom||this.props.borderBottom},m.createElement(v.f,{flexGrow:1,display:S.d.Flex,fullHeight:!0,alignItems:S.b.Center,justifyContent:this.props.justifyContent?this.props.justifyContent:S.h.Start,fontSize:v.d.Size4,flexWrap:S.f.Wrap},m.createElement("ul",u()({ref:this.setContainerRef,role:f.c.TabList},Object(h.a)(this.props)),t.map(this.renderTab))),this.hasHiddenItems()&&m.createElement(g.a,{type:g.b.Inherit,blurAfterClick:!0,onClick:this.toggleMoreItemsMenu},m.createElement(E.a,{margin:{left:1}},m.createElement(y.a,{asset:C.a.NavMore}))),this.state.showMoreItemsMenu&&m.createElement(N,{tabs:this.getHiddenTabs()}))},n.getVisibleTabs=function(){var e=this.props.tabs.map(this.setTabProps);return this.state.visibleTabIndexList.map((function(t){return e[t]})).filter((function(e){return void 0!==e}))},n.getHiddenTabs=function(){var e=this;return this.props.tabs.map(this.setTabProps).filter((function(t,n){return-1===e.state.visibleTabIndexList.indexOf(n)}))},n.hasHiddenItems=function(){return this.state.visibleTabIndexList.length!==this.props.tabs.length},n.getIndicatorTransform=function(e){var t=this.tabRefs[e];if(!t||!this.indicatorRef||!this.containerRef)return"";var n=this.indicatorRef.getBoundingClientRect(),r=n.left-this.containerRef.getBoundingClientRect().left,i="scaleX("+n.width/t.clientWidth+")";return["translateX("+(r-t.offsetLeft)+"px)",i].join(" ")},t}(m.Component);D.displayName="Tabs"},uOOi:function(e,t,n){},uXHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("vCsY"),s=n("hnjF"),l=n("X2PJ"),c=n("sUnt"),u=n("Ws8v"),d=function(e){var t,n,r;return e.row&&(t=s.b.Center),e.elevation&&(n=e.elevation),e.background===l.a.Overlay&&(r=l.c.Overlay),a.createElement(c.a,i()({className:"tw-card",position:s.j.Relative},Object(o.a)(e)),a.createElement(u.a,{display:s.d.Flex,flexDirection:e.row?s.e.Row:s.e.Column,alignItems:t,elevation:n,background:e.background,borderRadius:e.borderRadius,color:r,border:e.border,flexWrap:s.f.NoWrap},e.children))};d.displayName="Card",d.displayName="Card"},uipG:function(e,t,n){e.exports=n.p+"assets/GiftBadge-Silver_36-3c828b0fbe79e3caa087.png"},w49N:function(e,t,n){e.exports=n.p+"assets/specific-viewer-wide-1x-9e2fff4a77f103e60648.png"},w4HT:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("8/mp"),o=n("YVOQ"),s=n("Ws8v"),l=n("X2PJ");var c,u=Object(o.c)((function(e){return{modalLayoutVariant:e.modalLayoutVariant}}))((function(e){return e.modalLayoutVariant===o.a.Accordion?i.createElement(s.a,{padding:2,background:l.a.Alt2},i.createElement(s.a,{background:l.a.Base,className:e.className},e.children)):i.createElement(i.Fragment,null,e.children)})),d=n("/7QA"),p=n("DMoW"),m=n("4rCz"),f=n("DnOo"),b=n("a5fV"),h=n("W8Fi"),g=n("0WFu"),y=n("br9A"),S=n("sUnt"),v=n("+80q"),E=n("hnjF"),x=n("dEDE"),C=n("C7sF"),k=n("P8sX"),T=n("Jsra"),P=function(e){var t;return t=e.hasPrime?Object(d.d)("Use your free sub to support your favorite streamer. <x:link>Learn more</x:link>",{"x:link":function(e){return i.createElement(T.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"SubPlan"):e.primeLeadGen?Object(d.d)("Get a free Tier 1 Sub every month!","SubPlan"):Object(d.d)("Get monthly games and in-game loot, a monthly Twitch channel subscription, and loads more with Twitch Prime.","SubPlan"),i.createElement(i.Fragment,null,i.createElement(S.a,{"data-test-selector":c.PrimeSubPlan,flexGrow:2,padding:1},i.createElement(v.a,{bold:!0},Object(d.d)("Free Subscription with Twitch Prime","SubPlan")),i.createElement(v.a,null,t)),i.createElement(S.a,{display:E.d.Flex,alignItems:E.b.Center,justifyContent:E.h.End,fullHeight:!0,margin:1},i.createElement(k.a,{handleSubMenuAction:e.handleSubMenuAction,channelLogin:e.channelLogin})))};!function(e){e.RenewsMessage="subplanrenews",e.PrimeSubPlan="primesubplan",e.TieredSubPlan="tieredsubplan"}(c||(c={}));function O(e,t){if(!t)return!1;var n=Number(t.tier);isNaN(n)&&(n=1e3);var r=Number(e.tier);return isNaN(r)&&(r=1e3),r===n}var _,w=function(e){var t=Object(g.c)(e.product.tier),n=Object(b.c)(e.product),a=null;Object(h.h)([e.product])&&(a=Object(b.e)(e.product));var o=e.primeSubPlan?i.createElement(P,{channelLogin:e.channelLogin,handleSubMenuAction:e.handleSubMenuAction,hasPrime:e.primeSubPlan.hasPrime,primeLeadGen:e.primeSubPlan.primeLeadGen}):i.createElement(i.Fragment,null,i.createElement(S.a,{flexGrow:2,"data-test-selector":c.TieredSubPlan,padding:1},i.createElement(v.a,{bold:!0},t?Object(m.d)("Tier {tierNumber} Subscription",{tierNumber:t},"SubModalPlan"):Object(m.d)("Subscription","SubModalPlan")),i.createElement(v.a,{"data-test-selector":c.RenewsMessage},function(e,t,n){switch(e.interval.unit){case p.Tc.MONTH:return n?Object(m.d)("First month for {discountedPrice}, renews monthly thereafter at {price}",{price:t,discountedPrice:n},"SubModalPlan"):Object(m.d)("Renews monthly at {price}",{price:t},"SubModalPlan");case p.Tc.WEEK:return Object(m.d)("Renews weekly at {price}",{price:t},"SubModalPlan");case p.Tc.YEAR:return Object(m.d)("Renews yearly at {price}",{price:t},"SubModalPlan");case p.Tc.ONE_TIME:return Object(m.d)("One-time purchase","SubModalPlan");default:return null}}(e.product,n,a))),i.createElement(S.a,{display:E.d.Flex,justifyContent:E.h.End,fullHeight:!0,alignItems:E.b.Center,margin:1},e.onGift&&i.createElement(S.a,{margin:{right:1}},i.createElement(x.a,{type:x.d.Secondary,icon:C.a.Gift,onClick:e.onGift},Object(m.d)("Gift","SubModalPlan"))),i.createElement(f.a,{handleSubAction:e.handleSubMenuAction,icon:C.a.Star,isSubbedToTier:O(e.product,e.subscriptionBenefit),overrideSubEventAction:e.isQuickSub?y.a.BuyQuickSub:void 0,productName:e.product.name,tierPrice:a||n,url:e.product.url}))),u=e.isQuickSub?{borderBottom:!0,borderRadius:l.b.None}:{border:!0,borderRadius:l.b.Medium};return i.createElement(s.a,Object(r.__assign)({},u,{display:E.d.Flex,flexDirection:E.e.Row,justifyContent:E.h.End,padding:1,flexWrap:E.f.Wrap}),o)},I=n("OpME"),j=n("Uh2Q"),N=n("751L"),A=function(e){return Object(d.d)("Tier {tierNumber}",{tierNumber:e},"AllPaidTiers")},G=n("YV9q");!function(e){e.PaidSubscriptions="paidtitle",e.Tier1="paidtier1",e.Description="paiddescription"}(_||(_={}));var B,M=function(e){var t=(Object(g.c)(e.product.tier)||"").toString(),n=A(t),r=Object(G.a)({emoteCount:e.product.emotes&&e.product.emotes.length||0,hasAdFree:e.product.hasAdFree});return i.createElement(S.a,null,i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{type:v.e.H4,bold:!0,"data-test-selector":_.PaidSubscriptions},Object(m.d)("Paid Subscriptions","PaidSubscriptions"))),i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{type:v.e.H5,bold:!0,"data-test-selector":_.Tier1},n)),i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{"data-test-selector":_.Description},r)))},D=Object(d.f)(3,{style:"currency",currency:"USD",minimumFractionDigits:0}),L=Object(b.a)(2.99,"USD"),F=Object(d.f)(1,{style:"currency",currency:"EUR",minimumFractionDigits:0}),R=Object(b.a)(3.99,"EUR"),U=function(){return Object(d.d)("Get a FREE Sub every month as a Twitch Prime member!","PrimeBenefits")},H=function(e,t){return Object(d.d)("Save {savings}: Get a Sub AND Twitch Prime for {primePrice}",{savings:e,primePrice:t},"PrimeBenefits")},z=function(){return Object(d.d)("Enjoy all the benefits of <x:link>Amazon Prime</x:link> plus a Tier 1 channel sub every month. <x:link>Learn more</x:link>",{"x:link":function(e){return i.createElement(T.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"PrimeBenefits")},W=function(){return Object(d.d)("Prime is cheaper! Get the benefits of <x:link>Amazon Prime</x:link>, including a free Tier 1 channel Sub every month for less than the cost of a Sub alone. <x:link>Learn more</x:link>",{"x:link":function(e){return i.createElement(T.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"PrimeBenefits")},V=function(){return Object(d.d)("Prime is cheaper for the first 6 months! <x:link>Amazon Prime</x:link> starts off costing less than a Tier 1 channel sub and comes with a free sub every month. Prime then costs only $5.99 thereafter. <x:link>Learn more</x:link>",{"x:link":function(e){return i.createElement(T.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"PrimeBenefits")};function q(e){var t=d.b.get("subs_tp_lead_gen_prime_video_countries",[]);return"ES"===e?H(F,R):t.includes(e)?H(D,L):U()}function Y(e){var t=d.b.get("subs_tp_lead_gen_prime_video_countries",[]);return"ES"===e?W():t.includes(e)?V():z()}!function(e){e.Callout="primecallout",e.Description="primedescription"}(B||(B={}));var K=function(e){var t=q(e.countryCode||""),n=Y(e.countryCode||"");return i.createElement(S.a,null,i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{type:v.e.H5,bold:!0,"data-test-selector":B.Callout},t)),i.createElement(E.g,{margin:{bottom:2}},i.createElement(v.a,{"data-test-selector":B.Description},n)),i.createElement(E.g,{display:E.d.Flex,alignItems:E.b.Center,justifyContent:E.h.End,fullWidth:!0,margin:1},i.createElement(k.a,{handleSubMenuAction:e.handleSubMenuAction,channelLogin:e.channelLogin})))};var Q,X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(K,{channelLogin:this.props.channelLogin,countryCode:this.props.countryCode,handleSubMenuAction:this.props.handleSubMenuAction})},t}(i.Component),J=Object(o.c)((function(e){return{channelLogin:e.channel.login,countryCode:e.countryCode,handleSubMenuAction:e.handleSubMenuAction}}))(X),Z=n("zLwo"),$=n.n(Z),ee=n("P3k8"),te=n.n(ee),ne=n("PPeR"),re=n.n(ne),ie=n("t5HY"),ae=n("6x+I"),oe=n("uG/k");!function(e){e.Image="primeofferimage",e.Title="primeoffertitle"}(Q||(Q={}));var se,le,ce=function(e){return i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Column},i.createElement(oe.a,{src:e.imageURL,alt:Object(m.d)("Prime Offer","PrimeOffer"),"data-test-selector":Q.Image,srcSet:e.srcSet}),i.createElement(E.g,{margin:{top:.5}},i.createElement(ae,{"data-test-selector":Q.Title,source:e.title})))};n("xRuy");!function(e){e.FeaturedOffers="primeoffersfeaturedoffers"}(se||(se={})),function(e){e[e.PriorityVertical=0]="PriorityVertical",e[e.PriorityHorizontal=1]="PriorityHorizontal",e[e.Row=2]="Row"}(le||(le={}));var ue=function(e){var t=(e.primeOffers||[]).filter((function(e){return"mp4"!==Object(ie.a)(e.imageURL)})).map((function(e){return de(e.imageURL,e.title)}));if(e.forceFreeSubOffer){var n=Object(d.d)("Free Tier 1 Subscription every month","SubModalPrimeOffers");t.unshift(de($.a,n,{"176w":$.a,"352w":te.a,"704w":re.a}))}return i.createElement(S.a,{fullWidth:!0,margin:{top:2}},e.includeTitle?i.createElement(v.a,{bold:!0,"data-test-selector":se.FeaturedOffers},Object(d.d)("Featured Prime Loot","SubModalPrimeOffers")):null,i.createElement(S.a,{margin:{top:1}},function(e,t){if(0===t.length)return null;if(1===t.length)return i.createElement(S.a,{fullWidth:!0,className:"sub-modal-prime-offers__aspect"},t[0]);if(2===t.length)return i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Row},i.createElement(S.a,{margin:{right:1},className:"sub-modal-prime-offers__aspect"},t[0]),t[1]);if(e===le.PriorityVertical)return i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Column},i.createElement(S.a,{fullWidth:!0,margin:{bottom:1},className:"sub-modal-prime-offers__aspect"},t[0]),i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Row},i.createElement(S.a,{margin:{right:1},className:"sub-modal-prime-offers__aspect"},t[1]),i.createElement(S.a,{className:"sub-modal-prime-offers__aspect"},t[2])));if(e===le.Row)return i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Row},i.createElement(S.a,{margin:{right:1},className:"sub-modal-prime-offers__aspect"},t[0]),i.createElement(S.a,{margin:{right:1},className:"sub-modal-prime-offers__aspect"},t[1]),i.createElement(S.a,{className:"sub-modal-prime-offers__aspect"},t[2]));return null}(e.layout,t)))};function de(e,t,n){return i.createElement(ce,{imageURL:e,srcSet:n,title:t})}var pe,me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(ue,{forceFreeSubOffer:this.props.forceFreeSubOffer,includeTitle:this.props.includeTitle,layout:this.props.layout,primeOffers:this.props.primeOffers})},t}(i.Component),fe=Object(o.c)((function(e){return{primeOffers:e.primeOffers}}))(me),be=n("QVaV"),he=n("b7S+"),ge=(n("XX8v"),20),ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visibleCount:ge},t.onShowAllClick=function(){if(t.props.product.emotes){var e=t.props.product.emotes.length;t.setState((function(t){return{visibleCount:t.visibleCount===ge?e:ge}}),(function(){t.props.handleSubMenuAction({action:y.a.ClickShowMoreEmotes})}))}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!this.props.product.emotes||0===this.props.product.emotes.length)return null;var e=Object(I.b)(this.props.product.emotes);return i.createElement(S.a,{className:"emote-benefits",margin:{y:1}},i.createElement(v.a,null,Object(m.d)("{emoteCount, plural, one {{emoteCount} Custom Emote} other {{emoteCount} Custom Emotes}}",{emoteCount:this.props.product.emotes.length},"SubEmoteBenfits")),i.createElement(S.a,{display:E.d.Flex,flexWrap:E.f.Wrap,margin:{y:1,x:2}},e.slice(0,this.state.visibleCount).map((function(e){return i.createElement(he.a,{label:e.displayName,direction:he.c.Bottom,key:e.id,display:E.d.Flex},i.createElement(S.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},i.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),e.length>ge&&i.createElement(x.a,{type:x.d.Text,onClick:this.onShowAllClick},this.state.visibleCount===ge?Object(m.d)("Show all","SubEmoteBenefits"):Object(m.d)("Show less","SubEmoteBenfits"))))},t}(i.PureComponent),Se=n("9ABA"),ve=n("Z2sP"),Ee=n("fQWD"),xe=n("66/j"),Ce=function(e){var t=e.badge,n=parseInt(t.version,10);return i.createElement(S.a,{alignItems:E.b.Center,className:e.className,display:E.d.Flex,flexDirection:E.e.Column,flexShrink:0,margin:{top:1}},i.createElement(Ee.a,{badge:Object(xe.b)(t),hideTooltip:!0,large:!0}),i.createElement(S.a,{margin:{top:.5}},i.createElement(v.a,{className:e.className+"--text",fontSize:l.d.Size7},n>=12?Object(d.d)("{years}-Year",{years:n/12},"SubBadge"):Object(d.d)("{months}-Month",{months:0===n?1:n},"SubBadge"))))};n("hWJn");!function(e){e.Anniversarymessage="subanniversarymessage",e.RenewsMessage="subrenewsmessage",e.TenureMessage="subtenuremessage"}(pe||(pe={}));var ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.filterBadges(),t=this.getMonthsRemaining(e.slice(0,2)),n=null;if(this.props.subscriptionBenefit){var r=null;if(this.props.tenure){var a=this.props,o=a.tenure,s=a.streakTenure,l=a.formattedDisplayName,c=a.subscriptionBenefit;r=s?Object(m.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold> with a current streak of <x:bold>{streakCount}</x:bold> months.",{channelName:l,monthCount:o.months,streakCount:s.months,"x:bold":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"SubTenureBadgeProgress"):Object(m.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold>.",{channelName:l,monthCount:o.months,"x:bold":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"SubTenureBadgeProgress");var u=new Date;u.setDate(u.getDate()+o.daysRemaining);var d=Object(m.d)("Next Sub Anniversary on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(m.c)(u,{month:"short",day:"numeric"}),relativeDate:Object(m.i)(u,{units:"day"}),"x:bold":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"SubTenureBadgeProgress"),p=null;if(c.renewsAt){var f=new Date(c.renewsAt);p=Object(m.d)("Sub renews on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(m.c)(f,{month:"short",day:"numeric"}),relativeDate:Object(m.i)(f,{units:"day"}),"x:bold":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"SubTenureBadgeProgress")}n=i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Column,justifyContent:E.h.Center,textAlign:E.l.Center,padding:{x:2,top:2}},i.createElement(v.a,{"data-test-selector":pe.TenureMessage},r),i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Row,justifyContent:E.h.Center},i.createElement(v.a,{"data-test-selector":pe.Anniversarymessage},d),p&&i.createElement(i.Fragment,null,i.createElement(S.a,{margin:{x:1}},Object(m.d)("|","SubTenureBadgeProgress")),i.createElement(v.a,{"data-test-selector":pe.RenewsMessage},p))))}}else{var b=null;b=Object(m.d)("Instantly unlock your first Sub Badge and show your support.","SubTenureBadgeProgress"),this.props.tenure&&this.props.tenure.months>0&&(b=0===t?Object(m.d)("Resubscribe to retrieve your highest unlocked Sub Badge. Total Months Subscribed: {totalMonths}",{totalMonths:this.props.tenure.months},"SubTenureBadgeProgress"):Object(m.d)("{monthsRemaining, plural, one {Resubscribe to achieve your next Sub Badge in {monthsRemaining} month. Total Months Subscribed: {totalMonths}} other {Resubscribe to achieve your next Sub Badge in {monthsRemaining} months. Total Months Subscribed: {totalMonths}}}",{monthsRemaining:t,totalMonths:this.props.tenure.months},"SubTenureBadgeProgress")),n=i.createElement(v.a,null,b)}return i.createElement(S.a,null,i.createElement(E.g,{margin:{bottom:1}},n),this.getNextBadgeProgress(e,5))},t.prototype.getNextBadgeProgress=function(e,t){var n=e.slice(0,t),r=n.slice(0,2),a=n.slice(2),o=null;2===r.length&&this.props.tenure&&(o=Object(Se.b)(this.props.tenure,r[0].version,r[1].version));var s=i.createElement(S.a,{className:"tenure-badge-progress__to-next-"+n.length},i.createElement(S.a,{display:E.d.Flex,fullWidth:!0,justifyContent:1!==n.length?E.h.Between:E.h.Center},r.map((function(e){return i.createElement(E.g,{zIndex:E.o.Above,key:e.version},i.createElement(Ce,{badge:e}))}))),r.length>1&&i.createElement(S.a,{className:"tenure-badge-progress__bar",position:E.j.Relative,margin:{left:2,right:3}},i.createElement(ve.a,{size:ve.c.Small,mask:!0,value:o||0}))),l=a.length>0&&i.createElement(S.a,{flexGrow:2,className:"tenure-badge-progress__future"},i.createElement(S.a,{display:E.d.Flex,fullWidth:!0,justifyContent:E.h.Between},i.createElement("div",{className:"tenure-badge-progress__placeholder-"+n.length}),a.map((function(e,t){return i.createElement(E.g,{zIndex:E.o.Above,key:e.version},i.createElement(Ce,{badge:e,className:t>1?"tenure-badge-progress__more-badges":void 0}))}))),i.createElement(S.a,{className:"tenure-badge-progress__bar",position:E.j.Relative},i.createElement(ve.a,{size:ve.c.Small,mask:!0,value:0})));return i.createElement(S.a,{display:E.d.Flex,padding:{x:2},justifyContent:E.h.Center},s,l)},t.prototype.getMonthsRemaining=function(e){if(this.props.tenure){var t=this.props.tenure.months,n=e[1];if(n)return Math.max(Number(n.version)-t,0)}return 0},t.prototype.filterBadges=function(){var e=this.props.subBadges;if(this.props.tenure){var t=this.props,n=t.tenure;e=[];for(var r=null,i=0,a=t.subBadges;i<a.length;i++){var o=a[i];Number(o.version)<=n.months?r=o:e.push(o)}null!==r&&e.unshift(r)}return e.length>5&&(e=e.slice(0,5)),e},t}(i.Component);var Te,Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(ke,{formattedDisplayName:Object(be.a)(this.props.channel.login,this.props.channel.displayName),subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure,streakTenure:this.props.streakTenure})},t}(i.Component),Oe=Object(o.c)((function(e){return{channel:e.channel,subBadges:e.subBadges,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}}))(Pe);!function(e){e.AdFreeMessage="SubBenefitAdFree",e.SubscriberStreamMessage="SubBenefitSubscriberStream"}(Te||(Te={}));var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.selectedTier?this.props.subscriptionProducts.find((function(t){return t.tier===e.props.selectedTier})):this.props.subscriptionProducts[0];return t?i.createElement(S.a,null,i.createElement(E.g,{margin:{top:2,bottom:1}},i.createElement(v.a,{type:v.e.H5,bold:!0},this.props.selectedTier?Object(m.d)("Tier Benefits","SubBenefits"):Object(m.d)("Benefits","SubBenefits"))),t.hasAdFree&&i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{"data-test-selector":Te.AdFreeMessage},Object(m.d)("Ad-free viewing on {channelName}'s channel (with limited exceptions).",{channelName:this.props.formattedDisplayName},"SubBenefits"))),i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,null,Object(m.d)("Chat during Subscriber-Only Mode and not affected by chat slow mode.","SubBenefits"))),i.createElement(E.g,{margin:{bottom:1}},i.createElement(v.a,{"data-test-selector":Te.SubscriberStreamMessage},Object(m.d)("Watch Subscriber Streams (access depends on Subscription Tier).","SubBenefits"))),i.createElement(Oe,null),i.createElement(ye,{product:t,handleSubMenuAction:this.props.handleSubMenuAction})):null},t}(i.Component);var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(_e,{subscriptionProducts:this.props.subscriptionProducts,handleSubMenuAction:this.props.handleSubMenuAction,formattedDisplayName:Object(be.a)(this.props.channel.login,this.props.channel.displayName||null)})},t}(i.Component),Ie=Object(o.c)((function(e){return{channel:e.channel,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(we),je=n("WpN7"),Ne=n("i70y");var Ae,Ge,Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(Ne.b,{buttonType:this.props.buttonType,channelDisplayName:Object(be.a)(this.props.channel.login,this.props.channel.displayName),channelLoginName:this.props.channel.login,currentUserCanGift:this.props.canGift,displayOverride:this.props.displayOverride,giftingAnonymously:this.props.giftingAnonymously,isNonStandardSub:this.props.isNonStandardSub,layoutVariant:this.props.layoutVariant,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,wrapAnonymousGiftingSelect:this.props.wrapAnonymousGiftingSelect})},t}(i.Component),Me=Object(o.c)((function(e){return{canGift:e.canGiftInChannel,channel:e.channel,giftingAnonymously:e.giftingAnonymously,isNonStandardSub:e.isNonStandardSub,layoutVariant:e.modalLayoutVariant,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect}}))(Be),De=n("QzCu"),Le=n("NX3i");n("Li6Q");!function(e){e.QuickSub="QuickSub",e.HigherTier="HigherTier"}(Ae||(Ae={})),function(e){e.Tier1="Tier1",e.HigherTiers="HigherTiers"}(Ge||(Ge={}));var Fe=function(e){function t(t){var n=e.call(this,t)||this;n.onTier1SectionClick=function(){n.state.openSection===Ge.HigherTiers&&n.setState({openSection:Ge.Tier1})},n.onHigherTierSectionClick=function(){n.state.openSection===Ge.Tier1&&n.setState({openSection:Ge.HigherTiers})};var r=Ge.Tier1;return n.props.initialOpenAccordionSection&&(r=n.props.initialOpenAccordionSection),n.state={openSection:r},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(m.d)("Tier 1 Subscription","SubModalUnsubbedPage"),n=Object(m.d)("Subscriptions are a great way to directly support the streamers you love and get great benefits too!","SubModalUnsubbedPage");return i.createElement(S.a,{className:"unsubbed-top-page"},[this.props.modalLayoutVariant].map((function(r){switch(r){case o.a.Accordion:return e.getAccordionLayout(t,n);case o.a.ScrollPrime70:return e.getPrime7030Layout(n);case o.a.ScrollPrime30:return e.getPrime3070Layout(n);default:return e.getScrollLayout(t,n)}})))},t.prototype.getAccordionLayout=function(e,t){return i.createElement(s.a,{padding:2,background:l.a.Alt2,className:"unsubbed-top-page__accordion"},i.createElement(S.a,{margin:{bottom:2}},i.createElement(De.a,{title:e,onClick:this.onTier1SectionClick,isOpen:this.state.openSection===Ge.Tier1}),i.createElement(Le.a,{isOpen:this.state.openSection===Ge.Tier1},i.createElement(w,{channelLogin:this.props.channelLogin,"data-test-selector":Ae.QuickSub,handleSubMenuAction:this.props.handleSubMenuAction,isQuickSub:!0,product:this.props.subscriptionProducts[0]}),i.createElement(E.g,{margin:{y:1}},i.createElement(v.a,null,t)),i.createElement(Ie,null),this.getSubPlans())),i.createElement(S.a,null,i.createElement(De.a,{title:Object(m.d)("Higher Tiers & Gifting","SubModalUnsubbedPage"),onClick:this.onHigherTierSectionClick,isOpen:this.state.openSection===Ge.HigherTiers}),i.createElement(Le.a,{isOpen:this.state.openSection===Ge.HigherTiers},this.getHigherTiers(),i.createElement(Me,{onGiftSelect:this.props.onSingleGift,onMysteryGiftSelect:this.props.onCommunityGift}))))},t.prototype.getScrollLayout=function(e,t){var n=this.props,r=n.modalLayoutVariant,s=n.channelLogin,l=n.channelId,c=n.handleSubMenuAction,u=n.subscriptionProducts;return i.createElement(S.a,{className:"unsubbed-top-page__scroll"},i.createElement(a.b,{suppressScrollX:!0,className:r===o.a.Balloon?"unsubbed-top-page__scroll-balloon":void 0},i.createElement(i.Fragment,null,i.createElement(w,{channelLogin:s,"data-test-selector":Ae.QuickSub,handleSubMenuAction:c,isQuickSub:!0,product:u[0]}),i.createElement(je.a,{promotion:(this.props.sessionUser?u[0].self&&u[0].self.promotion:u[0].promotion)||void 0,channelId:l||void 0}),Object(j.f)(j.a)&&i.createElement(S.a,{margin:1},i.createElement(N.a,null)),i.createElement(S.a,{padding:2},i.createElement(v.a,{type:v.e.H4,bold:!0},e),i.createElement(E.g,{margin:{y:1}},i.createElement(v.a,null,t)),i.createElement(Ie,null),this.getSubPlans()),i.createElement(S.a,{margin:r===o.a.Accordion?2:void 0},this.getHigherTiers()))))},t.prototype.getPrime7030Layout=function(e){var t=this.props,n=t.channelLogin,r=t.handleSubMenuAction,o=t.subscriptionProducts;return i.createElement(S.a,{className:"unsubbed-top-page__prime-70-30"},i.createElement(S.a,{className:"unsubbed-top-page__prime-70-30__paid"},i.createElement(a.b,{suppressScrollX:!0},i.createElement(i.Fragment,null,i.createElement(w,{channelLogin:n,"data-test-selector":Ae.QuickSub,handleSubMenuAction:r,isQuickSub:!0,product:o[0]}),i.createElement(S.a,{key:"paid-area"},i.createElement(S.a,{padding:2},i.createElement(S.a,{className:"unsubbed-top-page__prime-70-30__paid__description"},i.createElement(v.a,null,e)),i.createElement(Ie,null),this.getSubPlans(!0)),i.createElement(s.a,{borderTop:!0,className:"unsubbed-top-page__prime-70-30__prime__inline"},i.createElement(J,null),i.createElement(fe,{includeTitle:!0,layout:le.PriorityVertical})),this.getHigherTiers())))),i.createElement(S.a,{className:"unsubbed-top-page__prime-70-30__prime__side"},i.createElement(a.b,{suppressScrollX:!0},i.createElement(S.a,{padding:{top:2,x:2}},i.createElement(J,null),i.createElement(fe,{includeTitle:!0,layout:le.PriorityVertical})))))},t.prototype.getPrime3070Layout=function(e){var t=this.props,n=t.countryCode,r=t.subscriptionProducts;return i.createElement(S.a,{className:"unsubbed-top-page__prime-30-70"},i.createElement(S.a,{className:"unsubbed-top-page__prime-30-70__prime"},i.createElement(a.b,{suppressScrollX:!0},i.createElement(i.Fragment,null,i.createElement(S.a,{key:"prime-area"},i.createElement(S.a,{padding:{top:2,x:2}},i.createElement(v.a,{type:v.e.H4,bold:!0},q(n||"")),i.createElement(S.a,{margin:{top:1,bottom:2}},i.createElement(E.g,{margin:{right:.5}},i.createElement(v.a,{type:v.e.Span},e)),i.createElement(v.a,{type:v.e.Span},Y(n||""))),i.createElement(w,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime,primeLeadGen:!0},product:this.props.subscriptionProducts[0]}),i.createElement(Ie,null)),i.createElement(S.a,{display:E.d.Hide,breakpointMedium:{display:E.d.Block},padding:{x:2,bottom:2}},i.createElement(fe,{layout:le.Row,forceFreeSubOffer:!0})),i.createElement(S.a,{padding:{x:2,bottom:2},breakpointMedium:{display:E.d.Hide}},i.createElement(fe,{layout:le.PriorityVertical,forceFreeSubOffer:!0}))),i.createElement(s.a,{borderTop:!0,className:"unsubbed-top-page__prime-30-70__paid__inline"},i.createElement(S.a,{padding:{top:2,x:2,bottom:1}},i.createElement(M,{product:r[0]}),this.getSubPlans(!0)),i.createElement(S.a,{padding:{bottom:2}},i.createElement(Me,{buttonType:x.d.Secondary,displayOverride:Ne.a.ForceNarrow,onGiftSelect:this.props.onSingleGift,onMysteryGiftSelect:this.props.onCommunityGift,wrapAnonymousGiftingSelect:!0})),i.createElement(S.a,{padding:{x:2,bottom:1}},this.getHigherTiers()))))),i.createElement(S.a,{className:"unsubbed-top-page__prime-30-70__paid__side"},i.createElement(a.b,{suppressScrollX:!0},i.createElement(i.Fragment,null,i.createElement(S.a,{padding:{top:2,x:2,bottom:1}},i.createElement(M,{product:r[0]}),this.getSubPlans(!0)),i.createElement(S.a,{padding:{bottom:2}},i.createElement(Me,{buttonType:x.d.Secondary,displayOverride:Ne.a.ForceNarrow,onGiftSelect:this.props.onSingleGift,onMysteryGiftSelect:this.props.onCommunityGift,wrapAnonymousGiftingSelect:!0})),i.createElement(S.a,{padding:{x:2,bottom:1}},this.getHigherTiers())))))},t.prototype.getSubPlans=function(e){var t=[],n=i.createElement(w,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.isNonStandardSub||this.props.modalLayoutVariant===o.a.Accordion||this.props.modalLayoutVariant===o.a.ScrollPrime30?void 0:this.props.onGift});if(this.props.inPrimeRegion&&!e){t.push(i.createElement(v.a,{key:"subplan-heading",type:v.e.H5,bold:!0},Object(m.d)("Two Ways to Subscribe","SubModalUnsubbedPage")));var r=i.createElement(w,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0]});this.props.canPrimeSubscribe?(t.push(i.createElement(S.a,{key:"subplan-top",margin:{y:1}},r)),t.push(n)):(t.push(i.createElement(S.a,{key:"subplan-top",margin:{y:1}},n)),t.push(r))}else t.push(n);return t},t.prototype.getHigherTiers=function(){var e=this.props.modalLayoutVariant,t=this.props.subscriptionProducts.slice(1);return t.length<1?null:i.createElement(s.a,{background:e===o.a.Accordion?l.a.Base:l.a.Alt,padding:e===o.a.Accordion||e===o.a.ScrollPrime30?void 0:2},i.createElement(v.a,{bold:!0,type:v.e.H4},Object(m.d)("Higher Tiers","SubModalUnsubbedPage")),i.createElement(Re,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,higherTierProducts:t,onGift:this.props.isNonStandardSub||this.props.modalLayoutVariant===o.a.Accordion||this.props.modalLayoutVariant===o.a.ScrollPrime30?void 0:this.props.onGift}))},t}(i.Component),Re=function(e){var t=e.higherTierProducts;if(t.length<1)return null;var n=Object(I.b)(t[0]&&t[0].emotes||[]),r=Object(I.b)(t[1]&&t[1].emotes||[]),a=[[],[],n,n.concat(r)];return i.createElement(i.Fragment,null,t.map((function(t){var n=Object(g.c)(t.tier)||1,r=a[n];return i.createElement(S.a,{key:t.id,margin:{y:1},"data-test-selector":Ae.HigherTier},i.createElement(v.a,{bold:!0,type:v.e.H5},Object(d.d)("Tier {tierNumber}",{tierNumber:n},"SubModalUnsubbedPage")),i.createElement(S.a,null,i.createElement(S.a,{display:E.d.Flex},r.map((function(e){return i.createElement(he.a,{label:e.displayName,direction:he.c.Bottom,key:e.id,display:E.d.Flex},i.createElement(S.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},i.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),i.createElement(E.g,{margin:{y:1}},i.createElement(v.a,null,r.length>0?Object(d.d)("{emoteCount, plural, one {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emote</x:bold>} other {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emotes</x:bold>}}",{emoteCount:r.length,"x:bold":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"SubModalUnsubbedPage"):Object(d.d)("All Tier 1 Benefits plus extra support for your streamer!","SubModalUnsubbedPage")))),i.createElement(w,{channelLogin:e.channelLogin,product:t,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit})))})))},Ue=(n("OCZ4"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subscriptionProducts[0],t=(Object(g.c)(e.tier)||"").toString(),n=this.props.subscriptionProducts.slice(1);return i.createElement(u,null,i.createElement(S.a,{className:"all-paid-tiers"},i.createElement(S.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},i.createElement(x.a,{type:x.d.Text,"data-a-target":"subscribe-back-button",icon:C.a.AngleLeft,onClick:this.props.onBack},i.createElement(S.a,{alignItems:E.b.Center,display:E.d.InlineFlex},i.createElement(v.a,null,Object(d.d)("Back","AllPaidTiers"))))),i.createElement(S.a,{margin:{bottom:1}},i.createElement(v.a,{bold:!0,type:v.e.H5},A(t))),i.createElement(S.a,{margin:{y:1}},i.createElement(v.a,null,Object(G.a)({emoteCount:e.emotes&&e.emotes.length||0,hasAdFree:e.hasAdFree}))),i.createElement(w,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:e,subscriptionBenefit:this.props.subscriptionBenefit}),i.createElement(Re,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,higherTierProducts:n,subscriptionBenefit:this.props.subscriptionBenefit})))},t}(i.Component));var He,ze,We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(Ue,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,onBack:this.props.onBack,subscriptionBenefit:this.props.subscriptionBenefit,subscriptionProducts:this.props.subscriptionProducts})},t}(i.Component),Ve=Object(o.c)((function(e){return{subscriptionBenefit:e.subscriptionBenefit||void 0,subscriptionProducts:e.subscriptionProducts,handleSubMenuAction:e.handleSubMenuAction}}))(We),qe=n("Gylv"),Ye=n("8EUQ");!function(e){e[e.Upgrade=0]="Upgrade",e[e.Continue=1]="Continue",e[e.None=2]="None"}(He||(He={})),function(e){e.AllPaidTiers="allpaidtiers",e.ContinueSub="continuesub",e.UpgradeSub="upgradesub"}(ze||(ze={}));var Ke,Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.upsellProduct,r=t.purchaseButtonType;return i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Row,justifyContent:E.h.End,flexWrap:E.f.Wrap},i.createElement(S.a,{margin:{right:1,bottom:1}},i.createElement(x.a,{"data-test-selector":ze.AllPaidTiers,onClick:this.props.onAllPaidTiersSelect,type:x.d.Secondary},Object(d.d)("All Paid Tiers","CurrentSubscriptionButtonPanel"))),[r].map((function(t){switch(t){case He.Continue:return n?i.createElement(S.a,{key:"continuebutton",margin:{right:1,bottom:1}},i.createElement(x.a,{key:n.id,"data-test-selector":ze.ContinueSub,icon:C.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(b.e)(n)},Object(d.d)("Continue Sub","CurrentSubscriptionButtonPanel"))):null;case He.Upgrade:if(!n)return null;var r=Object(g.c)(n.tier);return r?i.createElement(S.a,{key:"upgradebutton",margin:{right:1,bottom:1}},i.createElement(x.a,{key:n.id,"data-test-selector":ze.UpgradeSub,icon:C.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(b.e)(n)},Object(d.d)("Upgrade to Tier {tierNumber}",{tierNumber:r},"CurrentSubscriptionButtonPanel"))):i.createElement(S.a,{key:"upgradebutton",margin:{right:1,bottom:1}},i.createElement(x.a,{key:n.id,"data-test-selector":ze.UpgradeSub,icon:C.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(b.e)(n)},Object(d.d)("Upgrade Sub","CurrentSubscriptionButtonPanel")));default:return null}})))},t}(i.Component),Xe=n("7uM4");!function(e){e.Header="header"}(Ke||(Ke={}));var Je=function(e){var t="";return t=e.isPrimeSubscription?Object(d.d)("Twitch Prime Subscription","CurrentSubscriptionHeaderModal"):e.isGift?e.tier?Object(d.d)("Tier {tierNumber} Gifted Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(d.d)("Gifted Subscription","CurrentSubscriptionHeaderModal"):e.tier?Object(d.d)("Tier {tierNumber} Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(d.d)("Your Subscription","CurrentSubscriptionHeaderModal"),i.createElement(S.a,{className:"current-subscription__heading-"+(e.isPrimeSubscription?"prime":"tier"),display:E.d.Flex,margin:{bottom:1},alignItems:E.b.Stretch},i.createElement(Xe.a,{asset:e.isPrimeSubscription?C.a.Crown:C.a.Star,height:25}),i.createElement(E.g,{margin:{left:.5}},i.createElement(v.a,{bold:!0,"data-test-selector":Ke.Header,type:v.e.H4},t)))},Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(m.o.set(Ye.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:y.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subEndDate?Object(d.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(d.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"CurrentDNRSubscription"):Object(d.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends!",{"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"CurrentDNRSubscription");return i.createElement(s.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:l.b.Medium},i.createElement(S.a,{margin:{top:1},display:E.d.Flex,flexWrap:E.f.Wrap,flexDirection:E.e.Row,alignItems:E.b.Center},i.createElement(Je,{tier:this.props.tier}),i.createElement(S.a,{margin:{bottom:1},flexGrow:0},e),i.createElement(S.a,{margin:{bottom:1},flexGrow:1,textAlign:E.l.Right},i.createElement(Qe,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:He.Continue,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct}))))},t}(i.Component),$e=n("HGFl");function et(e){return Object(g.c)(e.tier)?Object(m.d)("Your new Tier {tier} Paid Subscription will begin on {pendingSubStartDate}",{tier:Object(g.c)(e.tier)||1,pendingSubStartDate:Object(m.c)(Object($e.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription"):Object(m.d)("Your new Paid Subscription will begin on {pendingSubStartDate}",{pendingSubStartDate:Object(m.c)(Object($e.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription")}var tt,nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(m.o.set(Ye.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:y.a.BuyGiftToPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=!0,r=void 0!==this.props.gifterDisplayName,a=this.props.pendingSubscription;this.props.subEndDate?(e=void 0!==this.props.gifterDisplayName?Object(d.d)("Gifted from <x:strong>{gifter}</x:strong> - Subscription ends on {date} ({daysRemaining})",{gifter:this.props.gifterDisplayName,date:Object(d.c)(this.props.subEndDate,{month:"long",day:"numeric",year:"numeric"}),"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)},daysRemaining:Object(d.i)(this.props.subEndDate,{units:"day",style:"best fit"})},"CurrentGiftSubscription"):null,t=a?et(a):Object(d.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(d.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"CurrentGiftSubscription")):(n=!1,e=this.props.gifterDisplayName?Object(d.d)("Gifted from <x:strong>{gifter}</x:strong>",{gifter:this.props.gifterDisplayName,"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"CurrentGiftSubscription"):null,t=null);var o=a?null:i.createElement(S.a,{margin:{bottom:1},textAlign:E.l.Right,fullWidth:!0},i.createElement(Qe,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:n?He.Continue:He.None,upsellProduct:this.props.upsellProduct}));return i.createElement(s.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:l.b.Medium},i.createElement(S.a,{margin:{top:1},display:E.d.Flex,flexWrap:E.f.Wrap,flexDirection:E.e.Row,alignItems:E.b.Center},i.createElement(Je,{isGift:!0,tier:this.props.tier}),i.createElement(S.a,{margin:{bottom:1},flexGrow:0},e,i.createElement(S.a,{margin:r?{top:1}:{}},t)),o))},t}(i.Component),rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(m.o.set(Ye.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:y.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subEndDate&&this.props.upsellProduct?i.createElement(S.a,{flexGrow:1,textAlign:E.l.Right},i.createElement(Qe,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:He.Upgrade,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct})):null;return i.createElement(s.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:l.b.Medium},i.createElement(S.a,{margin:{top:1},display:E.d.Flex,flexWrap:E.f.Wrap,flexDirection:E.e.Row,alignItems:E.b.Center},i.createElement(Je,{tier:this.props.tier}),e))},t}(i.Component),it=n("zNDD");n("eP7G");!function(e){e.PrimeSubRenewsMessage="primesubrenewsmessage"}(tt||(tt={}));var at,ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(m.o.set(Ye.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:y.a.BuyPrimeToPaid,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.pendingSubscription;e=t?et(t):this.props.subEndDate?Object(d.d)("<x:strong>Convert to a recurring Subscription</x:strong> to keep your benefits after your Twitch Prime Subscription ends! You won't be charged until {date}.",{date:Object(d.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"CurrentPrimeSubscription"):null;var n=this.props.primeSubRenewalDate&&!t?i.createElement(S.a,{margin:{right:1},className:"sub-modal-current-prime-subscription__prime-renewal-date"},i.createElement(v.a,{color:l.c.Alt2,"data-test-selector":tt.PrimeSubRenewsMessage},Object(d.d)("Your next Prime sub will be available {renewalDate}.",{renewalDate:Object(it.a)(this.props.primeSubRenewalDate,{displayFormat:{month:"short",day:"numeric"}})},"SubModalCurrentPrimeSubscription"))):null,r=t?null:i.createElement(Qe,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:this.props.subEndDate?He.Continue:He.None,upsellProduct:this.props.upsellProduct});return i.createElement(s.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:l.b.Medium},i.createElement(S.a,{margin:{top:1},display:E.d.Flex,flexWrap:E.f.Wrap,flexDirection:E.e.Row,alignItems:E.b.Center},i.createElement(S.a,{display:E.d.Flex,flexDirection:E.e.Column},i.createElement(Je,{isPrimeSubscription:!0}),i.createElement(S.a,{margin:{bottom:1},flexGrow:0},e)),i.createElement(S.a,{margin:{bottom:1},flexGrow:1,textAlign:E.l.Right},r,n)))},t}(i.Component);n("Wd44");!function(e){e[e.Prime=0]="Prime",e[e.Paid=1]="Paid",e[e.DNR=2]="DNR",e[e.Gift=3]="Gift"}(at||(at={}));var st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return i.createElement(S.a,{margin:{x:2,top:2}},i.createElement(S.a,{margin:{bottom:1}},i.createElement(v.a,{bold:!0,type:v.e.H4},Object(d.d)("Your Subscription","CurrentSubscriptionComponent"))),[this.props.subType].map((function(t){if(e.props.platform===p.Uc.IOS||e.props.isExtended)return null;switch(t){case at.Prime:return i.createElement(ot,{key:"currentprimesubscription",handleSubMenuAction:e.props.handleSubMenuAction,subEndDate:e.props.subEndDate,upsellProduct:e.props.upsellProduct,onAllPaidTiersSelect:e.props.onAllPaidTiersSelect,pendingSubscription:e.props.pendingSubscription,primeSubRenewalDate:e.props.primeSubRenewalDate});case at.DNR:return i.createElement(Ze,{key:"currentdnrsubscription",handleSubMenuAction:e.props.handleSubMenuAction,onAllPaidTiersSelect:e.props.onAllPaidTiersSelect,subEndDate:e.props.subEndDate,tier:e.props.tier,upsellProduct:e.props.upsellProduct});case at.Gift:return i.createElement(nt,{key:"currentgiftsubscription",handleSubMenuAction:e.props.handleSubMenuAction,gifterDisplayName:e.props.gifterDisplayName,onAllPaidTiersSelect:e.props.onAllPaidTiersSelect,pendingSubscription:e.props.pendingSubscription,subEndDate:e.props.subEndDate,tier:e.props.tier,upsellProduct:e.props.upsellProduct});case at.Paid:return i.createElement(rt,{key:"currentpaidsubscription",handleSubMenuAction:e.props.handleSubMenuAction,onAllPaidTiersSelect:e.props.onAllPaidTiersSelect,subEndDate:e.props.subEndDate,tier:e.props.tier,upsellProduct:e.props.upsellProduct});default:return null}})))},t}(i.Component);var lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.mapToComponentProps(),t=this.props.subscriptionBenefit&&this.props.subscriptionBenefit.pendingSubscription||void 0;return i.createElement(st,{subEndDate:e.subEndDate,gifterDisplayName:e.gifterDisplayName,handleSubMenuAction:e.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:e.subType,tier:e.tier,platform:e.platform,pendingSubscription:t,primeSubRenewalDate:e.primeSubRenewalDate,upsellProduct:e.upsellProduct,isExtended:e.isExtended})},t.prototype.mapToComponentProps=function(){var e,t,n,r,i=at.Paid,a=null,o=!1;if(this.props.subscriptionBenefit){var s=this.props.subscriptionBenefit,l=this.props.subscriptionProducts.find((function(e){return e.tier===s.tier}));a=Object(g.c)(s.tier),t=s.endsAt?new Date(s.endsAt):void 0,s.platform&&(r=s.platform),o=s.isExtended,s.gift&&s.gift.isGift?(i=at.Gift,e=s.gift.gifter&&s.gift.gifter.displayName,n=l):s.purchasedWithPrime?(i=at.Prime,n=l):s.isDNRd?(i=at.DNR,n=l,s.pendingSubscription&&(i=at.Paid,n=void 0)):n=this.props.subscriptionProducts.find((function(e){return e.tier>s.tier})),s.endsAt||s.renewsAt||s.gift&&s.gift.isGift||(i=at.Paid)}return{subEndDate:t,gifterDisplayName:e||void 0,handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:i,platform:r,primeSubRenewalDate:this.props.primeSubRenewalDate||void 0,tier:a||void 0,upsellProduct:n,isExtended:o}},t}(i.Component),ct=Object(o.c)((function(e){return{subscriptionBenefit:e.subscriptionBenefit,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts,primeSubRenewalDate:e.primeSubRenewalDate}}))(lt),ut=(n("V3kL"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=i.createElement(a.b,{suppressScrollX:!0,className:this.props.modalLayoutVariant===o.a.Balloon?"subbed-top-page__scroll-balloon":"subbed-top-page__scroll"},i.createElement(i.Fragment,null,i.createElement(je.a,{promotion:(this.props.sessionUser?this.props.subscriptionProducts[0].self&&this.props.subscriptionProducts[0].self.promotion:void 0)||void 0,channelId:this.props.channelId?this.props.channelId:void 0}),Object(j.f)(j.a)&&i.createElement(S.a,{margin:1},i.createElement(N.a,null)),i.createElement(Me,{displayOverride:this.props.isThin?Ne.a.ForceNarrow:void 0,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect}),i.createElement(S.a,{margin:{x:2}},i.createElement(qe.a,null)),i.createElement(ct,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect}),i.createElement(S.a,{margin:{bottom:2}},i.createElement(Oe,null))));return this.props.modalLayoutVariant===o.a.Accordion?i.createElement(s.a,{padding:2,background:l.a.Alt2},i.createElement(s.a,{background:l.a.Base,padding:1},e)):i.createElement(S.a,{className:"subbed-top-page"},e)},t}(i.Component));var dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(ut,{channelId:this.props.channelId,isThin:this.props.isThin,modalLayoutVariant:this.props.modalLayoutVariant,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,sessionUser:this.props.sessionUser,subscriptionProducts:this.props.subscriptionProducts})},t}(i.Component),pt=Object(o.c)((function(e){return{channelId:e.channelId,modalLayoutVariant:e.modalLayoutVariant,sessionUser:e.sessionUser,subscriptionProducts:e.subscriptionProducts}}))(dt);var mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(Fe,{channelLogin:this.props.channelLogin,channelId:this.props.channelId,countryCode:this.props.countryCode,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.hasPrime,inPrimeRegion:this.props.inPrimeRegion,isNonStandardSub:this.props.isNonStandardSub,initialOpenAccordionSection:this.props.initialOpenAccordionSection,canPrimeSubscribe:this.props.canPrimeSubscribe,subscriptionProducts:this.props.subscriptionProducts,modalLayoutVariant:this.props.modalLayoutVariant,onBack:this.props.onBack,onGift:this.props.onGift,onSingleGift:this.props.onSingleGift,onCommunityGift:this.props.onCommunityGift,sessionUser:this.props.sessionUser})},t}(i.Component),ft=Object(o.c)((function(e){return{countryCode:e.countryCode,handleSubMenuAction:e.handleSubMenuAction,hasPrime:e.hasPrime,isNonStandardSub:e.isNonStandardSub,modalLayoutVariant:e.modalLayoutVariant,sessionUser:e.sessionUser,subscriptionProducts:e.subscriptionProducts,channelId:e.channelId}}))(mt),bt=n("OEiS");var ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(bt.a,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts})},t}(i.Component),gt=Object(o.c)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts}}))(ht),yt=n("Y5u1");var St,vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(yt.a,{defaultBundleSize:this.props.defaultBundleSize,disableScroll:this.props.disableScroll,giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts})},t}(i.Component),Et=Object(o.c)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,modalLayoutVariant:e.modalLayoutVariant,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts}}))(vt);n("S2z6");!function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftOptions=2]="GiftOptions",e[e.GiftSelect=3]="GiftSelect",e[e.MysteryGiftSelect=4]="MysteryGiftSelect",e[e.UnsubbedTop=5]="UnsubbedTop"}(St||(St={}));var xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={channelLogin:t.props.channelLogin,currentPage:t.props.defaultPage?t.props.defaultPage:t.props.isSubscribed?St.CurrentSubscription:St.UnsubbedTop,initialOpenAccordionSection:Ge.Tier1},t.onGiftOptionsSelect=function(){t.props.handleSubMenuAction({action:y.a.ClickGiftSubOptions}),t.setState({currentPage:St.GiftOptions})},t.onGiftSelect=function(){t.props.handleSubMenuAction({action:y.a.ClickSingleGift}),t.setState({currentPage:St.GiftSelect})},t.onMysteryGiftSelect=function(){t.props.handleSubMenuAction({action:y.a.ClickCommunityGift}),t.setState({currentPage:St.MysteryGiftSelect})},t.onAllPaidTiersSelect=function(){t.props.handleSubMenuAction({action:y.a.ClickMoreSubOptions}),t.setState({currentPage:St.AllPaidTiers})},t.onBack=function(){var e=t.props,n=e.modalLayoutVariant,r=e.isSubscribed,i=e.handleSubMenuAction;if(r)t.setState({currentPage:St.CurrentSubscription});else if(n===o.a.Scroll||n===o.a.Balloon||n===o.a.ScrollPrime70||n===o.a.ScrollPrime30)switch(t.state.currentPage){case St.MysteryGiftSelect:case St.GiftSelect:t.setState({currentPage:St.GiftOptions});break;default:t.setState({currentPage:St.UnsubbedTop})}else n===o.a.Accordion&&t.setState((function(e){return e.currentPage===St.GiftSelect||e.currentPage===St.MysteryGiftSelect?{currentPage:St.UnsubbedTop,initialOpenAccordionSection:Ge.HigherTiers}:{currentPage:St.UnsubbedTop,initialOpenAccordionSection:Ge.Tier1}}));i({action:y.a.ClickBack})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.channelLogin?{channelLogin:e.channelLogin,currentPage:e.isSubscribed?St.CurrentSubscription:St.UnsubbedTop}:t},t.prototype.render=function(){var e,t=this.props.modalLayoutVariant;switch(this.state.currentPage){case St.UnsubbedTop:return i.createElement(ft,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelLogin:this.props.channelLogin,initialOpenAccordionSection:this.state.initialOpenAccordionSection,inPrimeRegion:this.props.inPrimeRegion,onGift:this.onGiftOptionsSelect,onBack:this.onBack,onSingleGift:this.onGiftSelect,onCommunityGift:this.onMysteryGiftSelect});case St.CurrentSubscription:return i.createElement(pt,{isThin:this.props.isThin,onAllPaidTiersSelect:this.onAllPaidTiersSelect,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect});case St.GiftOptions:var n=i.createElement(S.a,{margin:{x:2}},i.createElement(qe.a,null));e=i.createElement(S.a,{className:"sub-modal-top-page__gift-options"},i.createElement(a.b,{suppressScrollX:!0},i.createElement(S.a,null,i.createElement(S.a,{flexGrow:0},i.createElement(Me,{displayOverride:this.props.isThin?Ne.a.ForceNarrow:void 0,onBack:this.onBack,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect})),n)));break;case St.GiftSelect:e=i.createElement(u,null,i.createElement(gt,{onBack:this.onBack}),i.createElement(S.a,{padding:{bottom:2}},i.createElement(qe.a,{compact:!0})));break;case St.MysteryGiftSelect:e=i.createElement(u,null,i.createElement(Et,{onBack:this.onBack,disableScroll:!0,defaultBundleSize:this.props.defaultCGBundleSize}));break;case St.AllPaidTiers:e=i.createElement(Ve,{channelLogin:this.props.channelLogin,onBack:this.onBack});break;default:return null}return t===o.a.Balloon?i.createElement(a.b,{className:"sub-modal-top-page__scroll-balloon"},i.createElement(S.a,{key:"sub-modal-top-page-scrollable-area"},e)):e},t}(i.Component),Ct=Object(o.c)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,modalLayoutVariant:e.modalLayoutVariant,subscriptionProducts:e.subscriptionProducts}}))(xt);n.d(t,"a",(function(){return St})),n.d(t,"b",(function(){return Ct}))},wCby:function(e,t,n){},wK7Q:function(e,t,n){e.exports=n.p+"assets/10-gifts-1x-3a783f70e0f1fd478200.png"},wM1o:function(e,t,n){e.exports=n.p+"assets/50-gifts-4x-14e4d872909d78129de8.png"},xLam:function(e,t,n){e.exports=n.p+"assets/random-viewer-wide-4x-e65197f8a7d9bb75edde.png"},xRuy:function(e,t,n){},"xlh+":function(e,t,n){},yLwq:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=[{id:"profile_image_001",urlSlug:"bb97f7e6-f11a-4194-9708-52bf5a5125e8"},{id:"profile_image_002",urlSlug:"27103734-3cda-44d6-a384-f2ab71e4bb85"},{id:"profile_image_003",urlSlug:"49988c7b-57bc-4dee-bd4f-6df4ad215d3a"},{id:"profile_image_004",urlSlug:"0ecbb6c3-fecb-4016-8115-aa467b7c36ed"},{id:"profile_image_005",urlSlug:"cd618d3e-f14d-4960-b7cf-094231b04735"},{id:"profile_image_006",urlSlug:"4cbf10f1-bb9f-4f57-90e1-15bf06cfe6f5"},{id:"profile_image_007",urlSlug:"b83b1794-7df9-4878-916c-88c2ad2e4f9f"}],i=function(){return Math.floor(Math.random()*r.length)};function a(e,t){var n=70;return 300===t?n=300:96!==t&&80!==t||(n=150),"https://static-cdn.jtvnw.net/user-default-pictures/"+e.urlSlug+"-profile_image-"+n+"x"+n+".jpg"}function o(e,t){var n=parseInt(e,10)%r.length;return a(r[n],t)}},z8lI:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("GnwI"),o=n("O4UZ"),s=n("Ws8v"),l=n("X2PJ"),c=n("hnjF"),u=n("+80q"),d=n("sUnt"),p=n("7uM4"),m=n("C7sF"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(o.g)(this.props.errorType);return i.createElement(s.a,{background:l.a.Alt2,display:c.d.Flex,justifyContent:c.h.Center,padding:{y:1},margin:{bottom:1},textAlign:c.l.Center,"data-test-selector":this.props.testTarget,"data-a-target":this.props.testTarget},i.createElement(u.a,{type:u.e.H4,align:c.m.Middle},i.createElement(s.a,{padding:1,display:c.d.InlineFlex,flexGrow:1,flexWrap:c.f.NoWrap,alignItems:c.b.Center,textAlign:c.l.Left,fontSize:this.props.fontSize?this.props.fontSize:l.d.Size5,"data-a-target":"prime-error-glitch"},i.createElement(d.a,{margin:{right:1},display:c.d.InlineFlex,flexGrow:1,flexWrap:c.f.NoWrap,alignItems:c.b.Center},i.createElement(p.a,{asset:m.a.DeadGlitch,type:p.b.Alert,width:20,height:20})),i.createElement(u.a,{type:u.e.P},e))))},t}(i.Component),b=Object(a.withLatencyTracking)("PrimeError",{autoReportInteractive:!0})(f);n.d(t,"a",(function(){return b}))},zLwo:function(e,t,n){e.exports=n.p+"assets/prime-free-sub-offer-1x-8f65a3053092a94e52ec.png"},zNDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("/7QA"),i=864e5;function a(e,t){if(!e)return"";var n=e instanceof Date?e:new Date(e),a=t&&t.relativeDateLimit||i,o=t&&t.displayFormat||"short";return Math.abs(n.getTime()-Date.now())<=a?Object(r.i)(n):Object(r.c)(n,o)}},zdTm:function(e,t,n){},zene:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("sUnt"),o=n("hnjF"),s=(n("hKya"),"animated-background-transition"),l=s+"__toggled-content",c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={previousToggle:t.props.toggle,toggled:!1},t.ref=null,t.setRef=function(e){t.ref=e,t.ref&&t.ref.addEventListener("animationend",t.unToggle)},t.unToggle=function(){return t.setState({toggled:!1})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.previousToggle===e.toggle?null:{previousToggle:e.toggle,toggled:!0}},t.prototype.componentWillUnmount=function(){this.ref&&this.ref.removeEventListener("animationend",this.unToggle)},t.prototype.render=function(){var e=this.props.toggle?l+"--show":l+"--hide";return this.state.toggled&&(e=this.props.toggle?l+"--fade-in":l+"--fade-out"),i.createElement(a.a,{className:s,position:o.j.Relative},i.createElement(a.a,{className:s+"__background",position:o.j.Absolute}),i.createElement(a.a,{className:e,position:o.j.Absolute,justifyContent:o.h.Center,refDelegate:this.setRef},this.props.toggledContent),i.createElement(a.a,{position:o.j.Absolute,fullWidth:!0,fullHeight:!0,display:o.d.Flex,justifyContent:o.h.Center},this.props.content))},t}(i.Component);n.d(t,"a",(function(){return c}))}}]);