(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"1/wt":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Error="error",e.Info="info",e.Success="success",e.Warning="warning"}(r||(r={}))},"1txG":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UsernameValidator_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUsernameAvailable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[]}]}}],loc:{start:0,end:93}};n.loc.source={body:"query UsernameValidator_User($username: String!) {\nisUsernameAvailable(username: $username)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.UsernameValidator_User=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UsernameValidator_User")},"4PHc":function(e,t,n){},"4v8+":function(e,t,n){"use strict";var r=n("q1tI"),i=n("/MKj"),a=n("fvjX"),o=n("XDCx"),s=n("ieph"),c=n("2+Za"),u=n("sUnt"),d=n("zTPm");n("U3Tv");var l=Object(i.b)(null,(function(e){return Object(a.b)({closeModal:o.d},e)}))((function(e){return r.createElement(u.a,{className:"email-verification-modal"},r.createElement(d.a,null,r.createElement(s.EmailVerification,{username:e.username,showClose:!Object(c.a)(),onComplete:function(){e.closeModal()},verificationRequired:e.verificationRequired})))}));n.d(t,"a",(function(){return l}))},"5dpd":function(e,t,n){},"7M8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var r,i,a,o=n("/7QA"),s=n("kRBY"),c={bg:"bg",cs:"cs",da:"da",de:"de",el:"el",en:"en_US","es-mx":"es_MX",es:"es",fi:"fi",fr:"fr",hu:"hu",it:"it",ja:"ja",ko:"ko",nl:"nl_NL",no:"no",pl:"pl","pt-br":"pt_BR",pt:"pt_PT",ro:"ro",ru:"ru",sk:"sk",sv:"sv",th:"th",tr:"tr",vi:"vi","zh-cn":"zh_CN","zh-tw":"zh_TW"};!function(e){e.CreatingAccounts="creating-an-account",e.SmartNotifications="smart-notifications",e.SubscriberEmoticonGuide="subscriber-emoticon-guide"}(a||(a={}));var u=((r={})[a.CreatingAccounts]="creating-an-account-with-twitch",r[a.SmartNotifications]="smart-notification-setting",r[a.SubscriberEmoticonGuide]="subscriber-emoticon-guide",r),d=((i={})[a.CreatingAccounts]=["da","de","en","es-mx","es","fi","fr","it","ja","ko","nl","no","pt-br","ru","sv","th","zh-tw"],i[a.SmartNotifications]=Object.keys(c),i[a.SubscriberEmoticonGuide]=Object.keys(c),i);function l(e){var t=Object(s.b)(o.p.store.getState())||"en",n="en_US",r=d[e];return r&&r.includes(t)&&(n=c[t]||t),"https://help.twitch.tv/s/article/"+u[e]+"?language="+n}},"8iZj":function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("/7QA"),o=n("sIqa"),s=n("oXDE"),c=n("SFR8");!function(e){e[e.DeviceCookieThrottleReached=3009]="DeviceCookieThrottleReached",e[e.FacebookAccountAlreadyLinked=5006]="FacebookAccountAlreadyLinked",e[e.FailedToDecodeJSON=1002]="FailedToDecodeJSON",e[e.FailedToVerifyAuthyToken=3012]="FailedToVerifyAuthyToken",e[e.IncorrectCaptcha=1e3]="IncorrectCaptcha",e[e.InvalidAuthyToken=3013]="InvalidAuthyToken",e[e.InvalidPassword=2005]="InvalidPassword",e[e.InvalidUsername=2004]="InvalidUsername",e[e.MissingAuthyToken=3011]="MissingAuthyToken",e[e.MultipleAccountsLinkedToEmail=3004]="MultipleAccountsLinkedToEmail",e[e.NoAccountLinkedToEmail=3005]="NoAccountLinkedToEmail",e[e.PasswordMissing=3003]="PasswordMissing",e[e.SuspendedUser=3008]="SuspendedUser",e[e.UnableToConnect=5005]="UnableToConnect",e[e.UnexpectedError=3e3]="UnexpectedError",e[e.UnexpectedFacebookIssue=5001]="UnexpectedFacebookIssue",e[e.UserCredentialsIncorrect=3001]="UserCredentialsIncorrect",e[e.UserDoesNotExist=1014]="UserDoesNotExist",e[e.UserHasBeenDeleted=3007]="UserHasBeenDeleted",e[e.UserNeedsPasswordReset=3006]="UserNeedsPasswordReset",e[e.UsernameMissing=3002]="UsernameMissing"}(r||(r={}));var u="https://passport.twitch.tv/facebook/connect";function d(e){var t=a.p.logger.withCategory("auth.facebook-connect"),n={username:e.username,password:e.password,facebook:{access_token:e.facebook.accessToken,user_id:e.facebook.userID},client_id:a.p.config.authSettings.clientID};return e.authyToken&&(n.authy_token=e.authyToken),e.captchaValue?n.captcha={key:a.p.config.captchaKey,value:e.captchaValue}:e.captchaProof&&(n.captcha={proof:e.captchaProof}),Object(c.c)(u,n,{config:a.a,dynamicSettings:a.b,logger:t})}var l,p=n("MgK0");!function(e){e[e.BlacklistedEmailDomain=2002]="BlacklistedEmailDomain",e[e.BlacklistedIP=2001]="BlacklistedIP",e[e.EmailThrottled=2013]="EmailThrottled",e[e.FailedToDecodeJSON=1002]="FailedToDecodeJSON",e[e.IPThrottled=2014]="IPThrottled",e[e.IncorrectCaptcha=1e3]="IncorrectCaptcha",e[e.InvalidBirthday=2003]="InvalidBirthday",e[e.InvalidPassword=2005]="InvalidPassword",e[e.InvalidUsername=2004]="InvalidUsername",e[e.MissingFields=2006]="MissingFields",e[e.MultiAccountDisabled=2015]="MultiAccountDisabled",e[e.PasswordMissing=3003]="PasswordMissing",e[e.TooManyUsersWithEmail=2007]="TooManyUsersWithEmail",e[e.UnexpectedIssue=2e3]="UnexpectedIssue",e[e.UserNameMissing=3002]="UserNameMissing",e[e.UserUnder13=2011]="UserUnder13",e[e.UsernameExists=2008]="UsernameExists",e[e.UsernameOffensive=2019]="UsernameOffensive"}(l||(l={}));var h="https://staging.passport.twitch.a2z.com/register",m="https://passport.twitch.tv/register";function f(e){var t=a.p.logger.withCategory("auth.register"),n=Object(p.d)()?h:m,r=Object(i.__assign)({username:e.username,password:e.password,email:e.email,birthday:e.birthday,client_id:a.p.config.authSettings.clientID,include_verification_code:!0},b(e,!0));return Object(c.c)(n,r,{config:a.a,dynamicSettings:a.b,logger:t})}var g,b=function(e,t){return void 0===t&&(t=!1),e.captchaProof?{captcha:{proof:e.captchaProof}}:e.captchaValue?Object(s.d)(e.captchaValue)?{arkose:{token:e.captchaValue.token}}:Object(s.e)(e.captchaValue)?{captcha:{value:Object(s.c)(e.captchaValue),key:t?a.p.config.invisibleCaptchaKey:a.p.config.captchaKey}}:Object(o.a)(e.captchaValue):null};!function(e){e[e.DeviceCookieThrottleReached=3009]="DeviceCookieThrottleReached",e[e.EmailNotSupported=3017]="EmailNotSupported",e[e.FailedToDecodeJSON=1002]="FailedToDecodeJSON",e[e.FailedToVerifyAuthyToken=3012]="FailedToVerifyAuthyToken",e[e.IncorrectCaptcha=1e3]="IncorrectCaptcha",e[e.InvalidAuthyToken=3013]="InvalidAuthyToken",e[e.InvalidPassword=2005]="InvalidPassword",e[e.InvalidTwitchGuardCode=3023]="InvalidTwitchGuardCode",e[e.InvalidUsername=2004]="InvalidUsername",e[e.MissingAuthyToken=3011]="MissingAuthyToken",e[e.MissingTwitchGuardCode=3022]="MissingTwitchGuardCode",e[e.MultipleAccountsLinkedToEmail=3004]="MultipleAccountsLinkedToEmail",e[e.NoAccountLinkedToEmail=3005]="NoAccountLinkedToEmail",e[e.PasswordMissing=3003]="PasswordMissing",e[e.SuspendedUser=3008]="SuspendedUser",e[e.UnexpectedError=3e3]="UnexpectedError",e[e.UserCredentialsIncorrect=3001]="UserCredentialsIncorrect",e[e.UserDoesNotExist=1014]="UserDoesNotExist",e[e.UserHasBeenDeleted=3007]="UserHasBeenDeleted",e[e.UserNeedsPasswordReset=3006]="UserNeedsPasswordReset",e[e.UsernameMissing=3002]="UsernameMissing"}(g||(g={}));var v,y="https://passport.twitch.tv/login",E="https://internal.passport.twitch.a2z.com/login";function S(e){var t=a.p.logger.withCategory("auth.login"),n=Object(i.__assign)(Object(i.__assign)({username:e.username,password:e.password,remember_me:e.rememberMe,client_id:a.p.config.authSettings.clientID,undelete_user:e.undeleteUser,authy_token:e.authyToken},b(e)),{twitchguard_code:e.twitchGuardCode}),r=Object(p.d)()?E:y;return Object(c.c)(r,n,{config:a.a,dynamicSettings:a.b,logger:t})}!function(e){e[e.FailedToDecodeJSON=1002]="FailedToDecodeJSON",e[e.FailedToVerifyAuthyToken=3012]="FailedToVerifyAuthyToken",e[e.InvalidAuthyToken=3013]="InvalidAuthyToken",e[e.MissingAuthyToken=3011]="MissingAuthyToken",e[e.NoConnectedTwitchUser=5004]="NoConnectedTwitchUser",e[e.SuspendedUser=3008]="SuspendedUser",e[e.UnableToVerifyIdentity=5003]="UnableToVerifyIdentity",e[e.UnexpectedError=3e3]="UnexpectedError"}(v||(v={}));var C,w="https://passport.twitch.tv/facebook/login";function k(e){var t=a.p.logger.withCategory("auth.facebook-login"),n={facebook:{access_token:e.facebook.accessToken,user_id:e.facebook.userID},client_id:a.p.config.authSettings.clientID};return e.authyToken&&(n.authy_token=e.authyToken),Object(c.c)(w,n,{config:a.a,dynamicSettings:a.b,logger:t})}!function(e){e[e.BlacklistedIP=2001]="BlacklistedIP",e[e.EmailThrottled=2013]="EmailThrottled",e[e.FacebookAccountAlreadyLinked=5006]="FacebookAccountAlreadyLinked",e[e.FailedToDecodeJSON=1002]="FailedToDecodeJSON",e[e.IPThrottled=2014]="IPThrottled",e[e.InvalidPassword=2005]="InvalidPassword",e[e.InvalidUsername=2004]="InvalidUsername",e[e.TooManyUsers=2017]="TooManyUsers",e[e.UnableToVerifyIdentity=5003]="UnableToVerifyIdentity",e[e.UnexpectedFacebookIssue=5001]="UnexpectedFacebookIssue",e[e.UnexpectedSignupIssue=2e3]="UnexpectedSignupIssue",e[e.UsernameExists=2008]="UsernameExists"}(C||(C={}));var O="https://passport.twitch.tv/facebook/register";function j(e){var t=a.p.logger.withCategory("auth.facebook-register"),n={username:e.username,password:e.password,facebook:{access_token:e.facebook.accessToken,user_id:e.facebook.userID},client_id:a.p.config.authSettings.clientID,include_verification_code:!0};return Object(c.c)(O,n,{config:a.a,dynamicSettings:a.b,logger:t})}n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return S})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return d}))},"96Fe":function(e,t,n){"use strict";var r=n("TSYQ"),i=n("q1tI"),a=n("/7QA"),o=n("Ws8v"),s=n("X2PJ"),c=n("hnjF"),u=n("sUnt"),d=n("7uM4"),l=n("C7sF"),p=n("+80q"),h=(n("4PHc"),function(e){if(!e.message)return null;var t=void 0===e.subMessage?Object(a.d)("Please try again.","ServerMessage"):e.subMessage;return i.createElement(o.a,{className:r({"server-message-success":e.isSuccessMessage,"server-message-alert":!e.isSuccessMessage}),background:s.a.Alt2,borderRadius:s.b.Large,display:c.d.Flex,margin:{top:2,x:"auto"},padding:{y:1,left:1,right:2},position:c.j.Relative,fullWidth:!0},i.createElement(u.a,{className:r({"server-message-success__icon":e.isSuccessMessage,"server-message-alert__icon":!e.isSuccessMessage}),alignItems:c.b.Start,display:c.d.Flex},i.createElement(d.a,{asset:e.isSuccessMessage?l.a.NotificationSuccess:l.a.NotificationError,height:30,width:30})),i.createElement(u.a,{display:c.d.Flex,flexDirection:c.e.Column,padding:{left:.5}},i.createElement(p.a,{fontSize:s.d.Size6,type:p.e.Strong},e.message),i.createElement(u.a,null,i.createElement(p.a,{fontSize:s.d.Size6,color:s.c.Alt2},t))))});n.d(t,"a",(function(){return h}))},AkED:function(e,t,n){},E3CR:function(e,t,n){},EQ2E:function(e,t,n){"use strict";n.r(t);var r=n("/MKj"),i=n("/0dD"),a=n("kRBY"),o=n("XDQu"),s=n("mrSG"),c=n("TSYQ"),u=n("q1tI"),d=n("/7QA"),l=n("tKDy"),p=n("XQbB"),h=(n("g/Ny"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={widgetId:null},t.onChange=function(e){Object(l.l)({screen:t.props.screen,target:l.f.Captcha,action:l.b.Complete}),t.props.onChange(e)},t.onExpired=function(){t.props.onChange(null)},t}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.refDelegate&&this.props.refDelegate(this),window.onRecaptchaLoad=function(){e.initRecaptcha()},document.querySelector("#recaptcha-script"))this.initRecaptcha();else{var t=document.createElement("script");t.src="https://recaptcha.net/recaptcha/api.js?onload=onRecaptchaLoad&render=explicit&hl="+this.props.languageCode,t.async=!0,t.id="recaptcha-script",document.body.appendChild(t)}},t.prototype.componentWillUnmount=function(){window.onRecaptchaLoad=function(){}},t.prototype.render=function(){var e=!this.props.invisible&&null===this.state.widgetId,t=c({"g-recaptcha":this.props.invisible,"recaptcha--loading":e});return u.createElement(u.Fragment,null,e&&u.createElement(p.a,{size:p.b.Large}),u.createElement("div",{id:"recaptcha-element-container",className:t}))},t.prototype.reset=function(){null!==this.state.widgetId&&window.grecaptcha&&window.grecaptcha.reset(this.state.widgetId)},t.prototype.execute=function(){null!==this.state.widgetId&&window.grecaptcha&&this.props.invisible&&window.grecaptcha.execute(this.state.widgetId)},t.prototype.initRecaptcha=function(){if(window.grecaptcha){var e=window.grecaptcha.render("recaptcha-element-container",{sitekey:this.props.invisible?d.p.config.invisibleCaptchaKey:d.p.config.captchaKey,callback:this.onChange,theme:this.props.darkModeEnabled?"dark":"light",type:"image",size:this.props.invisible?"invisible":"normal",tabindex:0,hl:this.props.languageCode,badge:"bottomright","expired-callback":this.onExpired});this.setState({widgetId:e})}},t}(u.PureComponent));var m=Object(r.b)((function(e){return{languageCode:Object(a.b)(e),darkModeEnabled:Object(o.a)(e)===i.a.Dark}}))(h);n.d(t,"Recaptcha",(function(){return m})),n.d(t,"RecaptchaComponent",(function(){return h})),n.d(t,"PublicProps",(function(){}))},FsIG:function(e,t,n){"use strict";function r(e){return e||""}function i(e){return e?e.toString():""}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},GsKU:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("7d/q"),u=n("uKd/"),d=n("hnjF"),l=n("X2PJ"),p=n("sUnt"),h=n("Ws8v"),m=n("dEDE"),f=function(e){return a.createElement(p.a,{display:d.d.Flex,justifyContent:d.h.Start,flexDirection:d.e.RowReverse},a.createElement("div",null,a.createElement(m.a,i()({size:m.b.Small,type:e.primaryButton.type||m.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(p.a,{margin:{right:1}},a.createElement(m.a,i()({size:m.b.Small,type:e.secondaryButton.type||m.d.Secondary},e.secondaryButton))))};f.displayName="NotificationActions",f.displayName="NotificationActions";var g,b=n("HH5h"),v=n("IbuL"),y=n("C7sF"),E=n("1/wt"),S=(n("n4RV"),(g={})[E.a.Error]=y.a.NotificationError,g[E.a.Info]=y.a.NotificationInfo,g[E.a.Success]=y.a.NotificationSuccess,g[E.a.Warning]=y.a.NotificationWarning,g),C=function(e){return a.createElement(p.a,{display:d.d.Flex,alignItems:d.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?a.createElement(b.a,i()({size:30},e.avatar)):a.createElement(v.a,{asset:S[e.type]}))};C.displayName="NotificationFigure",C.displayName="NotificationFigure";var w=n("Jsra"),k=n("+80q"),O=function(e){return a.createElement(p.a,{display:d.d.Flex,flexDirection:e.inline?d.e.Row:d.e.Column,alignItems:e.inline?d.b.Baseline:void 0},a.createElement(p.a,{margin:{right:e.inline?.5:0}},a.createElement(k.a,{fontSize:l.d.Size5,fontWeight:l.e.SemiBold},e.title)),e.description&&a.createElement(p.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},a.createElement(k.a,{color:l.c.Alt},e.description)),e.link&&a.createElement(p.a,{margin:{bottom:e.inline?void 0:.5}},a.createElement(w.a,e.link)))};O.displayName="NotificationMessage",O.displayName="NotificationMessage";n("maHM");n.d(t,"a",(function(){return j}));var j=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return a.createElement(h.a,i()({},Object(s.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:l.b.Medium,color:l.c.Base,position:d.j.Relative}),a.createElement(h.a,{borderRadius:l.b.Medium,background:e.background},a.createElement(p.a,{display:d.d.Flex},a.createElement(p.a,{display:d.d.Flex,fullWidth:!0},a.createElement(p.a,{padding:1,className:Object(o.a)(t)},a.createElement(C,{type:e.type,avatar:e.avatar})),a.createElement(p.a,{display:d.d.Flex,alignItems:d.b.Center,fullWidth:!0},e.children,e.message&&a.createElement(p.a,{padding:{y:1,right:1},fullWidth:!0},a.createElement(O,e.message)))),e.closeButton&&a.createElement(p.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},a.createElement(u.a,{ariaLabel:e.closeButton.ariaLabel,onClick:e.closeButton.onClick,size:c.b.Small,type:c.c.Secondary}))),e.actions&&a.createElement(p.a,{padding:{x:1,bottom:1}},a.createElement(f,e.actions))))};j.displayName="InFeatureNotification",j.defaultProps={background:l.a.Base},j.displayName="InFeatureNotification"},GxR5:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r="https://www.twitch.tv/user/account-recovery",i="https://help.twitch.tv/customer/portal/emails/new",a="https://help.twitch.tv/customer/portal/articles/1727973-about-site-suspensions-channel-bans-and-dmca",o="https://www.twitch.tv/p/legal/terms-of-service/"},ISp4:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmailVerificationSuccess"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:75}};n.loc.source={body:"query EmailVerificationSuccess {\ncurrentUser {\nid\nlogin\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.EmailVerificationSuccess=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"EmailVerificationSuccess")},JOd2:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n("mrSG"),i=n("8iZj"),a=n("tKDy");function o(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(i){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,e(i)];case 1:return(t=r.sent()).success&&n.forEach((function(e){return e()})),[2,t]}}))}))}}var s=o(i.i,a.s),c=o(i.j,a.u),u=o(i.g,a.s),d=o(i.f,a.s),l=o(i.h,a.u)},L2ln:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("sUnt"),o=n("SDEh"),s=n("/7QA"),c="facebook-jssdk",u=function(e){return new Promise((function(t){return e.login(t,{scope:"email,user_friends"})}))},d=function(e){return new Promise((function(t){return e.api("/me",{fields:"name"},t)}))};function l(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){var t,n,i,a,o,s,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,p(e)];case 1:if(!(t=r.sent()))throw new Error("FacebookSDK.load resolve with falsy value.");return[4,u(t)];case 2:if(n=r.sent(),i=n.authResponse,a=n.status,!i)throw new Error("user is not logged in: "+a);return[4,d(t)];case 3:if(o=r.sent(),s=o.error,c=o.name,s)throw new Error("could not get facebook user: "+s.toString());return[2,{name:c,id:i.userID,accessToken:i.accessToken}]}}))}))}function p(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t,n){var r,i,a,o,s,u,d=window.FB;if(d)return t(d);window.fbAsyncInit=function(){var r=window.FB;if(!r)return n(new Error("could not init facebook sdk library"));r.init({xfbml:!1,cookie:!1,version:"v3.1",appId:e.applicationID}),t(r)},r=document,i="script",a=c,o=r.getElementsByTagName(i)[0],s=o,u=o,r.getElementById(a)||((u=r.createElement(i)).id=a,u.src="https://connect.facebook.net/"+e.language+"/sdk.js",s.parentNode.insertBefore(u,s))}))]}))}))}var h=n("7uM4"),m=n("C7sF"),f=(n("VLV5"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={processing:!1},t.report=function(e){t.props.onFailure&&t.props.onFailure(e)},t.onClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(this.props.onClick&&this.props.onClick(),this.state.processing||this.props.disabled)return[2];this.setState({processing:!0}),r.label=1;case 1:return r.trys.push([1,3,4,5]),t=(e=this.props).onSuccess,[4,l({applicationID:this.props.applicationID,language:this.props.language})];case 2:return t.apply(e,[r.sent()]),[3,5];case 3:return n=r.sent(),this.report(n),[3,5];case 4:return this.setState({processing:!1}),[7];case 5:return[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement("button",{onClick:this.onClick,disabled:this.state.processing,className:"facebook-connect-button"},i.createElement(h.a,{width:30,height:30,type:h.b.Inherit,asset:m.a.Facebook}),Object(s.d)("Connect with Facebook","FacebookConnectButton"))},t}(i.Component)),g=n("tKDy"),b=n("+80q"),v=n("X2PJ"),y=n("hnjF"),E=n("Ws8v"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFacebookLoginClicked=function(){Object(g.l)({screen:t.props.screen,target:g.f.FacebookFooter,action:g.b.Click})},t.handleCallback=function(e){e.id&&e.accessToken&&t.props.onFacebookConnected(Object(r.__assign)({},e))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(a.a,{display:y.d.Flex,flexDirection:y.e.Column,alignItems:y.b.Center,margin:{bottom:.5}},i.createElement(a.a,{fullWidth:!0,display:y.d.Flex,alignItems:y.b.Center,flexDirection:y.e.Row,margin:{bottom:2}},i.createElement(E.a,{borderBottom:!0,flexGrow:1,margin:{right:.5}}),i.createElement(b.a,{color:v.c.Alt2},Object(s.d)("or","FacebookConnectFooter")),i.createElement(E.a,{borderBottom:!0,flexGrow:1,margin:{left:.5}})),i.createElement(E.a,{color:v.c.Overlay,fontSize:v.d.Size6,"data-a-target":"facebook-button-div"},i.createElement(f,{onSuccess:this.handleCallback,applicationID:"161273083968709",language:this.props.facebookLocale,onClick:this.onFacebookLoginClicked})))},t}(i.PureComponent),C=n("/MKj"),w=n("kRBY");var k=Object(C.b)((function(e){return{facebookLocale:Object(w.d)(e).replace("-","_")}}))(S);var O,j=i.memo((function(e){return!e.facebook||Object(o.b)()?null:i.createElement(k,{screen:e.facebook.screen,onFacebookConnected:e.facebook.onConnected})}),(function(e,t){var n=function(e){return e.facebook&&e.facebook.screen},r=function(e){return e.facebook&&e.facebook.onConnected};return n(e)===n(t)&&r(e)===r(t)})),_=n("fvjX"),F=n("yR8l"),I=n("o0OK"),D=n("HH5h"),T=n("i0Jz");!function(e){e.Header="auth-shell-header-header",e.Subheader="auth-shell-header-subheader",e.CurrentUserDisplayName="auth-shell-header-current-user-display-name"}(O||(O={}));var x,U=i.memo((function(e){var t=null,n=null;e.data&&e.data.currentUser&&(t=i.createElement(a.a,{margin:{top:1},display:y.d.Flex,alignItems:y.b.Center},i.createElement(a.a,{margin:{right:1}},i.createElement(D.a,{size:40,src:e.data.currentUser.profileImageURL,alt:Object(s.d)("User avatar","AuthFormHeader"),userLogin:e.data.currentUser.login})),i.createElement(b.a,{type:b.e.Strong,"data-test-selector":O.CurrentUserDisplayName},e.data.currentUser.displayName))),e.subheader&&(n=i.createElement(a.a,{margin:{top:1}},i.createElement(b.a,{"data-test-selector":O.Subheader},e.subheader)));var r=e.sideContentVisibility===I.b.None;return i.createElement(i.Fragment,null,i.createElement(a.a,{display:y.d.Flex,flexDirection:y.e.Column},i.createElement(a.a,{display:y.d.InlineFlex,alignItems:y.b.Center,justifyContent:y.h.Center},r&&i.createElement(h.a,{width:40,height:40,type:h.b.Brand,asset:m.a.LogoGlitch}),i.createElement(a.a,{margin:{left:r?.5:0}},i.createElement(b.a,{"data-test-selector":O.Header,type:b.e.H4,fontSize:v.d.Size4,bold:!0},e.header))),t,n))})),M=Object(F.a)(T,{skip:function(e){return!e.showCurrentUser}}),P=Object(_.d)(Object(I.c)((function(e){return{sideContentVisibility:e.sideContentVisibility}})),M)(U),V=n("D/1V"),N=n("uBOI");!function(e){e.Login="Login",e.Signup="Signup"}(x||(x={}));var A,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e),t.props.context.updateContext(e===x.Signup?{tab:V.b.Signup,flow:V.a.Signup}:{tab:V.b.Login,flow:V.a.Login})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.disabled,n=(this.props.tab||this.props.context.tab)===x.Login?0:1;return i.createElement(E.a,{fontSize:v.d.Size5,"data-a-target":"auth-form-tab-container"},i.createElement(N.b,{size:N.a.Default,activeTabIndex:n,justifyContent:y.h.Start,tabs:[{label:Object(s.d)("Log In","AuthShellNav"),onClick:function(){return e.onClick(x.Login)},disabled:t&&this.props.tab!==x.Login},{label:Object(s.d)("Sign Up","AuthShellNav"),onClick:function(){return e.onClick(x.Signup)},disabled:t&&this.props.tab!==x.Signup}]}))},t}(i.Component),B=Object(_.d)(Object(V.d)((function(e){return{context:{tab:e.tab,updateContext:e.updateContext}}})))(R),L=n("96Fe");!function(e){e.Alert="Alert",e.Success="Success"}(A||(A={}));var q=i.memo((function(e){return i.createElement(L.a,{message:e.message,subMessage:e.submessage,isSuccessMessage:e.type===A.Success})})),G=n("7d/q"),z=i.memo((function(e){return i.createElement(G.a,{onClick:e.onClick,icon:m.a.AngleLeft,ariaLabel:Object(s.d)("Back","AuthForm")})}));function Y(e){return i.createElement(i.Fragment,null,e.backButton&&i.createElement(a.a,null,i.createElement(z,Object(r.__assign)({},e.backButton))),e.header&&i.createElement(a.a,null,i.createElement(P,Object(r.__assign)({},e.header))),e.navigation&&i.createElement(a.a,{margin:{top:1}},i.createElement(B,Object(r.__assign)({},e.navigation))),e.notice&&i.createElement(q,Object(r.__assign)({},e.notice)),i.createElement(a.a,{margin:{bottom:1}},e.children),e.footer&&i.createElement(j,Object(r.__assign)({},e.footer)))}n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return Y}))},L5Uv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n("mrSG"),i=n("q1tI"),a=n("ZS2+"),o=n("utV1"),s=n("sUnt"),c=n("hnjF"),u=(n("AkED"),a.a.wrap((function(){return Promise.resolve().then(n.bind(null,"utV1"))}),"FunCaptcha")),d={id:o.FunCaptchaScriptType.LOGIN,publicKey:"9260643B-49E2-EF5B-2CB5-30FD3451DF51"},l={id:o.FunCaptchaScriptType.SIGNUP,publicKey:"E5554D43-23CC-1982-971D-6A2262A2CA24"},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(s.a,{alignItems:c.b.Center,display:c.d.Flex,justifyContent:c.h.Center,className:"funcaptcha-form__funcaptcha"},i.createElement(u,{script:this.props.signup?l:d,onChange:this.props.onCaptchaChanged}))},t}(i.Component)},"NQ5/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RegenerateVerificationCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RegenerateVerificationCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regenerateVerificationCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"request"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"mutation RegenerateVerificationCode($input: RegenerateVerificationCodeInput!) {\nregenerateVerificationCode(input: $input) {\nrequest {\nstatus\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.RegenerateVerificationCode=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"RegenerateVerificationCode")},OLPY:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("ZS2+"),o=n("yR8l"),s=n("t6bU"),c=a.a.wrap((function(){return n.e(47).then(n.bind(null,"vGPj"))}),"PhoneNumberText"),u=Object(o.a)(s,{skip:function(e){return!e.useCountryCode}})((function(e){return e.data&&e.data.loading?null:i.createElement(c,Object(r.__assign)({},e,{countryCode:e.data&&e.data.requestInfo&&e.data.requestInfo.countryCode,useCountryCode:!!e.useCountryCode}))}));n.d(t,"a",(function(){return u}))},OZnc:function(e,t,n){},"PCM+":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("dEDE"),u=n("hnjF"),d=n("sUnt"),l=n("Ws8v"),p=n("zTPm"),h=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props.size===p.b.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return s.createElement(l.a,{padding:1,display:u.d.Flex,alignItems:u.b.Center,justifyContent:u.h.Start,flexDirection:u.e.RowReverse},s.createElement(d.a,e,s.createElement(c.a,i()({type:c.d.Primary,fullWidth:!0},this.props.primaryButtonProps))),s.createElement(d.a,e,this.props.secondaryButtonProps&&s.createElement(d.a,{padding:{right:1}},s.createElement(c.a,i()({type:c.d.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},t}(s.Component);h.displayName="ModalFooter"},"Qu/Q":function(e,t,n){"use strict";n.r(t);var r,i=n("mrSG"),a=n("uhBA"),o=n("q1tI"),s=n("/7QA"),c=n("ZS2+"),u=n("sIqa"),d=n("2xye"),l=n("JOd2"),p=n("L2ln"),h=n("aod8"),m=n("YwXh"),f=n("fvjX"),g=n("MgK0"),b=n("xHva"),v=n("YVDj"),y=n.t(v,2);!function(e){e.Day="D",e.Month="M",e.Year="Y"}(r||(r={}));var E=n("t94X"),S=n("FsIG"),C=n("tKDy"),w=n("sUnt"),k=n("hnjF"),O=n("3aAs"),j=n("DY5q"),_=(n("qV8A"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMonthChange=function(e){Object(C.l)({screen:C.e.Signup,target:C.f.DateOfBirthMonth,action:C.b.Click}),t.props.onChanged(Object(i.__assign)(Object(i.__assign)({},t.props.date),{month:+e.target.value}))},t.handleDayChange=function(e){t.props.onChanged(Object(i.__assign)(Object(i.__assign)({},t.props.date),{day:+e.target.value.replace(/\D/g,"")}))},t.handleYearChange=function(e){t.props.onChanged(Object(i.__assign)(Object(i.__assign)({},t.props.date),{year:+e.target.value.replace(/\D/g,"")}))},t.onDayFocus=function(){t.props.onFocusChanged({day:!0})},t.onDayBlur=function(){t.props.onFocusChanged({day:!1})},t.onMonthFocus=function(){t.props.onFocusChanged({month:!0})},t.onMonthBlur=function(){t.props.onFocusChanged({month:!1})},t.onYearFocus=function(){t.props.onFocusChanged({year:!0})},t.onYearBlur=function(){t.props.onFocusChanged({year:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n=(e=this.props.locale,t=y[e.toLowerCase()],e&&t?[t.substring(0,1),t.substring(1,2),t.substring(2,3)]:[r.Month,r.Day,r.Year]);return o.createElement(w.a,{display:k.d.Flex,flexDirection:k.e.Row,overflow:k.i.Auto},this.renderBasedOnDateOrder(n[0]),o.createElement(k.g,{margin:{left:1}},this.renderBasedOnDateOrder(n[1])),o.createElement(k.g,{margin:{left:1}},this.renderBasedOnDateOrder(n[2])))},t.prototype.renderBasedOnDateOrder=function(e){switch(e){case r.Day:return this.renderDayInput();case r.Month:return this.renderMonthSelect();case r.Year:return this.renderYearInput();default:return null}},t.prototype.renderDayInput=function(){return o.createElement(w.a,{className:"birthday-picker__input"},o.createElement(E.a,{ariaLabel:Object(s.d)("Enter the day of your birth","AuthForm"),screen:C.e.Signup,target:C.f.DateOfBirthDay,type:O.c.Text,value:Object(S.a)(this.props.date&&this.props.date.day),placeholder:Object(s.d)("Day","BirthdayPicker"),onChange:this.handleDayChange,error:!this.props.isTyping&&this.props.dateValidation&&this.props.dateValidation.dayInvalid,maxLength:2,onFocus:this.onDayFocus,onBlur:this.onDayBlur,"data-a-target":"birthday-date-input"}))},t.prototype.renderYearInput=function(){return o.createElement(w.a,{className:"birthday-picker__input"},o.createElement(E.a,{ariaLabel:Object(s.d)("Enter the year of your birth","AuthForm"),screen:C.e.Signup,target:C.f.DateOfBirthYear,type:O.c.Text,value:Object(S.a)(this.props.date&&this.props.date.year),placeholder:Object(s.d)("Year","BirthdayPicker"),onChange:this.handleYearChange,error:!this.props.isTyping&&this.props.dateValidation&&this.props.dateValidation.yearInvalid,maxLength:4,onFocus:this.onYearFocus,onBlur:this.onYearBlur,"data-a-target":"birthday-year-input"}))},t.prototype.renderMonthSelect=function(){return o.createElement(w.a,{fullWidth:!0},o.createElement(j.a,{ariaLabel:Object(s.d)("Select your birthday month","AuthForm"),value:Object(S.a)(this.props.date&&this.props.date.month),onChange:this.handleMonthChange,error:!this.props.isTyping&&this.props.dateValidation&&this.props.dateValidation.monthInvalid,onFocus:this.onMonthFocus,onBlur:this.onMonthBlur,"data-a-target":"birthday-month-select"},o.createElement("option",{value:"",disabled:!0},Object(s.d)("Month","BirthdayPicker")),o.createElement("option",{value:1},Object(s.d)("January","BirthdayPicker")),o.createElement("option",{value:2},Object(s.d)("February","BirthdayPicker")),o.createElement("option",{value:3},Object(s.d)("March","BirthdayPicker")),o.createElement("option",{value:4},Object(s.d)("April","BirthdayPicker")),o.createElement("option",{value:5},Object(s.d)("May","BirthdayPicker")),o.createElement("option",{value:6},Object(s.d)("June","BirthdayPicker")),o.createElement("option",{value:7},Object(s.d)("July","BirthdayPicker")),o.createElement("option",{value:8},Object(s.d)("August","BirthdayPicker")),o.createElement("option",{value:9},Object(s.d)("September","BirthdayPicker")),o.createElement("option",{value:10},Object(s.d)("October","BirthdayPicker")),o.createElement("option",{value:11},Object(s.d)("November","BirthdayPicker")),o.createElement("option",{value:12},Object(s.d)("December","BirthdayPicker"))))},t}(o.Component)),F=n("/MKj"),I=n("kRBY");var D=Object(F.b)((function(e){return{locale:Object(I.d)(e)}}))(_),T=n("X0sf"),x=n("kw6l"),U={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},M=864e5;function P(e){return!!e&&(e.monthInvalid||e.dayInvalid||e.yearInvalid)}function V(e,t,n){if(!e||!t||!n)return{dayInvalid:!t,monthInvalid:!e,yearInvalid:!n};var r={dayInvalid:!1,monthInvalid:!1,yearInvalid:!1},i=U[e.toString()];2===e&&function(e){return e%4==0&&e%100!=0||e%400==0}(n)&&(i=29);var a=new Date,o=new Date(n,e-1,t);return(!i||t>i)&&(r.monthInvalid=t<=31,r.dayInvalid=!0),n<a.getFullYear()-150&&(r.yearInvalid=!0),o.getTime()-a.getTime()>=-M&&(r.yearInvalid=!0),r}var N,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isTyping:!1,birthdayPickerFocus:{day:!1,month:!1,year:!1}},t.onBirthdayPickerDateChanged=function(e){t.setState({isTyping:!0}),t.beginValidationTimer(),t.props.onBirthdayDateChange(e)},t.onBirthdayPickerFocusChanged=function(e){t.setState((function(t){return{birthdayPickerFocus:Object(i.__assign)(Object(i.__assign)({},t.birthdayPickerFocus),e)}}),t.beginValidationTimer)},t.beginValidationTimer=function(){t.inputTimer&&(clearTimeout(t.inputTimer),t.inputTimer=0),t.inputTimer=setTimeout((function(){t.isBirthdayPickerFocused()&&t.isFullDateProvided()?t.props.onValidationRequested():!t.isBirthdayPickerFocused()&&t.props.date&&t.props.onValidationRequested(),t.setState({isTyping:!1}),t.inputTimer=0}),500)},t.isBirthdayPickerFocused=function(){return t.state.birthdayPickerFocus.day||t.state.birthdayPickerFocus.month||t.state.birthdayPickerFocus.year},t.isFullDateProvided=function(){return t.props.date&&t.props.date.day&&t.props.date.month&&t.props.date.year},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(T.a,{labelFor:"",label:Object(s.d)("Date of Birth","BirthdayFormGroup"),error:P(this.props.dateValidation)||this.props.serverError,errorMessage:Object(s.d)("Please enter a valid date.","BirthdayFormGroup"),validationComponent:this.renderValidIndicator(),hint:!1},o.createElement(D,{date:this.props.date,onChanged:this.onBirthdayPickerDateChanged,onFocusChanged:this.onBirthdayPickerFocusChanged,dateValidation:this.props.dateValidation,isTyping:this.state.isTyping}))},t.prototype.componentWillUnmount=function(){this.inputTimer&&clearTimeout(this.inputTimer)},t.prototype.renderValidIndicator=function(){var e=P(this.props.dateValidation),t={showShowLoading:this.state.isTyping,shouldShowNone:void 0===this.props.dateValidation,shouldShowError:e,shouldShowValid:!!this.props.dateValidation&&!e};return o.createElement(x.a,{options:t})},t}(o.Component);!function(e){e[e.Valid=1]="Valid",e[e.Invalid=2]="Invalid"}(N||(N={}));var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isTyping:!1,isFocused:!1},t.onChange=function(e){e.persist(),t.setState({isTyping:!0}),t.inputTimer&&(clearTimeout(t.inputTimer),t.inputTimer=0),t.inputTimer=setTimeout((function(){t.props.onValidationRequested(),t.setState({isTyping:!1}),t.inputTimer=0}),500),t.props.onEmailChanged(e.currentTarget.value)},t.onEmailBlur=function(){t.setState({isFocused:!1})},t.onEmailFocus=function(){t.setState({isFocused:!0})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(T.a,{labelFor:"email-input",error:this.isInvalid,errorMessage:this.props.errorMessage,hint:this.state.isFocused,hintMessage:Object(s.d)("You'll need to verify that you own this email account.","SignupEmailFormGroup"),label:Object(s.d)("Email","SignupEmailFormGroup"),validationComponent:this.renderValidIndicator()},o.createElement(E.a,{ariaLabel:Object(s.d)("Enter your email address","AuthForm"),id:"email-input",screen:C.e.Signup,target:C.f.Email,type:O.c.Email,onChange:this.onChange,onFocus:this.onEmailFocus,onBlur:this.onEmailBlur,value:Object(S.b)(this.props.value),error:this.isInvalid,"data-a-target":"signup-email-input"}))},t.prototype.componentWillUnmount=function(){this.inputTimer&&clearTimeout(this.inputTimer)},t.prototype.renderValidIndicator=function(){var e={shouldShowLoading:this.state.isTyping,shouldShowNone:!this.props.validationState,shouldShowError:this.props.validationState===N.Invalid,shouldShowValid:this.props.validationState===N.Valid};return o.createElement(x.a,{options:e})},Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.props.validationState===N.Invalid},enumerable:!0,configurable:!0}),t}(o.Component),B=n("w7VI"),L=n("joke"),q=n("XkJ+"),G=n("2+Za"),z=n("rs8P"),Y=n("rACw"),W=n("tip7"),H=(n("oXDE"),n("rwum"));var K=n("ffAx"),X=n("GnwI"),Q=n("Ws8v"),J=n("X2PJ"),Z=n("+80q"),$=n("Jsra"),ee=n("dEDE"),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.passwordConfirmationRequired=Object(G.b)(),t.preverifiedUsername=!1,t.updatePasswordComplexityDebounceTimer=new b.a(q.a.HumanTyping),t.updatePasswordComplexity=function(){return t.updatePasswordComplexityDebounceTimer.invoke((function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,a,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(e=this.props.values,t=e.password,n=e.username,!t||0===t.length)return[2,this.props.onSignupFormValuesChanged({passwordComplexity:{type:z.a.Loading}})];i.label=1;case 1:return i.trys.push([1,3,,4]),a=(r=this.props).onSignupFormValuesChanged,o={},[4,Object(z.b)(t,n)];case 2:return a.apply(r,[(o.passwordComplexity=i.sent(),o)]),[3,4];case 3:return i.sent(),this.props.onSignupFormValuesChanged({passwordComplexity:{type:z.a.Errored}}),[3,4];case 4:return[2]}}))}))}))},t.onSubmit=function(e){e.preventDefault(),t.canSignup&&(Object(g.i)()||t.props.hasPassedCaptcha?t.submit():t.recaptchaInstance?t.recaptchaInstance.execute():t.props.onSignupFunCaptcha())},t.onBirthdayDateChanged=function(e){t.props.onSignupFormValuesChanged({birthdayDate:e})},t.onBirthdayDateValidationChange=function(){var e=t.props.values.birthdayDate;e&&t.props.onSignupFormValuesChanged({birthdayValidation:V(e.month,e.day,e.year)})},t.onUsernameInputChanged=function(e){t.props.onSignupFormValuesChanged({username:e})},t.onUsernameValidationRequested=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r,a,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return this.preverifiedUsername=!!e,t=this.props.values.username,e?(r=!1,[3,3]):[3,1];case 1:return[4,Object(H.b)(t)];case 2:r=i.sent(),i.label=3;case 3:return n=r,a=Object(H.a)(t,n),o=a?L.b.Invalid:L.b.Valid,this.props.onSignupFormValuesChanged({usernameValidationState:o,usernameErrorMessage:a}),[2]}}))}))},t.onPasswordInputChanged=function(e){var n=Object(W.b)(e),r=Object(W.a)(e,t.props.values.passwordConfirmation),i=!!n;t.props.onSignupFormValuesChanged({password:e,isPasswordInvalid:i,isPasswordConfirmationInvalid:!!r,passwordErrorMessage:n,passwordConfirmationErrorMessage:r})},t.onPasswordConfirmationInputChanged=function(e){var n=Object(W.a)(t.props.values.password,e);t.props.onSignupFormValuesChanged({passwordConfirmation:e,passwordConfirmationErrorMessage:n,isPasswordConfirmationInvalid:!!n})},t.onEmailInputChanged=function(e){t.props.onSignupFormValuesChanged({email:e})},t.onEmailValidationRequested=function(){var e=t.props.values.email,n=Object(Y.a)(e),r=n?N.Invalid:N.Valid;t.props.onSignupFormValuesChanged({emailErrorMessage:n,emailValidationState:r})},t.onCaptchaInputChanged=function(e){t.props.onSignupFormValuesChanged({captchaValue:e}),t.submit()},t.onRecaptchaRefDelegate=function(e){t.recaptchaInstance=e},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"canSignup",{get:function(){return e=this.props.values,t=this.props.serverErrors,n=this.passwordConfirmationRequired,!(t.passwordError||t.usernameError||t.birthdayError||t.emailError||!e.username||!e.password||n&&(!e.passwordConfirmation||e.passwordConfirmation!==e.password)||!e.email||!e.birthdayDate||!e.birthdayDate.day||!e.birthdayDate.month||!e.birthdayDate.year||e.usernameValidationState===L.b.Invalid||!Object(H.c)(e.username)||e.isPasswordInvalid||e.emailValidationState!==N.Valid||!e.birthdayValidation||P(e.birthdayValidation));var e,t,n},enumerable:!0,configurable:!0}),t.prototype.componentWillUnmount=function(){this.updatePasswordComplexityDebounceTimer.clear()},t.prototype.componentDidMount=function(){Object(C.k)(C.e.Signup,this.props.action)},t.prototype.componentDidUpdate=function(e){this.props.values.password===e.values.password&&this.props.values.username===e.values.username||(this.props.onSignupFormValuesChanged({passwordComplexity:Object(i.__assign)(Object(i.__assign)({},this.props.values.passwordComplexity),{type:z.a.Loading})}),this.updatePasswordComplexity()),e.serverErrors!==this.props.serverErrors&&this.props.serverErrors.usernameUnavailable&&this.preverifiedUsername&&Object(C.x)(C.e.Signup,this.props.values.username||"")},t.prototype.render=function(){return o.createElement("form",{"data-test-selector":"signup-form",noValidate:!0,onSubmit:this.onSubmit},o.createElement(Q.a,{background:J.a.Base,fullWidth:!0,flexDirection:k.e.Column,display:k.d.Flex},this.renderUsername(),this.renderPassword(),this.renderDateOfBirth(),this.renderEmail(),this.renderSignup(),this.renderCaptcha()))},t.prototype.renderUsername=function(){return o.createElement(w.a,{margin:{top:2}},o.createElement(L.a,{screen:C.e.Signup,onUsernameChanged:this.onUsernameInputChanged,onValidationRequested:this.onUsernameValidationRequested,value:this.props.values.username,errorMessage:this.props.values.usernameErrorMessage,validationState:this.props.serverErrors.usernameError?L.b.Invalid:this.props.values.usernameValidationState,autoFocus:!0,refDelegate:this.props.refDelegate,"data-a-target":"signup-username-input"}))},t.prototype.renderPassword=function(){return o.createElement(w.a,{margin:{top:2}},o.createElement(B.a,{screen:C.e.Signup,password:this.props.values.password,passwordConfirmation:this.props.values.passwordConfirmation,passwordComplexity:this.props.values.passwordComplexity,onChange:this.onPasswordInputChanged,onPasswordConfirmationChange:this.passwordConfirmationRequired?this.onPasswordConfirmationInputChanged:void 0,error:this.props.values.isPasswordInvalid||!!this.props.serverErrors.passwordError,passwordConfirmationError:this.props.values.isPasswordConfirmationInvalid,errorMessage:this.props.values.passwordErrorMessage,passwordConfirmationErrorMessage:this.props.values.passwordConfirmationErrorMessage,passwordConfirmationRequired:this.passwordConfirmationRequired}))},t.prototype.renderDateOfBirth=function(){return o.createElement(w.a,{margin:{top:2}},o.createElement(A,{date:this.props.values.birthdayDate,onBirthdayDateChange:this.onBirthdayDateChanged,onValidationRequested:this.onBirthdayDateValidationChange,dateValidation:this.props.values.birthdayValidation,serverError:!!this.props.serverErrors.birthdayError}))},t.prototype.renderEmail=function(){return o.createElement(w.a,{margin:{top:2}},o.createElement(R,{onEmailChanged:this.onEmailInputChanged,onValidationRequested:this.onEmailValidationRequested,value:this.props.values.email,validationState:this.props.serverErrors.emailError?N.Invalid:this.props.values.emailValidationState,errorMessage:this.props.values.emailErrorMessage}))},t.prototype.renderCaptcha=function(){return o.createElement(h.a,{enableABTest:!0,action:this.props.action,onCaptchaChanged:this.onCaptchaInputChanged,invisible:!0,refDelegate:this.onRecaptchaRefDelegate,signup:!0})},t.prototype.renderSignup=function(){var e=void 0===this.props.values.passwordComplexity||Object(z.c)(this.props.values.passwordComplexity);return o.createElement(w.a,{margin:{top:2}},o.createElement(w.a,{margin:{bottom:2},textAlign:k.l.Center},o.createElement(Z.a,{fontSize:J.d.Size7,color:J.c.Alt2},Object(s.d)("By clicking Sign Up, you are indicating that you have read and acknowledge the <x:tos>Terms of Service</x:tos> and <x:pp>Privacy Notice</x:pp>.",{"x:tos":function(e){return o.createElement($.a,{targetBlank:!0,tabIndex:-1,linkTo:"https://www.twitch.tv/p/legal/terms-of-service/"},e)},"x:pp":function(e){return o.createElement($.a,{targetBlank:!0,tabIndex:-1,linkTo:"https://www.twitch.tv/p/legal/privacy-policy/"},e)}},"SignupForm"))),o.createElement(ee.a,{disabled:this.props.isSubmitInTransit||e||!this.canSignup,state:this.props.isSubmitInTransit?ee.c.Loading:ee.c.Default,fullWidth:!0,"data-a-target":"passport-signup-button"},Object(s.d)("Sign Up","SignupForm")))},t.prototype.submit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this.canSignup?(Object(C.l)({screen:C.e.Signup,target:C.f.Signup,action:C.b.Enter}),[4,this.props.onSignupRequested()]):[3,2];case 1:e.sent(),this.recaptchaInstance&&this.recaptchaInstance.reset(),e.label=2;case 2:return[2]}}))}))},t}(o.Component),ne=Object(f.d)(Object(X.withLatencyTracking)("SignupForm",{autoReportInteractive:!0}),Object(K.a)())(te),re=n("D/1V"),ie=n("p46w"),ae=n("7M8a"),oe=n("8iZj"),se=n("ZxDf"),ce=new RegExp(/@(((([^.]+)\.)+)([a-zA-Z]{3,}|[a-zA-Z.]{5,}))/);function ue(e){if(!e)return"";var t=ce.exec(e);return null===t?"":t[1]}var de=n("GxR5"),le=n("ugtu"),pe=function(e,t){return function(n){switch(e){case oe.e.UserNameMissing:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{usernameError:!0},notice:{type:p.b.Alert,message:Object(s.d)("The username field is required.","AuthFormSignupError")}});case oe.e.PasswordMissing:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{passwordError:!0},notice:{type:p.b.Alert,message:Object(s.d)("The password field is required.","AuthFormSignupError")}});case oe.e.IncorrectCaptcha:return Object(i.__assign)(Object(i.__assign)({},n),{errors:{},step:ge.Form,captchaProof:void 0,values:Object(i.__assign)(Object(i.__assign)({},n.values),{captchaValue:void 0}),serverMessage:{message:Object(s.d)("That Captcha did not work. Please try again.","AuthFormSignupError")}});case oe.e.BlacklistedIP:return Object(i.__assign)(Object(i.__assign)({},n),{errors:{},step:ge.Form,serverMessage:{message:Object(s.d)("We've noticed suspicious activity from this IP address.","AuthFormSignupError")}});case oe.e.BlacklistedEmailDomain:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{emailError:!0},notice:{type:p.b.Alert,message:Object(s.d)('Emails using the domain "{domain}" are not allowed.',{domain:ue(t.email)},"AuthFormSignupError"),subMessage:Object(s.d)("Please try again with a different email address","AuthFormSignupError")}});case oe.e.InvalidBirthday:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{birthdayError:!0},notice:{type:p.b.Alert,message:Object(s.d)("That birthday doesn’t seem right.","AuthFormSignupError")}});case oe.e.InvalidUsername:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{usernameError:!0},notice:{type:p.b.Alert,message:Object(s.d)("This username submission is invalid.","AuthFormSignupError")}});case oe.e.InvalidPassword:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{passwordError:!0},notice:{type:p.b.Alert,message:Object(s.d)("Passwords must be between 8 and 71 characters.","AuthFormSignupError")}});case oe.e.MissingFields:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{},notice:{type:p.b.Alert,message:Object(s.d)("Some fields were missing.","AuthFormSignupError"),subMessage:Object(s.d)("Please complete all fields to continue.","AuthFormSignupError")}});case oe.e.UsernameExists:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{usernameError:!0,usernameUnavailable:!0},notice:{type:p.b.Alert,message:Object(s.d)("This username is unavailable.","AuthFormSignupError")}});case oe.e.UserUnder13:return ie.set("under13","true",se.a),Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{},notice:{type:p.b.Alert,message:Object(s.d)("Sorry, you must be at least 13 years old to create an account.","AuthFormSignupError"),subMessage:Object(s.d)("Please read our <x:link>terms of service</x:link>.",{"x:link":function(e){return Object(le.j)(e,de.d)}},"AuthFormSignupError")}});case oe.e.EmailThrottled:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{emailError:!0},notice:{type:p.b.Alert,message:Object(s.d)("This email has been used to create too many accounts in the last 24 hours.","AuthFormSignupError"),subMessage:Object(s.d)("Please try again with a different email address or try again tomorrow.","AuthFormSignupError")}});case oe.e.IPThrottled:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{},notice:{type:p.b.Alert,message:Object(s.d)("You are attempting to create accounts too quickly.","AuthFormSignupError"),subMessage:Object(s.d)("Please try again later.","AuthFormSignupError")},signupFormServerErrors:{}});case oe.e.TooManyUsersWithEmail:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{emailError:!0},notice:{type:p.b.Alert,message:Object(s.d)("This email is associated with too many accounts.","AuthFormSignupError"),subMessage:me()}});case oe.e.MultiAccountDisabled:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{emailError:!0},notice:{type:p.b.Alert,message:he(),subMessage:me()}});case oe.e.UsernameOffensive:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{usernameError:!0},notice:{type:p.b.Alert,message:he(),subMessage:Object(s.d)("This user name may be offensive and is not allowed.","AuthFormSignupError")}});case oe.e.FailedToDecodeJSON:case oe.e.UnexpectedIssue:default:return Object(i.__assign)(Object(i.__assign)({},n),{step:ge.Form,errors:{},notice:{type:p.b.Alert,message:t.localizedPassportError||Object(s.d)("Something went wrong.","AuthFormSignupError")}})}}};function he(){return Object(s.d)("Unable to create account.","AuthFormSignupError")}function me(){return Object(s.d)("Please use a different email to continue. <x:link>Click here</x:link> for more details.",{"x:link":function(e){return Object(le.j)(e,Object(ae.b)(ae.a.CreatingAccounts))}},"AuthFormSignupError")}function fe(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},function(e){if(e.step===ge.EmailVerification)return;return{header:{subheader:"",showCurrentUser:!1,header:Object(s.d)("Join Twitch today","AuthFormShellHeader")}}}(e)),function(e){return{notice:e.notice}}(e)),function(e){switch(e.step){case ge.Form:return{navigation:{}};default:return}}(e)),function(e,t){if(e.step===ge.Form)return{footer:{facebook:{screen:C.e.Signup,onConnected:t.onFacebookConnected}}};return}(e,t)),function(e,t){switch(e.step){case ge.FunCaptcha:return{backButton:{onClick:function(){return t.onGoBackButtonPressed&&t.onGoBackButtonPressed(ge.Form)}}};default:return}}(e,t))}var ge,be=c.a.wrap((function(){return Promise.all([n.e(0),n.e(45)]).then(n.bind(null,"ieph"))}),"EmailVerification",{placeholder:o.createElement(m.a,null)});!function(e){e.Form="Form",e.FunCaptcha="FunCaptcha",e.EmailVerification="EmailVerification"}(ge||(ge={}));var ve="EMAIL_VERIFICATION_END",ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={values:{},errors:{},step:ge.Form},t.eventEmitter=new a.EventEmitter,t.mandatoryEmailVerificationEnabled=Object(G.a)(),t.emit=function(e){return t.eventEmitter.emit(e)},t.wait=function(e){return new Promise((function(n){return t.eventEmitter.once(e,n)}))},t.onGoBackButtonPressed=function(e){t.setState({step:e,notice:void 0})},t.onFacebookConnected=function(e){t.props.updateContext({flow:re.a.Facebook,facebookInformations:{user:e,source:re.a.Signup}})},t.onSignupFunCaptcha=function(){t.setState({errors:{},notice:void 0,step:ge.FunCaptcha})},t.onEmailVerification=function(){t.emit(ve)},t.onValuesChanged=function(e){t.setState((function(t){return{values:Object(i.__assign)(Object(i.__assign)({},t.values),e),errors:{}}}))},t.onCaptchaChanged=function(e){t.setState((function(t){return{values:Object(i.__assign)(Object(i.__assign)({},t.values),{captchaValue:e})}}),t.signup)},t.signup=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r=this;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return this.props.updateContext({isSubmitInTransit:!0}),[4,Object(l.e)({email:this.state.values.email||"",captchaProof:this.state.captchaProof,captchaValue:this.state.values.captchaValue,username:this.state.values.username||"",password:this.state.values.password||"",birthday:Object(i.__assign)({day:0,month:0,year:0},this.state.values.birthdayDate)})];case 1:return(e=a.sent()).complete?(this.mandatoryEmailVerificationEnabled&&this.storeNewAccountLogin(),this.setState({step:ge.EmailVerification}),[4,e.complete({next:this.props.nextURL,onComplete:function(){return Object(i.__awaiter)(r,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.wait(ve)];case 1:return e.sent(),this.props.onAuthenticated?[4,this.props.onAuthenticated()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))}})]):[3,3];case 2:a.sent(),a.label=3;case 3:return this.props.updateContext({isSubmitInTransit:!1}),t=e.captchaProof,n=e.errorCode,t&&this.setState({captchaProof:t}),n&&this.setState(pe(n,{localizedPassportError:e.localizedPassportError,email:this.state.values.email})),s.o.track(d.SpadeEventType.SignupStep,{error_code:n,screen:this.stepToScreen(this.state.step)}),[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.componentDidMount(),this.props.onScreenChange(this.stepToScreen(this.state.step))},t.prototype.componentDidUpdate=function(e,t){this.state.step!==t.step&&this.props.onScreenChange(this.stepToScreen(this.state.step))},t.prototype.componentWillUnmount=function(){this.state.step===ge.EmailVerification&&(Object(C.r)(),setTimeout(this.onEmailVerification,0))},t.prototype.render=function(){var e=fe(this.state,{onFacebookConnected:this.onFacebookConnected,onGoBackButtonPressed:this.onGoBackButtonPressed});return o.createElement(Q.a,{display:k.d.Flex,padding:{x:2,y:3},background:J.a.Base,flexDirection:k.e.Column},o.createElement(be.Preload,null),o.createElement(p.a,Object(i.__assign)({},e),this.renderStep(this.state.step)))},t.prototype.renderStep=function(e){switch(e){case ge.Form:return o.createElement(ne,{action:this.props.action,values:this.state.values,serverErrors:this.state.errors,onSignupFormValuesChanged:this.onValuesChanged,onSignupRequested:this.signup,hasPassedCaptcha:!!this.state.values.captchaValue||!!this.state.captchaProof,onSignupFunCaptcha:this.onSignupFunCaptcha});case ge.FunCaptcha:return o.createElement(h.a,{enableABTest:!0,action:this.props.action,onCaptchaChanged:this.onCaptchaChanged,signup:this.state.step===ge.FunCaptcha});case ge.EmailVerification:return o.createElement(be,{onComplete:this.onEmailVerification,username:this.state.values.username||""});default:Object(u.a)(e)}},t.prototype.stepToScreen=function(e){switch(e){case ge.Form:return C.e.Signup;case ge.FunCaptcha:return C.e.Captcha;case ge.EmailVerification:return C.e.EmailVerification;default:return Object(u.a)(e)}},t.prototype.storeNewAccountLogin=function(){if(this.state.values.username){var e=s.m.get("recently_created_accounts",[]);e.push(this.state.values.username),s.m.set("recently_created_accounts",e)}},t}(o.Component),Ee=Object(re.d)((function(e){return{updateContext:e.updateContext}}))(ye);n.d(t,"Step",(function(){return ge})),n.d(t,"RECENTLY_CREATED_ACCOUNTS_KEY",(function(){return"recently_created_accounts"})),n.d(t,"SignupComponent",(function(){return ye})),n.d(t,"Signup",(function(){return Ee}))},RC89:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("tKDy"),o=n("dEDE"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){Object(a.l)({screen:t.props.screen,target:t.props.target,action:a.b.Click}),t.props.onClick&&t.props.onClick(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(o.a,Object(r.__assign)({},this.props,{onClick:this.onClick}))},t}(i.Component);n.d(t,"a",(function(){return s}))},T1dR:function(e,t,n){},TUb5:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("q1tI"),o=n("fvjX"),s=n("/7QA"),c=n("X0sf"),u=n("TSYQ"),d=n("XQbB"),l=n("Ws8v"),p=n("hnjF"),h=n("sUnt"),m=n("Z2sP"),f=n("7uM4"),g=n("C7sF"),b=n("+80q"),v=n("X2PJ");n("uVVX");!function(e){e.Invalid="invalid",e.Empty="empty",e.Weak="weak",e.Fair="fair",e.Strong="strong"}(r||(r={}));var y,E,S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e={"password-indicator":!0,"password-indicator--invalid":this.props.indicatorStrength===r.Invalid,"password-indicator--empty":this.props.indicatorStrength===r.Empty,"password-indicator--weak":this.props.indicatorStrength===r.Weak,"password-indicator--fair":this.props.indicatorStrength===r.Fair,"password-indicator--strong":this.props.indicatorStrength===r.Strong};return this.props.loading?a.createElement(d.a,{delay:0,size:d.b.Small}):a.createElement(l.a,{className:u(e),display:p.d.Flex,alignItems:p.b.Center},this.renderIcon(),this.renderDescription(),a.createElement(h.a,{className:"password-indicator__progress-bar"},a.createElement(m.a,{inherit:!0,value:this.props.indicatorProgress,mask:!0,size:m.c.Small})))},t.prototype.renderIcon=function(){var e;switch(this.props.indicatorStrength){case r.Invalid:e=a.createElement(f.a,{asset:g.a.NotificationError,type:f.b.Alert});break;case r.Weak:case r.Fair:e=a.createElement(f.a,{asset:g.a.NotificationWarning,type:f.b.Inherit});break;case r.Strong:e=a.createElement(f.a,{asset:g.a.NotificationSuccess,type:f.b.Success});break;case r.Empty:e=this.props.error?a.createElement(f.a,{asset:g.a.NotificationError,type:f.b.Alert}):null;break;default:e=null}return e?a.createElement(h.a,{margin:{right:.5},display:p.d.InlineFlex},e):null},t.prototype.renderDescription=function(){var e;switch(this.props.indicatorStrength){case r.Weak:e=Object(s.d)("Weak","PasswordStrengthIndicator");break;case r.Fair:e=Object(s.d)("Fair","PasswordStrengthIndicator");break;case r.Strong:e=Object(s.d)("Strong","PasswordStrengthIndicator");break;default:e=null}return e?a.createElement(h.a,{margin:{right:1},display:p.d.InlineFlex},a.createElement(b.a,{color:v.c.Inherit,bold:!0},e)):null},t}(a.Component),C=n("t94X"),w=n("kw6l"),k=n("D/1V"),O=n("rs8P"),j=n("FsIG"),_=n("tKDy"),F=n("3aAs"),I=n("vCsY"),D=n("7d/q"),T=(n("E3CR"),n("Jsra"));function x(e){return e<=1?Object(s.d)("That password is too easy to guess. <x:link>Learn more</x:link>",{"x:link":function(e){return a.createElement(T.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/creating-a-strong-password"},e)}},"PasswordInput"):e<=3?Object(s.d)("That password is good, but you can make it even better.","PasswordInput"):Object(s.d)("Great password! Only use it here to help protect your account.","PasswordInput")}function U(e){return e<=1?r.Invalid:2===e?r.Weak:3===e?r.Fair:r.Strong}function M(e){return e<=-1?0:0===e||1===e?25:2===e?50:3===e?75:100}n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return V})),function(e){e.CapsLockIndicator="password-input_caps-lock-indicator"}(y||(y={})),function(e){e[e.DefaultShowSuccess=0]="DefaultShowSuccess",e[e.DefaultHideSuccess=1]="DefaultHideSuccess",e[e.PasswordStrength=2]="PasswordStrength"}(E||(E={}));var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFocused:!1,isPasswordVisible:!1,hasPasswordManager:!1},t.findPasswordManager=function(){t.state.hasPasswordManager||(t.inputRef&&t.inputRef.style&&t.inputRef.style.backgroundImage?t.setState({hasPasswordManager:!0}):t.passwordManagerTimeout=window.setTimeout(t.findPasswordManager,1e3))},t.getInputRef=function(e){return t.inputRef=e},t.onPasswordInputBlur=function(){return t.setState({isFocused:!1})},t.onPasswordInputFocus=function(){return t.setState({isFocused:!0})},t.onPasswordInputChanged=function(e){return t.props.onChange(e.currentTarget.value)},t.toggleVisibility=function(e){e.nativeEvent.detail&&(e.preventDefault(),t.setState({isPasswordVisible:!t.state.isPasswordVisible}),t.inputRef&&t.inputRef.focus())},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"inputID",{get:function(){return this.props.target===_.f.PasswordConfirmation?"password-input-confirmation":"password-input"},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.findPasswordManager()},t.prototype.componentWillUnmount=function(){window.clearTimeout(this.passwordManagerTimeout)},t.prototype.render=function(){var e=this.props.isCapsLocked&&this.state.isFocused,t=this.renderValidationIndicator(),n=this.props.label?this.props.label:Object(s.d)("Password","AuthForm"),r=!!(this.props.error||this.props.passwordComplexity&&this.props.passwordComplexity.type===O.a.Success&&!1===this.props.passwordComplexity.isValid),o=this.getInfoMessage(),u=this.getErrorMessage(),d=this.state.hasPasswordManager?"password-input--manager-present":"";return a.createElement(c.a,{labelFor:this.inputID,label:n,error:!!u,hintMessage:o,errorMessage:u,hint:this.state.isFocused,validationComponent:t,labelClassName:"password-input__label"},a.createElement(h.a,{position:p.j.Relative,className:"password-input__container"},a.createElement(C.a,Object(i.__assign)({id:this.inputID,ariaLabel:this.props.ariaLabel,autoComplete:"current-password",screen:this.props.screen,target:this.props.target||_.f.Password,refDelegate:this.getInputRef,type:this.state.isPasswordVisible?F.c.Text:F.c.Password,onChange:this.onPasswordInputChanged,onBlur:this.onPasswordInputBlur,onFocus:this.onPasswordInputFocus,value:Object(j.b)(this.props.password),error:r},Object(I.a)(this.props))),a.createElement(l.a,{className:d,position:p.j.Absolute,display:p.d.Flex,alignItems:p.b.Center,color:v.c.OverlayAlt,attachRight:!this.state.hasPasswordManager,attachTop:!0,attachBottom:!0},e&&a.createElement(f.a,{asset:g.a.CapsLock,type:f.b.Inherit,"data-test-selector":y.CapsLockIndicator}),a.createElement(D.a,{icon:this.state.isPasswordVisible?g.a.VisibilityHidden:g.a.VisibilityShown,onClick:this.toggleVisibility,type:D.c.Secondary,size:D.b.Small,tabIndex:-1,ariaLabel:Object(s.d)("Toggle password visibility","PasswordInput")}))))},t.prototype.getInfoMessage=function(){if(this.props.passwordComplexity&&(this.props.passwordComplexity.type===O.a.Success||this.props.passwordComplexity.type===O.a.Loading)&&!0===this.props.passwordComplexity.isValid&&void 0!==this.props.passwordComplexity.score)return x(this.props.passwordComplexity.score)},t.prototype.getErrorMessage=function(){return!this.props.passwordComplexity||this.props.passwordComplexity.type!==O.a.Success&&this.props.passwordComplexity.type!==O.a.Loading||!1!==this.props.passwordComplexity.isValid||void 0===this.props.passwordComplexity.score?this.props.errorMessage?this.props.errorMessage:void 0:x(this.props.passwordComplexity.score)},t.prototype.renderValidationIndicator=function(){var e=this.props.validationIndicatorType;return e&&e===E.PasswordStrength?this.renderPasswordStrengthIndicator():this.renderValidIndicator()},t.prototype.renderValidIndicator=function(){return a.createElement(w.a,{options:{shouldShowValid:this.props.validationIndicatorType===E.DefaultShowSuccess&&this.props.isSuccess,shouldShowNone:!0!==this.props.error,shouldShowError:!0===this.props.error}})},t.prototype.renderPasswordStrengthIndicator=function(){var e=this.props,t=e.password,n=e.passwordComplexity;if(t&&n&&(n.type===O.a.Success||n.type===O.a.Loading)){var r=-1,i=!1;return n.type===O.a.Success&&(r=n.score,i=n.isValid),a.createElement(S,{error:!1===i,loading:n.type===O.a.Loading,indicatorProgress:M(r),indicatorStrength:U(r)})}},t}(a.Component),V=Object(o.d)(Object(k.d)((function(e){return{isCapsLocked:e.isCapsLocked}})))(P)},U3Tv:function(e,t,n){},VLV5:function(e,t,n){},X0sf:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("FsIG"),o=n("+80q"),s=n("X2PJ"),c=n("HSpZ"),u=n("sUnt"),d=n("hnjF"),l=n("Ws8v"),p=n("ghMw"),h=(n("ykwd"),function(e){return i.createElement(o.a,{type:o.e.P,fontSize:s.d.Size7,color:s.c.Alt2},e.hint)}),m=function(e){return i.createElement(o.a,{type:o.e.P,fontSize:s.d.Size7,color:s.c.Error},"*",e.errorMessage)},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputMessageHeight:null},t.setMessageContainerRef=function(e){return t.messageContainerRef=e},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if(e.hint!==this.props.hint||e.error!==this.props.error||e.hintMessage!==this.props.hintMessage||e.errorMessage!==this.props.errorMessage){var t=this.messageContainerRef&&this.messageContainerRef.getBoundingClientRect().height;t!==this.state.inputMessageHeight&&this.setState({inputMessageHeight:t})}},t.prototype.render=function(){var e=null,t=this.props.hintMessage&&!this.props.error,n=this.props.errorMessage;if(t?e=i.createElement(h,{hint:this.props.hintMessage}):n&&(e=i.createElement(m,{errorMessage:this.props.errorMessage})),e){var r=this.props.hint&&t||this.props.error&&n,o=this.props.skipGrowAnimation?void 0:"form-group-auth__animated-text",s=r&&this.state.inputMessageHeight?this.state.inputMessageHeight:void 0;e=i.createElement("div",{className:o,style:{height:s},"aria-live":"polite"},i.createElement(c.a,{type:c.f.FadeIn,duration:c.c.Long,delay:c.b.Short,enabled:!!r},i.createElement(u.a,{refDelegate:this.setMessageContainerRef,padding:{top:.5}},e)))}return i.createElement(u.a,null,i.createElement(u.a,{margin:{bottom:.5},display:d.d.Flex,alignItems:d.b.Center,className:this.props.labelClassName},i.createElement(l.a,{flexGrow:1},i.createElement(p.a,{id:this.props.labelFor,label:Object(a.b)(this.props.label)})),this.props.validationComponent),this.props.children,e)},t}(i.Component);n.d(t,"a",(function(){return f}))},"XkJ+":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.HumanTyping=250]="HumanTyping"}(r||(r={}))},YVDj:function(e){e.exports=JSON.parse('{"ar-sa":"DMY","bg-bg":"DMY","cs-cz":"DMY","da-dk":"DMY","de-de":"DMY","el-gr":"DMY","en-gb":"MDY","en-us":"MDY","es-es":"DMY","es-mx":"DMY","fi-fi":"DMY","fr-fr":"DMY","hi-in":"DMY","hu-hu":"YMD","it-it":"DMY","ja-jp":"YMD","ko-kr":"YMD","nl-nl":"DMY","no-no":"DMY","pl-pl":"DMY","pt-br":"DMY","pt-pt":"DMY","ro-ro":"DMY","ru-ru":"DMY","sk-sk":"DMY","sv-se":"YMD","th-th":"DMY","tr-tr":"DMY","vi-vn":"DMY","zh-tw":"YMD","zh-cn":"YMD"}')},YwXh:function(e,t,n){"use strict";var r=n("q1tI"),i=n("sUnt"),a=n("XQbB"),o=function(){return r.createElement(i.a,{padding:5},r.createElement(a.a,{fillContent:!0,size:a.b.Large}))};n.d(t,"a",(function(){return o}))},aod8:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("lZCe"),o=n("D7An"),s=n("L5Uv"),c=n("EQ2E"),u=n("imBb"),d=(n("VcSt"),n("D/1V")),l=n("/7QA"),p=n("ZS2+"),h=n("RC89"),m=n("tKDy"),f=n("sUnt"),g=n("+80q"),b=n("hnjF"),v=n("dEDE"),y=(n("OZnc"),p.a.wrap((function(){return Promise.resolve().then(n.bind(null,"EQ2E"))}),"Recaptcha")),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recaptchaInstance:void 0,captchaToken:null},t.onEnter=function(){t.state.captchaToken&&(Object(m.l)({screen:t.props.signup?m.e.SignupCaptcha:m.e.LoginCaptcha,target:m.f.Submit,action:m.b.Enter}),t.onContinue())},t.onContinue=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.state.captchaToken?[4,this.props.onCaptchaChanged(this.state.captchaToken)]:[2];case 1:return e.sent(),this.state.recaptchaInstance&&this.state.recaptchaInstance.reset(),this.setState({captchaToken:null}),[2]}}))}))},t.onCaptchaRefDelegate=function(e){t.setState({recaptchaInstance:e})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){u.bindGlobal("enter",this.onEnter)},t.prototype.componentWillUnmount=function(){u.unbind("enter")},t.prototype.render=function(){var e=this;return i.createElement(f.a,null,i.createElement(g.a,{type:g.e.Span,bold:!0},Object(l.d)("We need to make sure you're not a robot!","RecaptchaForm"))," ",i.createElement(g.a,{type:g.e.Span},Object(l.d)("Please complete the reCAPTCHA below.","RecaptchaForm")),i.createElement(f.a,{margin:2,alignItems:b.b.Center,display:b.d.Flex,justifyContent:b.h.Center,className:"recaptcha-form__recaptcha"},i.createElement(y,{screen:this.props.signup?m.e.SignupCaptcha:m.e.LoginCaptcha,refDelegate:this.onCaptchaRefDelegate,onChange:function(t){e.setState({captchaToken:t})}})),i.createElement(h.a,{screen:this.props.signup?m.e.SignupCaptcha:m.e.LoginCaptcha,target:m.f.Submit,fullWidth:!0,onClick:this.onContinue,disabled:this.props.isSubmitInTransit||!this.state.captchaToken,state:this.props.isSubmitInTransit?v.c.Loading:v.c.Default},Object(l.d)("Continue","RecaptchaForm")))},t}(i.Component),S=Object(d.d)((function(e){return{isSubmitInTransit:e.isSubmitInTransit}}))(E),C=n("oXDE"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={captchaInstance:void 0},t.renderCaptchaABTest=function(){var e={assignments:{fallback:t.renderReCaptcha,treatment:t.renderFunCaptcha},name:o.c.FunCaptchaExperiment};return i.createElement(a.a,Object(r.__assign)({},e))},t.renderFunCaptcha=function(){return t.props.invisible?null:i.createElement(s.b,{onCaptchaChanged:t.onFuncaptchaChanged,signup:t.props.signup})},t.renderReCaptcha=function(){return t.props.invisible?i.createElement(c.Recaptcha,{refDelegate:t.props.refDelegate,screen:t.props.signup?m.e.SignupCaptcha:m.e.LoginCaptcha,onChange:t.onRecaptchaChanged,invisible:!0}):i.createElement(f.a,{margin:{top:2}},i.createElement(S,{onCaptchaChanged:t.onRecaptchaChanged,signup:t.props.signup}))},t.onRecaptchaChanged=function(e){var n={type:C.b.Recaptcha,token:e||""};t.props.onCaptchaChanged(n)},t.onFuncaptchaChanged=function(e){var n={type:C.b.Funcaptcha,token:e||""};t.props.onCaptchaChanged(n)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){Object(m.k)(m.e.Captcha,this.props.action)},t.prototype.render=function(){return this.props.enableABTest?i.createElement(f.a,null,this.renderCaptchaABTest()):this.renderReCaptcha()},t}(i.Component);n.d(t,"a",(function(){return w}))},ffAx:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mrSG"),i=n("q1tI"),a=n("2Ygb"),o=n("D/1V"),s=function(e){return{isSubmitInTransit:e.isSubmitInTransit}};function c(){return function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getRefDelegate=function(t){e.ref=t},e.setFocus=function(){e.ref&&e.ref.focus()},e}return Object(r.__extends)(n,t),n.prototype.componentDidUpdate=function(e){e.isSubmitInTransit&&!this.props.isSubmitInTransit&&this.setFocus()},n.prototype.render=function(){var t={refDelegate:this.getRefDelegate};return i.createElement(e,Object(r.__assign)({},this.props,t))},n.displayName=Object(a.a)(n.name,e),n}(i.Component);return Object(o.d)(s)(t)}}},"g/Ny":function(e,t,n){},i0Jz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AuthShellHeader"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}],loc:{start:0,end:89}};n.loc.source={body:"query AuthShellHeader {\ncurrentUser {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.AuthShellHeader=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"AuthShellHeader")},ieph:function(e,t,n){"use strict";n.r(t);var r,i=n("mrSG"),a=n("q1tI"),o=n("fvjX"),s=n("/7QA"),c=n("yR8l"),u=n("geRD"),d=n("DMoW"),l=n("o0OK"),p=n("qnX0"),h=6;!function(e){e.ResendEmailButton="email-verification-code-form__resend-email-button",e.ResendEmailError="email-verification-code-form__resend-email-error"}(r||(r={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={verificationCode:"",lastCodeTried:null},t.onKeyDown=function(e){"Enter"!==e.key||t.isSubmitDisabled()||t.submit()},t.handleChange=function(e){isNaN(Number(e))||t.setState({verificationCode:e}),t.props.errorMessage&&t.props.resetErrorMessage()},t.submit=function(){t.setState({lastCodeTried:t.state.verificationCode}),t.props.verifyCode(t.state.verificationCode)},t.isSubmitDisabled=function(){var e=t.state.verificationCode;return e===t.state.lastCodeTried||e.length!==h||t.props.submittingCode},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(p.a,{codeLength:h,description:Object(s.d)("You may also tap the link in the email we sent you.","EmailVerificationCodeForm"),email:this.props.email,errorMessage:this.props.errorMessage,handleChange:this.handleChange,headerText:this.getHeaderText(),isSubmitDisabled:this.isSubmitDisabled(),messageSentText:Object(s.d)("Email sent!","EmailVerificationCodeForm"),onKeyDown:this.onKeyDown,onResend:this.props.resendEmail,onSubmit:this.submit,preventNewCodeRequest:this.props.preventNewCodeRequest,resendError:this.props.resendEmailError,loading:this.props.submittingCode,showClose:this.props.showClose,verificationRequired:this.props.verificationRequired})},t.prototype.getHeaderText=function(){return this.props.verificationRequired?Object(s.d)("Verify Your Email Address to Continue","EmailVerificationCodeForm"):Object(s.d)("Verify Your Email Address","EmailVerificationCodeForm")},t}(a.PureComponent),f=n("YwXh"),g=n("w09P");var b=n("sUnt"),v=n("hnjF"),y=n("7uM4"),E=n("C7sF"),S=n("+80q"),C=n("X2PJ"),w=n("XQbB"),k=n("ISp4"),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(u.i)(k,{},(function(e){return g(e,(function(e){return e.currentUser.isEmailVerified}),(function(){return!0}))})),setTimeout((function(){return e.props.onComplete()}),5e3)},t.prototype.render=function(){var e,t=this.props.username?Object(s.d)("Thanks for verifying your email address, {username}.",{username:this.props.username},"EmailVerificationCodeSuccess"):Object(s.d)("Thanks for verifying your email address.","EmailVerificationCodeSuccess");return a.createElement(b.a,{display:v.d.Flex,flexDirection:v.e.Column,alignItems:v.b.Center,justifyContent:v.h.Center,padding:{y:3,x:1}},a.createElement(y.a,{asset:E.a.NotificationSuccess,height:48,type:y.b.Success,width:48}),a.createElement(b.a,{padding:{x:1,y:2},textAlign:v.l.Center},a.createElement(S.a,{fontSize:C.d.Size3,bold:!0},t)),a.createElement(w.a,null),a.createElement(b.a,{padding:{top:1,x:.5}},a.createElement(S.a,{color:C.c.Alt2,fontSize:C.d.Size6},(0,(e=[function(){return Object(s.d)("Ensuring all the base are belong to us","EmailVerificationDelight")},function(){return Object(s.d)("Looking for where I put my wallet","EmailVerificationDelight")},function(){return Object(s.d)("Loading, feel free to dance.","EmailVerificationDelight")},function(){return Object(s.d)("Loading the memes...","EmailVerificationDelight")},function(){return Object(s.d)("Collecting all the pixels...","EmailVerificationDelight")},function(){return Object(s.d)("Loading, please wait or don't – up to you.","EmailVerificationDelight")},function(){return Object(s.d)("Please wait... Seeing who's streaming what...","EmailVerificationDelight")},function(){return Object(s.d)("Let's cherish this brief moment together.","EmailVerificationDelight")},function(){return Object(s.d)("Creating a custom theme song...","EmailVerificationDelight")},function(){return Object(s.d)("Looking at cat pics...","EmailVerificationDelight")},function(){return Object(s.d)("Starting a band...","EmailVerificationDelight")},function(){return Object(s.d)("Checking phone...","EmailVerificationDelight")},function(){return Object(s.d)("Releasing the kraken...","EmailVerificationDelight")},function(){return Object(s.d)("Finding keys...","EmailVerificationDelight")},function(){return Object(s.d)("Making a sandwich...","EmailVerificationDelight")},function(){return Object(s.d)("Exploring deep space...","EmailVerificationDelight")},function(){return Object(s.d)("Catching fireflies...","EmailVerificationDelight")},function(){return Object(s.d)("Questioning life choices...","EmailVerificationDelight")},function(){return Object(s.d)("Reticulating splines...","EmailVerificationDelight")},function(){return Object(s.d)("You must construct additional Pylons.","EmailVerificationDelight")},function(){return Object(s.d)("Painting happy little trees...","EmailVerificationDelight")},function(){return Object(s.d)("We used Splash. But nothing happened.","EmailVerificationDelight")},function(){return Object(s.d)("Whistling a tune...","EmailVerificationDelight")},function(){return Object(s.d)("It's dangerous to go alone! Take this.","EmailVerificationDelight")},function(){return Object(s.d)("Petting the corgis...","EmailVerificationDelight")}])[Math.floor(Math.random()*e.length)])())))},t}(a.PureComponent),j=n("tKDy"),_=n("NQ5/"),F=n("wTtO"),I=n("sTs6"),D="UNKNOWN",T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={verificationCodeSuccess:!1,submittingCode:!1,errorCode:null,preventNewCodeRequest:!1,resendEmailError:!1},t.resetError=function(){t.setState({errorCode:null})},t.handleErrorMessage=function(){switch(t.state.errorCode){case d.ld.INCORRECT_CODE:return Object(s.d)("Verification failed because provided code does not match.","EmailVerificationCodeErrors");case d.ld.TOO_MANY_FAILED_ATTEMPTS:return Object(s.d)("Too many wrong codes were entered. Please check your email for a new code.","EmailVerificationCodeErrors");case D:return Object(s.d)("Something went wrong.","EmailVerificationCodeErrors");default:return""}},t.resendTheEmail=function(){t.props.data&&t.props.data.currentUser&&t.props.data.currentUser.id&&t.props.data.currentUser.email&&(Object(j.t)(),t.setState({preventNewCodeRequest:!0}),t.emailSentTimeout=setTimeout((function(){t.setState({preventNewCodeRequest:!1})}),5e3),t.props.resendEmail(Object(u.a)({key:t.props.data.currentUser.id,address:t.props.data.currentUser.email})).then((function(){t.setState({resendEmailError:!1})})).catch((function(){t.setState({resendEmailError:!0})})))},t.handleSubmit=function(e){Object(j.n)();var n=t.props.data.currentUser?t.props.data.currentUser.id:void 0,r=t.props.data.currentUser?t.props.data.currentUser.email:void 0;if(!n||!r)throw new Error("User failed to load for email verification flow");t.setState({submittingCode:!0}),t.props.validateVerificationCode(Object(u.a)({code:e,key:n,address:r})).then((function(e){var n=e.data.validateVerificationCode;if(n){var r=n.request,i=n.error,a=r&&r.status?r.status:null,o=i&&i.code?i.code:null,s=!(a!==d.nd.VERIFIED),c=null;c=o===d.ld.INCORRECT_CODE||o===d.ld.TOO_MANY_FAILED_ATTEMPTS?o:D,t.setState({verificationCodeSuccess:s,errorCode:c,submittingCode:!1}),s?Object(j.p)(j.d.Code):c&&Object(j.o)(c)}})).catch((function(e){throw t.setState({submittingCode:!1}),new Error("Error for email verification: "+e)}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return!this.props.data.loading&&this.props.data.currentUser&&this.props.data.currentUser.id&&this.props.data.currentUser.email?this.state.verificationCodeSuccess?a.createElement(O,{username:this.props.username,onComplete:this.props.onComplete}):a.createElement(m,{email:this.props.data.currentUser.email,verifyCode:this.handleSubmit,submittingCode:this.state.submittingCode,errorMessage:this.handleErrorMessage(),resetErrorMessage:this.resetError,preventNewCodeRequest:this.state.preventNewCodeRequest,resendEmail:this.resendTheEmail,resendEmailError:this.state.resendEmailError,showClose:this.props.showClose,verificationRequired:this.props.verificationRequired}):a.createElement(f.a,null)},t.prototype.componentDidMount=function(){this.props.setSideContentVisibility(l.b.Hidden),Object(j.q)()},t.prototype.componentWillUnmount=function(){clearTimeout(this.emailSentTimeout)},t}(a.PureComponent),x=Object(o.d)(Object(l.c)((function(e){return{setSideContentVisibility:e.setSideContentVisibility}})),Object(c.a)(I,{name:"validateVerificationCode"}),Object(c.a)(F,{options:{fetchPolicy:"network-only"}}),Object(c.a)(_,{name:"resendEmail"}))(T);n.d(t,"UKNOWN_ERROR",(function(){return D})),n.d(t,"EmailVerificationPresentation",(function(){return T})),n.d(t,"EmailVerification",(function(){return x}))},joke:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("X0sf"),s=n("fvjX"),c=n("u5aL"),u=n("8Ad5"),d=n("eMVS"),l=n("rdCB"),p=n("o0OK"),h=n("FsIG"),m=n("tKDy"),f=n("sUnt"),g=n("hnjF"),b=n("uG/k"),v=n("+80q"),y=n("X2PJ"),E=n("i4Ys"),S=n("2rlx"),C=n("hCFK"),w=n("7uM4"),k=n("Jsra"),O=n("C7sF"),j=n("Ws8v"),_=n("bjr5"),F=n("xfJC"),I="https://passport.twitch.tv/api/v1/usernames/suggest";function D(e){return void 0===e&&(e=""),Object(r.__awaiter)(this,void 0,Promise,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,fetch(I+"?username="+e)];case 1:if(200!==(t=n.sent()).status)throw Error("username suggestions - expected status 200 got "+t.status);return[4,t.json()];case 2:return[2,n.sent().suggested_usernames]}}))}))}n("uBLH");var T,x=n("2xye"),U=n("4rCz"),M=function(e){U.p.track(x.SpadeEventType.SuggestedUsernameSeen,{username_count:e})},P=function(e){return Object(m.l)({screen:m.e.Signup,target:m.f.SuggestedUsernames,action:e})},V=function(){return P(m.b.Enter)},N=function(){return P(m.b.Click)},A=-1,R="https://static-cdn.jtvnw.net/emoticons/v1/58765/1.0";!function(e){e.RefreshLink="suggest-username-tray__link",e.NoResults="suggest-username-tray__no-results-container",e.Results="suggest-username-tray__results-container",e.Tray="suggested-username-tray-component"}(T||(T={}));var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={suggestionSelected:!1,showSuggestedUsernameTray:!1,showDescriptionInForm:!1,loading:!1,suggestedUsernames:void 0,inputMessageHeight:null},t.onClickOut=function(){t.toggleUsernameTray(!1)},t.onInputClick=function(){t.toggleUsernameTray(!0)},t.onChange=function(e){var n=e.currentTarget.value;t.props.onUsernameUpdated(n,(function(){return t.loadSuggestedUsernames()}))},t.saveTrayRef=function(e){return t.trayRef=e},t.toggleUsernameTray=function(e){t.setState({showSuggestedUsernameTray:e})},t.showTray=function(){return!!(t.props.unusableUsernameValue&&t.state.showSuggestedUsernameTray&&t.state.suggestedUsernames&&t.state.suggestedUsernames.length>0)},t.loadSuggestedUsernames=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){return!this.state.loading&&this.props.unusableUsernameValue&&this.props.username&&this.props.username.length&&this.setState({loading:!0},(function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,t,n,i=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:e=[],t=!0,n=Object(h.b)(this.props.username),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,D(n)];case 2:return e=r.sent(),[3,5];case 3:return r.sent(),t=!1,[3,5];case 4:return requestAnimationFrame((function(){return i.setState({loading:!1,showSuggestedUsernameTray:t,suggestedUsernames:e},(function(){i.state.suggestedUsernames&&M(i.state.suggestedUsernames.length)}))})),[7];case 5:return[2]}}))}))})),[2]}))}))},t.onKeyDown=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:switch(t=e.charCode||e.keyCode,t){case u.a.Tab:return[3,1];case u.a.Enter:return[3,2];case u.a.Esc:return[3,5]}return[3,6];case 1:return this.toggleUsernameTray(!1),[3,7];case 2:return(n=this.getHighlightedIndex())>A&&this.state.suggestedUsernames?(this.toggleUsernameTray(!1),[4,this.props.onUsernameUpdated(this.state.suggestedUsernames[n],void 0,!0)]):[3,4];case 3:r.sent(),V(),r.label=4;case 4:return[3,7];case 5:return this.toggleUsernameTray(!1),[3,7];case 6:return[2];case 7:return this.resetHighlightedIndex(),[2]}}))}))},t.getHighlightedIndex=function(){return t.trayRef.getHighlightedIndex()},t.resetHighlightedIndex=function(){t.trayRef&&t.trayRef.setHighlightedIndex(A)},t.setMessageContainerRef=function(e){return t.messageContainerRef=e},t.renderNoResults=function(){return i.createElement(f.a,{"data-test-selector":T.NoResults,display:g.d.InlineFlex,flexDirection:g.e.Row,alignItems:g.b.Center,padding:1},i.createElement(f.a,{display:g.d.InlineFlex,flexGrow:1,alignItems:g.b.Center},i.createElement(b.a,{src:R,alt:Object(a.d)("No results found","SuggestUsernameTray")})),i.createElement(f.a,{padding:{left:2}},i.createElement(v.a,{fontSize:y.d.Size6},Object(a.d)("You broke us - sorry but it looks like you’ll have to do this on your own","SuggestUsernameTray"))))},t.renderUsernames=function(){var e=t.state.suggestedUsernames;if(!e||!e.length)return null;if(e){return i.createElement(S.a,{"data-test-selector":T.Results,transitionType:C.c.SlideOverTop,duration:C.b.Short},e.map((function(e){return i.createElement(l.c,{key:e,interactableProps:{borderRadius:y.b.Medium,onClick:function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return n.stopPropagation(),this.toggleUsernameTray(!1),this.trayRef&&this.trayRef.focusInput(),[4,this.props.onUsernameUpdated(e,void 0,!0)];case 1:return t.sent(),N(),[2]}}))}))},type:E.b.Inverted}},i.createElement(f.a,{padding:.5},e))})))}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.state.suggestedUsernames||this.loadSuggestedUsernames()},t.prototype.componentDidUpdate=function(e,t){var n=this;t.loading!==this.state.loading&&this.props.onLoadingStateChange(this.state.loading),t.showSuggestedUsernameTray&&!this.state.showSuggestedUsernameTray?setTimeout((function(){return n.props.setIgnoreEscKey(!1)}),0):!t.showSuggestedUsernameTray&&this.state.showSuggestedUsernameTray&&this.props.setIgnoreEscKey(!0),!e.isFocused&&this.props.isFocused?this.toggleUsernameTray(!0):this.props.errorMessage||this.props.isFocused||!this.state.showDescriptionInForm||this.setState({showDescriptionInForm:!1}),!this.props.errorMessage&&!this.props.isFocused||this.showTray()||this.state.showDescriptionInForm||this.setState({showDescriptionInForm:!0});var r=this.messageContainerRef&&this.messageContainerRef.getBoundingClientRect().height;r!==this.state.inputMessageHeight&&this.setState({inputMessageHeight:r})},t.prototype.render=function(){var e=this.props.disableRefreshButton||this.state.loading,t=e?w.b.Alt:w.b.Brand,n=i.createElement(k.a,{"data-test-selector":T.RefreshLink,onClick:this.loadSuggestedUsernames,disabled:e},i.createElement(w.a,{asset:O.a.Refresh,type:t})),o=!this.state.loading&&this.state.suggestedUsernames&&0===this.state.suggestedUsernames.length?this.renderNoResults():this.renderUsernames();return i.createElement(c.a,{onClickOut:this.onClickOut},i.createElement(f.a,{className:"suggest-username-tray"},i.createElement(d.a,{"data-test-selector":T.Tray,showTray:this.showTray(),ref:this.saveTrayRef,inputProps:Object(r.__assign)({onKeyDown:this.onKeyDown,onChange:this.onChange,onClick:this.onInputClick},this.props.inputProps)},i.createElement(j.a,{attachRight:!0,position:g.j.Absolute,padding:{right:.5,top:.5}},n),i.createElement(f.a,{padding:{right:2,y:.5,left:.5}},this.renderMessage()),i.createElement(f.a,{padding:.5},i.createElement(v.a,{lineHeight:v.b.Heading,bold:!0},Object(a.d)("Some Suggestions:","SuggestUsernameTray"))),o),this.renderFormMessage()))},t.prototype.renderFormMessage=function(){var e=(this.props.errorMessage||this.props.isFocused)&&this.state.inputMessageHeight?this.state.inputMessageHeight:void 0;return i.createElement("div",{className:"form-group-auth__animated-text",style:{height:e}},i.createElement(C.a,{show:this.state.showDescriptionInForm,type:C.c.SlideOverTop,duration:C.b.Long,alwaysRenderChild:this.props.isFocused},i.createElement(f.a,{refDelegate:this.setMessageContainerRef,padding:{x:.5}},this.renderMessage())))},t.prototype.renderMessage=function(){var e=this.props.errorMessage;return e&&e.length?i.createElement(_.a,{errorMessage:Object(h.b)(e)}):i.createElement(F.a,{hint:Object(h.b)(this.props.hintMessage)})},t}(i.PureComponent);var L,q=Object(s.d)(Object(p.c)((function(e){return{setIgnoreEscKey:e.setIgnoreEscKey}})))(B),G=n("t94X"),z=n("kw6l"),Y=n("2+Za"),W=n("3aAs"),H=n("vCsY");!function(e){e.Valid="Valid",e.Invalid="Invalid"}(L||(L={}));var K="signup-username",X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isTyping:!1,isFocused:!1,showLoadingSpinner:!1},t.inSuggestedUsernameExperiment=Object(Y.c)(),t.hintMessage=function(){return Object(a.d)("This is the name people will know you by on Twitch. You can always change it later.","SignupUsernameFormGroup")},t.renderSuggestUsernameTray=function(){var e={id:K,autoFocus:t.props.autoFocus,value:t.props.value||"",error:!!t.props.errorMessage,type:W.c.Text,onFocus:t.onUsernameFocus,onBlur:t.onUsernameBlur};return i.createElement(q,{errorMessage:t.props.errorMessage,hintMessage:t.hintMessage(),unusableUsernameValue:t.isInvalid,username:t.props.value,onUsernameUpdated:t.onUsernameUpdated,isFocused:t.state.isFocused,onLoadingStateChange:t.onSuggestedUsernameLoading,disableRefreshButton:t.isLoading(),inputProps:e})},t.isLoading=function(){return t.state.showLoadingSpinner||t.state.isTyping},t.onSuggestedUsernameLoading=function(e){e!==t.state.showLoadingSpinner&&t.setState({showLoadingSpinner:e})},t.onUsernameUpdated=function(e,n,i){t.setState({isTyping:!0}),t.inputTimer&&(clearTimeout(t.inputTimer),t.inputTimer=0),t.inputTimer=setTimeout((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.onValidationRequested(i)];case 1:return e.sent(),n&&n(),this.setState({isTyping:!1}),this.inputTimer=0,[2]}}))}))}),500),t.props.onUsernameChanged(e)},t.onChange=function(e){t.onUsernameUpdated(e.currentTarget.value)},t.onUsernameBlur=function(){t.setState({isFocused:!1,skipGrowAnimation:!1}),t.inSuggestedUsernameExperiment&&t.trackAuthInteraction({isFocusing:!1})},t.onUsernameFocus=function(){t.setState({isFocused:!0}),t.inSuggestedUsernameExperiment&&t.trackAuthInteraction({isFocusing:!0})},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.props.validationState===L.Invalid},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.setState({isFocused:!!this.props.autoFocus,skipGrowAnimation:!(this.inSuggestedUsernameExperiment||!this.props.autoFocus)})},t.prototype.componentWillUnmount=function(){this.inputTimer&&clearTimeout(this.inputTimer)},t.prototype.render=function(){return i.createElement(o.a,{labelFor:K,error:this.isInvalid,label:Object(a.d)("Username","SignupUsernameFormGroup"),validationComponent:this.renderValidIndicator(),errorMessage:this.inSuggestedUsernameExperiment?void 0:this.props.errorMessage,hintMessage:this.inSuggestedUsernameExperiment?void 0:this.hintMessage(),hint:!this.inSuggestedUsernameExperiment&&this.state.isFocused,skipGrowAnimation:this.state.skipGrowAnimation},this.renderInput())},t.prototype.renderTrackedInput=function(){return i.createElement(G.a,Object(r.__assign)({id:K,ariaLabel:Object(a.d)("Create a username","AuthForm"),screen:this.props.screen,target:m.f.Username,type:W.c.Text,onChange:this.onChange,value:Object(h.b)(this.props.value),error:this.isInvalid,onFocus:this.onUsernameFocus,onBlur:this.onUsernameBlur,refDelegate:this.props.refDelegate,autoFocus:this.props.autoFocus},Object(H.a)(this.props)))},t.prototype.renderInput=function(){return this.inSuggestedUsernameExperiment?this.renderSuggestUsernameTray():this.renderTrackedInput()},t.prototype.renderValidIndicator=function(){var e={shouldShowLoading:this.isLoading(),shouldShowNone:!this.props.validationState,shouldShowError:this.props.validationState===L.Invalid,shouldShowValid:this.props.validationState===L.Valid};return i.createElement(z.a,{options:e})},t.prototype.trackAuthInteraction=function(e){var t=e.isFocusing;Object(m.l)({screen:this.props.screen,target:m.f.Username,action:t?m.b.Focus:m.b.Blur})},t}(i.PureComponent);n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return X}))},kw6l:function(e,t,n){"use strict";var r=n("q1tI"),i=n("XQbB"),a=n("7uM4"),o=n("C7sF"),s=function(e){return e.options.shouldShowLoading?r.createElement(i.a,{delay:0,size:i.b.Small}):e.options.shouldShowError?r.createElement(a.a,{asset:o.a.NotificationError,type:a.b.Alert,width:18,height:18}):e.options.shouldShowValid?r.createElement(a.a,{asset:o.a.NotificationSuccess,type:a.b.Success,width:18,height:18}):null};n.d(t,"a",(function(){return s}))},maHM:function(e,t,n){},n4RV:function(e,t,n){},oXDE:function(e,t,n){"use strict";var r,i;function a(e){return"string"!=typeof e&&e.type===i.Funcaptcha}function o(e){return"string"==typeof e||e.type===i.Recaptcha}function s(e){return"string"==typeof e?e:e.token}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),function(e){e.None="None",e.Passed="Passed",e.Proved=" Proved"}(r||(r={})),function(e){e.Funcaptcha="Funcaptcha",e.Recaptcha="Recaptcha"}(i||(i={}))},pnJH:function(e,t,n){"use strict";n.r(t),n.d(t,"EmailVerificationManager",(function(){return f}));var r=n("cr+I"),i=n("q1tI"),a=n("/MKj"),o=n("Ty5D"),s=n("/7QA"),c=n("eirU"),u=n("XDCx"),d=n("kRBY"),l=n("Qu/Q"),p=n("4v8+"),h=n("ISp4"),m=n("2+Za");var f=function(){var e=Object(o.i)(),t=Object(a.d)(d.f),n=Object(a.c)(),f=Object(c.b)(h,{skip:!t}),g=f.loading,b=f.data,v=r.parse(e.search);return i.useEffect((function(){var t,r,i,a,o;!v.emailOpaqueID&&!g&&!1===(null===(r=null===(t=b)||void 0===t?void 0:t.currentUser)||void 0===r?void 0:r.isEmailVerified)&&((o=null===(a=null===(i=b)||void 0===i?void 0:i.currentUser)||void 0===a?void 0:a.login)&&s.m.get(l.RECENTLY_CREATED_ACCOUNTS_KEY,[]).find((function(e){return e===o})))&&Object(m.a)()&&("/settings/security"===e.pathname?n(Object(u.d)()):n(Object(u.e)(p.a,{username:b.currentUser.login,verificationRequired:!0})))}),[v.emailOpaqueID,g,e,b,n]),null}},qV8A:function(e,t,n){},qnX0:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("fvjX"),s=n("XDCx"),c=n("y5D0"),u=n("4rCz"),d=n("OLPY"),l=n("zm+I"),p=n("+80q"),h=n("76Xh"),m=n("Ws8v"),f=n("X2PJ"),g=n("hnjF"),b=n("sUnt"),v=n("GsKU"),y=n("1/wt"),E=n("Jsra"),S=n("PCM+"),C=n("dEDE"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onLogoutClick=function(){t.props.logout()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.email?i.createElement(p.a,{type:p.e.Span,bold:!0},this.props.email):i.createElement(d.a,{type:p.e.Span,bold:!0,phoneNumber:this.props.phoneNumber||""}),n=this.props.showClose?i.createElement(h.a,{title:this.props.headerText,closeButton:{ariaLabel:Object(u.d)("Close Verification","VerificationCodeModal"),onClick:this.props.closeModal}}):i.createElement(h.a,{title:this.props.headerText});return i.createElement(m.a,{borderRadius:f.b.Medium,overflow:g.i.Hidden},n,i.createElement(b.a,{padding:{x:4,y:1}},i.createElement(p.a,{bold:!0,fontSize:f.d.Size4}," ",Object(u.d)("Enter your verification code","VerificationCodeModal")),i.createElement(b.a,{margin:{top:1,bottom:2}},i.createElement(p.a,{color:f.c.Alt,fontSize:f.d.Size5,"data-test-selector":"verification-modal-confirmation-message"},Object(u.d)("We sent a {codeLength}-digit code to {contact}. Confirm it belongs to you to keep your account secure.",{codeLength:this.props.codeLength,contact:t},"VerificationCodeModal"))),this.props.errorMessage&&i.createElement(b.a,{margin:{bottom:2}},i.createElement(v.a,{type:y.a.Error,message:{title:Object(u.d)("Verification failed","VerificationCodeModal"),description:this.props.errorMessage}})),i.createElement(l.a,{ariaLabel:Object(u.d)("Verification code input","VerificationCodeModal"),error:!!this.props.errorMessage,maxLength:this.props.codeLength,onChange:this.props.handleChange,onKeyDown:this.props.onKeyDown,onSubmit:this.props.onSubmit,verificationInputType:l.b.Numeric}),i.createElement(b.a,{margin:{top:1,bottom:2}},i.createElement(E.a,{onClick:this.props.onResend,disabled:this.props.preventNewCodeRequest,"data-test-selector":"verification-modal-resend"},this.props.preventNewCodeRequest?this.props.messageSentText:Object(u.d)("Resend code","VerificationCodeModal")),this.props.resendError&&i.createElement(p.a,{color:f.c.Error,"data-test-selector":"verification-modal-resend-error"},Object(u.d)("Something went wrong. Please try again.","VerificationCodeModal")),this.props.verificationRequired&&i.createElement(b.a,{margin:{top:1}},i.createElement(p.a,null,Object(u.d)("Not your account? <x:logout>Log out</x:logout>",{"x:logout":function(t){return i.createElement(E.a,{"data-test-selector":"verification-modal-logout-link",onClick:e.onLogoutClick},t)}},"VerificationCodeModal"))),i.createElement(b.a,{margin:{top:1}},i.createElement(p.a,null,Object(u.d)("Update email? <x:updateEmail>Go to settings</x:updateEmail>",{"x:updateEmail":function(e){return i.createElement(E.a,{to:"/settings/security"},e)}},"VerificationCodeModal")))),i.createElement(p.a,{color:f.c.Alt2,fontSize:f.d.Size6,"data-test-selector":"verification-modal-description"},this.props.description)),i.createElement(S.a,{primaryButtonProps:{ariaLabel:Object(u.d)("Submit and verify","VerificationCodeModal"),children:Object(u.d)("Submit","VerificationCodeModal"),disabled:this.props.isSubmitDisabled,onClick:this.props.onSubmit,state:this.props.loading?C.c.Loading:C.c.Default},secondaryButtonProps:this.props.secondaryButtonText?{ariaLabel:Object(u.d)("Cancel","VerificationCodeModal"),children:this.props.secondaryButtonText,onClick:this.props.closeModal}:void 0}))},t}(i.Component);var k=Object(a.b)(null,(function(e){return Object(o.b)({closeModal:s.d,logout:c.f},e)}))(w)},rACw:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("/7QA"),i=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);function a(e){return!!e&&i.test(e)}function o(e){if(!a(e))return Object(r.d)("Please enter a valid email.","EmailValidator")}},rs8P:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r,i=n("mrSG"),a="https://passport.twitch.tv/api/v1/password_strength";function o(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,fetch(a,{method:"POST",credentials:"include",body:JSON.stringify({password:e,username:t})})];case 1:if(200!==(n=i.sent()).status)throw Error("expected status 200 got "+n.status);return[4,n.json()];case 2:return(o=i.sent()).type=r.Success,[2,o]}}))}))}function s(e){switch(e.type){case r.Success:return!1===e.isValid;case r.Errored:return!1;case r.Loading:default:return!0}}!function(e){e.Success="success",e.Loading="loading",e.Errored="errored"}(r||(r={}))},rwum:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n("mrSG"),i=n("/7QA"),a=n("1txG"),o=new RegExp(/^[A-Za-z0-9][A-Za-z0-9_]*$/),s=4,c=25;function u(e){return d(e)&&l(e)}function d(e){return e.length>=s&&e.length<=c}function l(e){return o.test(e)}function p(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(!e)return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i.p.apollo.client.query({query:a,variables:{username:e}})];case 2:return[2,(t=n.sent()).data&&!t.data.isUsernameAvailable];case 3:return n.sent(),[2,!1];case 4:return[2]}}))}))}function h(e,t){return e&&d(e)?l(e)?t?Object(i.d)("This username is unavailable.","SignupUsernameFormGroup"):"":Object(i.d)("Usernames must only contain alphanumeric characters.","SignupUsernameFormGroup"):Object(i.d)("Usernames must be between 4 and 25 characters.","SignupUsernameFormGroup")}},sTs6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ValidateVerificationCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ValidateVerificationCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validateVerificationCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"request"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};n.loc.source={body:"mutation ValidateVerificationCode($input: ValidateVerificationCodeInput!) {\nvalidateVerificationCode(input: $input) {\nerror {\ncode\n}\nrequest {\nstatus\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ValidateVerificationCode=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ValidateVerificationCode")},t6bU:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PhoneNumber_CountryCode"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query PhoneNumber_CountryCode {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.PhoneNumber_CountryCode=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PhoneNumber_CountryCode")},t94X:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("tKDy"),o=n("3aAs"),s=(n("T1dR"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFocus=function(e){t.existingFocus=!0,t.trackAuthInteraction({isFocusing:!0}),t.props.onFocus&&t.props.onFocus(e)},t.onBlur=function(e){t.existingFocus&&(t.existingFocus=!1,t.trackAuthInteraction({isFocusing:!1})),t.props.onBlur&&t.props.onBlur(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(o.a,Object(r.__assign)({},this.props,{onFocus:this.onFocus,onBlur:this.onBlur}))},t.prototype.componentWillUnmount=function(){this.existingFocus&&this.trackAuthInteraction({isFocusing:!1})},t.prototype.trackAuthInteraction=function(e){var t=e.isFocusing;Object(a.l)({screen:this.props.screen,target:this.props.target,action:t?a.b.Focus:a.b.Blur})},t}(i.Component));n.d(t,"a",(function(){return s}))},tip7:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("/7QA"),i=8,a=71;function o(e){return e.length>=i&&e.length<=a}function s(e){return e.length<i?Object(r.d)("Passwords must be at least 8 characters long.","PasswordValidator"):e.length>a?Object(r.d)("Passwords must be shorter than 72 characters.","PasswordValidator"):void 0}function c(e,t){if(t&&t!==e)return Object(r.d)("Passwords do not match. Please try again","SignupPasswordFormGroup")}},uBLH:function(e,t,n){},uVVX:function(e,t,n){},ugtu:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return b}));var r=n("q1tI"),i=n("/7QA"),a=(n("+80q"),n("Jsra")),o=n("GxR5");function s(e,t){return r.createElement(a.a,{to:t,targetBlank:!0},e)}function c(e,t){return r.createElement(a.a,{onClick:t},e)}function u(){return Object(i.d)("<x:link>Forgot your username</x:link>?",{"x:link":function(e){return s(e,o.b)}},"ServerMessage")}function d(){return Object(i.d)("<x:link>Forgot your password</x:link>?",{"x:link":function(e){return s(e,o.b)}},"ServerMessage")}function l(){return Object(i.d)("Please <x:link>reset your password</x:link>.",{"x:link":function(e){return s(e,o.b)}},"ServerMessage")}function p(){return Object(i.d)("Please <x:link>contact support</x:link> for assistance.",{"x:link":function(e){return s(e,o.a)}},"ServerMessage")}function h(){return Object(i.d)("To learn more, please read <x:link>this article</x:link>.",{"x:link":function(e){return s(e,o.c)}},"ServerMessage")}function m(e){return Object(i.d)("Want to <x:click>create a new account</x:click>?",{"x:click":function(t){return c(t,e)}},"ServerMessage")}function f(e){return Object(i.d)("Want to <x:click>log in</x:click> instead?",{"x:click":function(t){return c(t,e)}},"ServerMessage")}function g(e){return Object(i.d)("If you need a Twitch account, you can <x:click>create one here</x:click>.",{"x:click":function(t){return c(t,e)}},"ServerMessage")}function b(e){return e?Object(i.d)("That password was incorrect. Please try again. It looks like your caps lock was on.","ServerMessage"):Object(i.d)("That password was incorrect. Please try again.","ServerMessage")}},utV1:function(e,t,n){"use strict";n.r(t);var r,i,a=n("mrSG"),o=n("uhBA"),s=n("q1tI"),c=n("/MKj"),u=n("/7QA"),d=n("kRBY"),l=n("L5Uv"),p=n("tKDy"),h=n("sUnt"),m=n("hnjF"),f=n("XQbB"),g=n("+80q"),b=n("X2PJ");n("5dpd");!function(e){e.ON_COMPLETE="onComplete",e.ON_SHOWN="onShown",e.ON_SUPPRESSED="onSuppressed"}(r||(r={})),function(e){e.SIGNUP="funcaptcha-signup-script",e.LOGIN="funcaptcha-login-script"}(i||(i={}));var v=new o.EventEmitter,y=new Map,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0,arkoseToken:null},t.getArkose=function(){return y.get(t.props.script.id)},t.setArkose=function(e){y.set(t.props.script.id,e)},t.isScriptPresent=function(){return document.querySelector(t.scriptSelector())},t.scriptSelector=function(){return"#"+t.scriptElementID()},t.scriptElementID=function(){return"funcaptcha-client-script"},t.onComplete=function(){var e=t.getArkose();if(!e)throw new Error("on complete emitted on unfindable arkose instance ...");Object(p.l)({target:p.f.Captcha,screen:t.props.script===l.a?p.e.SignupCaptcha:p.e.LoginCaptcha,action:p.b.Complete});var n=e.getSessionToken();t.setState({arkoseToken:n}),t.props.onChange(n)},t.onSuppressed=function(){t.setState({loading:!0})},t.onShown=function(){t.setState({loading:!1})},t.appendScript=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e=this;return Object(a.__generator)(this,(function(t){return this.isScriptPresent()?[2,Promise.resolve()]:[2,new Promise((function(t){window.loadChallenge=function(){window.loadChallenge=void 0,t()};var n=document.createElement("script");n.src="https://client-api.arkoselabs.com/fc/api/?onload=loadChallenge",n.async=!0,n.defer=!0,n.id=e.scriptElementID(),document.body.appendChild(n)}))]}))}))},t.initialize=function(){var e=t.getArkose();e?e.refresh_session():(window.ae=void 0,t.setArkose(new ArkoseEnforcement({target_html:"ARKOSECAPTCHA",language:t.props.languageCode,public_key:t.props.script.publicKey,callback:function(){return v.emit(r.ON_COMPLETE)},onsuppress:function(){return v.emit(r.ON_SUPPRESSED)},onshown:function(){return v.emit(r.ON_SHOWN)}})))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;v.addListener(r.ON_COMPLETE,this.onComplete),v.addListener(r.ON_SUPPRESSED,this.onSuppressed),v.addListener(r.ON_SHOWN,this.onShown),this.appendScript().then((function(){return e.initialize()}))},t.prototype.componentWillUnmount=function(){v.removeListener(r.ON_COMPLETE,this.onComplete),v.removeListener(r.ON_SUPPRESSED,this.onSuppressed),v.removeListener(r.ON_SHOWN,this.onShown)},t.prototype.render=function(){return s.createElement(s.Fragment,null,this.state.loading&&s.createElement(h.a,{display:m.d.Flex,flexDirection:m.e.Column,alignItems:m.b.Center,justifyContent:m.h.Center},s.createElement(f.a,{delay:0,size:f.b.Large}),s.createElement(h.a,{padding:{top:1,x:.5}},s.createElement(g.a,{color:b.c.Alt2,fontSize:b.d.Size6},Object(u.d)("We're making sure you're not a bot!","Funcaptcha")))),s.createElement(h.a,{margin:{top:2}},s.createElement("div",{id:"ARKOSECAPTCHA"})))},t}(s.Component);var S=Object(c.b)((function(e){return{languageCode:Object(d.b)(e)}}))(E);n.d(t,"FunCaptcha",(function(){return S})),n.d(t,"FunCaptchaComponent",(function(){return E})),n.d(t,"PublicProps",(function(){})),n.d(t,"Props",(function(){})),n.d(t,"State",(function(){})),n.d(t,"FunCaptchaScript",(function(){})),n.d(t,"FunCaptchaScriptType",(function(){return i}))},w7VI:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("TUb5"),s=n("tKDy"),c=n("sUnt"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(o.a,{ariaLabel:Object(a.d)("Create a secure password","AuthForm"),"data-a-target":"signup-password-input",onChange:this.props.onChange,screen:this.props.screen,error:this.props.error,errorMessage:this.props.errorMessage,password:this.props.password,passwordComplexity:this.props.passwordComplexity,hintMessage:Object(a.d)("Strong passwords include a mix of lower case letters, upper case letters, and special characters.","SignupPasswordFormGroup"),target:s.f.Password,validationIndicatorType:o.b.PasswordStrength}),this.props.passwordConfirmationRequired&&this.props.onPasswordConfirmationChange&&i.createElement(c.a,{margin:{top:2}},i.createElement(o.a,{ariaLabel:Object(a.d)("Confirm your password","SignupPasswordFormGroup"),"data-a-target":"signup-password-confirmation-input",onChange:this.props.onPasswordConfirmationChange,screen:this.props.screen,error:this.props.passwordConfirmationError&&!!this.props.passwordConfirmation,errorMessage:this.props.passwordConfirmationErrorMessage,password:this.props.passwordConfirmation,label:Object(a.d)("Confirm Password","SignupPasswordFormGroup"),target:s.f.PasswordConfirmation,validationIndicatorType:o.b.DefaultShowSuccess,isSuccess:this.isPasswordConfirmationMatch()})))},t.prototype.isPasswordConfirmationMatch=function(){return!(!this.props.password||!this.props.passwordConfirmation||this.props.password!==this.props.passwordConfirmation||this.props.passwordConfirmationError)},t}(i.PureComponent);n.d(t,"a",(function(){return u}))},wTtO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VerficationCodeUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:54}};n.loc.source={body:"query VerficationCodeUser {\ncurrentUser {\nid\nemail\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.VerficationCodeUser=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"VerficationCodeUser")},ykwd:function(e,t,n){},"zm+I":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,i=n("mrSG"),a=n("q1tI"),o=n("OMdY"),s=n("sUnt"),c=n("hnjF"),u=n("3aAs"),d=n("2nDl");!function(e){e.Alphanumeric="alphanumeric",e.Numeric="numeric"}(r||(r={}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.autoSubmit=function(){for(var e=0;e<n.state.values.length&&!isNaN(parseInt(n.state.values[e],10));e++)if(e===n.props.maxLength-1){n.props.onSubmit();break}},n.setRef=function(e,t){n.inputRefs[e]=t},n.state={values:Array(n.props.maxLength).fill("")},n.inputRefs=Array(n.props.maxLength).fill(null),n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){!Object(o.c)(this.state.values,t.values)&&(this.props.onChange(this.state.values.join("")),setTimeout(this.autoSubmit,0))},t.prototype.render=function(){var e=this;return a.createElement(s.a,{display:c.d.InlineFlex,ariaLabel:this.props.ariaLabel},this.state.values.map((function(t,n){return a.createElement(s.a,{key:n,padding:{right:n===e.props.maxLength-1?0:1}},a.createElement(u.a,{autoFocus:0===n,error:e.props.error,key:n,onChange:e.handleChange.bind(e,n),onKeyDown:e.onKeyDown.bind(e,n),refDelegate:e.setRef.bind(e,n),size:d.c.Large,textAlign:c.l.Center,type:u.c.Text,value:t}))})))},t.prototype.extractDigits=function(e){return(e.match(/\d+/g)||[]).join("")},t.prototype.extractAlphaNumeric=function(e){return e.replace(/[^a-z0-9]/gi,"")},t.prototype.handleChange=function(e,t){var n=this,a=this.props.verificationInputType===r.Alphanumeric?this.extractAlphaNumeric(t.target.value):this.extractDigits(t.target.value);if(a&&a!==this.state.values[e]){a.length===this.props.maxLength&&(e=0);var o=Object(i.__spreadArrays)(this.state.values);a.split("").forEach((function(t){e<n.props.maxLength&&(o[e]=t,e++)}));var s=this.inputRefs[Math.min(e,this.props.maxLength-1)];s&&s.focus(),this.setState({values:o})}},t.prototype.onKeyDown=function(e,t){if("Backspace"===t.key){this.updateValue(e,"");var n=e-1,r=this.inputRefs[n];r&&r.focus()}this.props.onKeyDown(t)},t.prototype.updateValue=function(e,t){var n=Object(i.__spreadArrays)(this.state.values);n[e]=t,this.setState({values:n})},t.defaultProps={maxLength:6},t}(a.PureComponent)}}]);